ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 1


   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"usb_lib.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.endp_callback_default,"ax",%progbits
  18              		.align	1
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  23              	endp_callback_default:
  24              	.LVL0:
  25              	.LFB39:
  26              		.file 1 "usb_lib.c"
   1:usb_lib.c     **** //12.11.2022: add default EP callbacks
   2:usb_lib.c     **** //24.07.2022: remove USB_Addr global variable; change usb types (u8->u16); add USB_ALIGN macro
   3:usb_lib.c     **** //21.07.2022: Add default EPn callback; change sub-interrupt order (EPn -> SOF -> other)
   4:usb_lib.c     **** 
   5:usb_lib.c     **** #include <stdint.h>
   6:usb_lib.c     **** #include "usb_lib.h"
   7:usb_lib.c     **** #include "pinmacro.h"
   8:usb_lib.c     **** #include "hardware.h"
   9:usb_lib.c     **** 
  10:usb_lib.c     **** #ifndef NULL
  11:usb_lib.c     ****   #define NULL ((void*)0)
  12:usb_lib.c     **** #endif
  13:usb_lib.c     **** 
  14:usb_lib.c     **** #define ZLPP ((void*)1)
  15:usb_lib.c     **** 
  16:usb_lib.c     **** //спасибо ST за наркоманскую работу с регистром!
  17:usb_lib.c     **** #define ENDP_STAT_RX(num, stat) do{USB_EPx(num) = ((USB_EPx(num) & ~(USB_EP_DTOG_RX | USB_EP_DTOG_T
  18:usb_lib.c     **** #define ENDP_STAT_TX(num, stat) do{USB_EPx(num) = ((USB_EPx(num) & ~(USB_EP_DTOG_RX | USB_EP_DTOG_T
  19:usb_lib.c     **** #define ENDP_DTOG_RX(num, dtog) do{USB_EPx(num) = ((USB_EPx(num) & ~(USB_EP_DTOG_TX | USB_EPRX_STAT
  20:usb_lib.c     **** #define ENDP_DTOG_TX(num, dtog) do{USB_EPx(num) = ((USB_EPx(num) & ~(USB_EP_DTOG_RX | USB_EPRX_STAT
  21:usb_lib.c     **** #define ENDP_CTR_RX_CLR(num) do{USB_EPx(num) = ((USB_EPx(num) & ~(USB_EP_DTOG_RX | USB_EP_DTOG_TX |
  22:usb_lib.c     **** #define ENDP_CTR_TX_CLR(num) do{USB_EPx(num) = ((USB_EPx(num) & ~(USB_EP_DTOG_RX | USB_EP_DTOG_TX |
  23:usb_lib.c     **** 
  24:usb_lib.c     **** #define STM32ENDPOINTS          8
  25:usb_lib.c     **** #define usb_epdata   ((volatile usb_epdata_t*)(USB_PMAADDR))
  26:usb_lib.c     **** #define LASTADDR_DEFAULT                (STM32ENDPOINTS * 8)
  27:usb_lib.c     **** 
  28:usb_lib.c     **** __attribute__((weak))void usb_class_init(){}
  29:usb_lib.c     **** __attribute__((weak))void usb_class_disconnect(){}
  30:usb_lib.c     **** __attribute__((weak))void usb_class_poll(){}
  31:usb_lib.c     **** __attribute__((weak))void usb_class_sof(){}
  32:usb_lib.c     **** __attribute__((weak))char usb_class_ep0_in(config_pack_t *req, void **data, uint16_t *size){return 
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 2


  33:usb_lib.c     **** __attribute__((weak))char usb_class_ep0_out(config_pack_t *req, uint16_t offset, uint16_t rx_size){
  34:usb_lib.c     **** 
  35:usb_lib.c     **** static void endp_callback_default(uint8_t epnum){}
  27              		.loc 1 35 49 view -0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              		@ link register save eliminated.
  32              		.loc 1 35 50 view .LVU1
  33 0000 7047     		bx	lr
  34              		.cfi_endproc
  35              	.LFE39:
  37              		.section	.text.usb_class_init,"ax",%progbits
  38              		.align	1
  39              		.weak	usb_class_init
  40              		.syntax unified
  41              		.thumb
  42              		.thumb_func
  44              	usb_class_init:
  45              	.LFB33:
  28:usb_lib.c     **** __attribute__((weak))void usb_class_disconnect(){}
  46              		.loc 1 28 43 view -0
  47              		.cfi_startproc
  48              		@ args = 0, pretend = 0, frame = 0
  49              		@ frame_needed = 0, uses_anonymous_args = 0
  50              		@ link register save eliminated.
  28:usb_lib.c     **** __attribute__((weak))void usb_class_disconnect(){}
  51              		.loc 1 28 44 view .LVU3
  52 0000 7047     		bx	lr
  53              		.cfi_endproc
  54              	.LFE33:
  56              		.section	.text.usb_class_disconnect,"ax",%progbits
  57              		.align	1
  58              		.weak	usb_class_disconnect
  59              		.syntax unified
  60              		.thumb
  61              		.thumb_func
  63              	usb_class_disconnect:
  64              	.LFB34:
  29:usb_lib.c     **** __attribute__((weak))void usb_class_poll(){}
  65              		.loc 1 29 49 view -0
  66              		.cfi_startproc
  67              		@ args = 0, pretend = 0, frame = 0
  68              		@ frame_needed = 0, uses_anonymous_args = 0
  69              		@ link register save eliminated.
  29:usb_lib.c     **** __attribute__((weak))void usb_class_poll(){}
  70              		.loc 1 29 50 view .LVU5
  71 0000 7047     		bx	lr
  72              		.cfi_endproc
  73              	.LFE34:
  75              		.section	.text.usb_class_poll,"ax",%progbits
  76              		.align	1
  77              		.weak	usb_class_poll
  78              		.syntax unified
  79              		.thumb
  80              		.thumb_func
  82              	usb_class_poll:
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 3


  83              	.LFB35:
  30:usb_lib.c     **** __attribute__((weak))void usb_class_sof(){}
  84              		.loc 1 30 43 view -0
  85              		.cfi_startproc
  86              		@ args = 0, pretend = 0, frame = 0
  87              		@ frame_needed = 0, uses_anonymous_args = 0
  88              		@ link register save eliminated.
  30:usb_lib.c     **** __attribute__((weak))void usb_class_sof(){}
  89              		.loc 1 30 44 view .LVU7
  90 0000 7047     		bx	lr
  91              		.cfi_endproc
  92              	.LFE35:
  94              		.section	.text.usb_class_sof,"ax",%progbits
  95              		.align	1
  96              		.weak	usb_class_sof
  97              		.syntax unified
  98              		.thumb
  99              		.thumb_func
 101              	usb_class_sof:
 102              	.LFB36:
  31:usb_lib.c     **** __attribute__((weak))char usb_class_ep0_in(config_pack_t *req, void **data, uint16_t *size){return 
 103              		.loc 1 31 42 view -0
 104              		.cfi_startproc
 105              		@ args = 0, pretend = 0, frame = 0
 106              		@ frame_needed = 0, uses_anonymous_args = 0
 107              		@ link register save eliminated.
  31:usb_lib.c     **** __attribute__((weak))char usb_class_ep0_in(config_pack_t *req, void **data, uint16_t *size){return 
 108              		.loc 1 31 43 view .LVU9
 109 0000 7047     		bx	lr
 110              		.cfi_endproc
 111              	.LFE36:
 113              		.section	.text.usb_class_ep0_in,"ax",%progbits
 114              		.align	1
 115              		.weak	usb_class_ep0_in
 116              		.syntax unified
 117              		.thumb
 118              		.thumb_func
 120              	usb_class_ep0_in:
 121              	.LVL1:
 122              	.LFB37:
  32:usb_lib.c     **** __attribute__((weak))char usb_class_ep0_out(config_pack_t *req, uint16_t offset, uint16_t rx_size){
 123              		.loc 1 32 92 view -0
 124              		.cfi_startproc
 125              		@ args = 0, pretend = 0, frame = 0
 126              		@ frame_needed = 0, uses_anonymous_args = 0
 127              		@ link register save eliminated.
  32:usb_lib.c     **** __attribute__((weak))char usb_class_ep0_out(config_pack_t *req, uint16_t offset, uint16_t rx_size){
 128              		.loc 1 32 93 view .LVU11
  32:usb_lib.c     **** __attribute__((weak))char usb_class_ep0_out(config_pack_t *req, uint16_t offset, uint16_t rx_size){
 129              		.loc 1 32 102 is_stmt 0 view .LVU12
 130 0000 0020     		movs	r0, #0
 131              	.LVL2:
  32:usb_lib.c     **** __attribute__((weak))char usb_class_ep0_out(config_pack_t *req, uint16_t offset, uint16_t rx_size){
 132              		.loc 1 32 102 view .LVU13
 133 0002 7047     		bx	lr
 134              		.cfi_endproc
 135              	.LFE37:
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 4


 137              		.section	.text.usb_class_ep0_out,"ax",%progbits
 138              		.align	1
 139              		.weak	usb_class_ep0_out
 140              		.syntax unified
 141              		.thumb
 142              		.thumb_func
 144              	usb_class_ep0_out:
 145              	.LVL3:
 146              	.LFB38:
  33:usb_lib.c     **** 
 147              		.loc 1 33 99 is_stmt 1 view -0
 148              		.cfi_startproc
 149              		@ args = 0, pretend = 0, frame = 0
 150              		@ frame_needed = 0, uses_anonymous_args = 0
 151              		@ link register save eliminated.
  33:usb_lib.c     **** 
 152              		.loc 1 33 100 view .LVU15
  33:usb_lib.c     **** 
 153              		.loc 1 33 109 is_stmt 0 view .LVU16
 154 0000 0020     		movs	r0, #0
 155              	.LVL4:
  33:usb_lib.c     **** 
 156              		.loc 1 33 109 view .LVU17
 157 0002 7047     		bx	lr
 158              		.cfi_endproc
 159              	.LFE38:
 161              		.section	.text.USB_setup,"ax",%progbits
 162              		.align	1
 163              		.global	USB_setup
 164              		.syntax unified
 165              		.thumb
 166              		.thumb_func
 168              	USB_setup:
 169              	.LFB40:
  36:usb_lib.c     **** 
  37:usb_lib.c     **** typedef struct{
  38:usb_lib.c     ****     volatile uint32_t usb_tx_addr;
  39:usb_lib.c     ****     volatile union{
  40:usb_lib.c     ****       uint32_t usb_tx_count; //SINGLE mode, TX count
  41:usb_lib.c     ****       struct{                //DOUBLE mode, RX struct
  42:usb_lib.c     ****         uint32_t tx_count:10;
  43:usb_lib.c     ****         uint32_t tx_num_blocks:5;
  44:usb_lib.c     ****         uint32_t tx_blocksize:1;
  45:usb_lib.c     ****       };
  46:usb_lib.c     ****     };
  47:usb_lib.c     ****     volatile uint32_t usb_rx_addr;
  48:usb_lib.c     ****     volatile union{
  49:usb_lib.c     ****       uint32_t usb_rx_count; //DOUBLE mode, TX count
  50:usb_lib.c     ****       struct{                //SINGLE mode, RX struct
  51:usb_lib.c     ****         uint32_t rx_count:10;
  52:usb_lib.c     ****         uint32_t rx_num_blocks:5;
  53:usb_lib.c     ****         uint32_t rx_blocksize:1;
  54:usb_lib.c     ****       };
  55:usb_lib.c     ****     };
  56:usb_lib.c     **** }usb_epdata_t;
  57:usb_lib.c     **** 
  58:usb_lib.c     **** epfunc_t epfunc_in[STM32ENDPOINTS];
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 5


  59:usb_lib.c     **** epfunc_t epfunc_out[STM32ENDPOINTS];
  60:usb_lib.c     **** 
  61:usb_lib.c     **** static config_pack_t setup_packet;
  62:usb_lib.c     **** 
  63:usb_lib.c     **** //USB_PULLUP may be defined in "hardware.h"
  64:usb_lib.c     **** 
  65:usb_lib.c     **** void USB_setup(){
 170              		.loc 1 65 17 is_stmt 1 view -0
 171              		.cfi_startproc
 172              		@ args = 0, pretend = 0, frame = 0
 173              		@ frame_needed = 0, uses_anonymous_args = 0
 174              		@ link register save eliminated.
  66:usb_lib.c     ****   RCC->APB1ENR |= RCC_APB1ENR_USBEN;
 175              		.loc 1 66 3 view .LVU19
 176              		.loc 1 66 16 is_stmt 0 view .LVU20
 177 0000 274A     		ldr	r2, .L15
 178 0002 D369     		ldr	r3, [r2, #28]
 179 0004 43F40003 		orr	r3, r3, #8388608
 180 0008 D361     		str	r3, [r2, #28]
  67:usb_lib.c     **** #ifdef SYSCFG_PMC_USB_PU
  68:usb_lib.c     ****   RCC->APB2ENR |= RCC_APB2ENR_SYSCFGEN;
  69:usb_lib.c     ****   SYSCFG->PMC &=~ SYSCFG_PMC_USB_PU;
  70:usb_lib.c     **** #elif defined USB_PULLUP
  71:usb_lib.c     ****   GPIO_config( USB_PULLUP );
  72:usb_lib.c     ****   GPO_OFF( USB_PULLUP );
  73:usb_lib.c     **** #elif defined EXTEN_USBD_PU_EN //compatibilyty with CH32F1 (thx Олег Свиридов, my_xfile
  74:usb_lib.c     ****   EXTEN->EXTEN_CTR &= ~EXTEN_USBD_PU_EN;
  75:usb_lib.c     **** #elif defined USB_DP
  76:usb_lib.c     ****   USB->CNTR = USB_CNTR_FRES; // Force USB Reset
 181              		.loc 1 76 3 is_stmt 1 view .LVU21
 182              		.loc 1 76 13 is_stmt 0 view .LVU22
 183 000a 264B     		ldr	r3, .L15+4
 184 000c 0122     		movs	r2, #1
 185 000e A3F84020 		strh	r2, [r3, #64]	@ movhi
  77:usb_lib.c     ****   USB->CNTR = USB_CNTR_PDWN;
 186              		.loc 1 77 3 is_stmt 1 view .LVU23
 187              		.loc 1 77 13 is_stmt 0 view .LVU24
 188 0012 0222     		movs	r2, #2
 189 0014 A3F84020 		strh	r2, [r3, #64]	@ movhi
  78:usb_lib.c     ****   GPIO_manual( USB_DP, GPIO_OD50 );
 190              		.loc 1 78 3 is_stmt 1 view .LVU25
 191              		.loc 1 78 3 view .LVU26
 192              		.loc 1 78 3 view .LVU27
 193              		.loc 1 78 3 view .LVU28
 194              	.LBB32:
 195              		.loc 1 78 3 view .LVU29
 196 0018 234A     		ldr	r2, .L15+8
 197 001a 5368     		ldr	r3, [r2, #4]
 198              	.LVL5:
 199              		.loc 1 78 3 view .LVU30
 200 001c 23F47023 		bic	r3, r3, #983040
 201              	.LVL6:
 202              		.loc 1 78 3 view .LVU31
 203 0020 43F4E023 		orr	r3, r3, #458752
 204              	.LVL7:
 205              		.loc 1 78 3 view .LVU32
 206 0024 5360     		str	r3, [r2, #4]
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 6


 207              	.LBE32:
 208              		.loc 1 78 3 view .LVU33
 209              		.loc 1 78 3 view .LVU34
 210              		.loc 1 78 3 view .LVU35
 211              		.loc 1 78 3 view .LVU36
  79:usb_lib.c     ****   GPO_OFF(USB_DP);
 212              		.loc 1 79 3 view .LVU37
 213              		.loc 1 79 3 view .LVU38
 214 0026 4FF08053 		mov	r3, #268435456
 215              	.LVL8:
 216              		.loc 1 79 3 is_stmt 0 view .LVU39
 217 002a 1361     		str	r3, [r2, #16]
 218              	.LVL9:
 219              		.loc 1 79 3 is_stmt 1 view .LVU40
  80:usb_lib.c     ****   for(uint32_t ctr = 0; ctr < 100000; ++ctr) asm volatile("nop"); // wait >1ms
 220              		.loc 1 80 3 view .LVU41
 221              	.LBB33:
 222              		.loc 1 80 7 view .LVU42
 223              		.loc 1 80 16 is_stmt 0 view .LVU43
 224 002c 0023     		movs	r3, #0
 225              		.loc 1 80 3 view .LVU44
 226 002e 01E0     		b	.L9
 227              	.LVL10:
 228              	.L10:
 229              		.loc 1 80 46 is_stmt 1 discriminator 3 view .LVU45
 230              		.syntax unified
 231              	@ 80 "usb_lib.c" 1
 232 0030 00BF     		nop
 233              	@ 0 "" 2
 234              		.loc 1 80 39 discriminator 3 view .LVU46
 235              		.thumb
 236              		.syntax unified
 237 0032 0133     		adds	r3, r3, #1
 238              	.LVL11:
 239              	.L9:
 240              		.loc 1 80 25 discriminator 1 view .LVU47
 241              		.loc 1 80 3 is_stmt 0 discriminator 1 view .LVU48
 242 0034 1D4A     		ldr	r2, .L15+12
 243 0036 9342     		cmp	r3, r2
 244 0038 FAD9     		bls	.L10
 245              	.LBE33:
  81:usb_lib.c     ****   GPIO_manual( USB_DP, GPIO_HIZ );
 246              		.loc 1 81 3 is_stmt 1 discriminator 2 view .LVU49
 247              		.loc 1 81 3 discriminator 2 view .LVU50
 248              		.loc 1 81 3 discriminator 2 view .LVU51
 249              		.loc 1 81 3 discriminator 2 view .LVU52
 250              	.LBB34:
 251              		.loc 1 81 3 discriminator 2 view .LVU53
 252 003a 1B4A     		ldr	r2, .L15+8
 253 003c 5368     		ldr	r3, [r2, #4]
 254              	.LVL12:
 255              		.loc 1 81 3 discriminator 2 view .LVU54
 256 003e 23F47023 		bic	r3, r3, #983040
 257              	.LVL13:
 258              		.loc 1 81 3 discriminator 2 view .LVU55
 259 0042 43F48023 		orr	r3, r3, #262144
 260              	.LVL14:
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 7


 261              		.loc 1 81 3 discriminator 2 view .LVU56
 262 0046 5360     		str	r3, [r2, #4]
 263              	.LBE34:
 264              		.loc 1 81 3 discriminator 2 view .LVU57
 265              		.loc 1 81 3 discriminator 2 view .LVU58
 266              		.loc 1 81 3 discriminator 2 view .LVU59
 267              		.loc 1 81 3 discriminator 2 view .LVU60
  82:usb_lib.c     **** #else
  83:usb_lib.c     ****   #warning USB_PULLUP undefined
  84:usb_lib.c     **** #endif
  85:usb_lib.c     **** 
  86:usb_lib.c     ****   USB->CNTR = USB_CNTR_FRES; // Force USB Reset
 268              		.loc 1 86 3 discriminator 2 view .LVU61
 269              		.loc 1 86 13 is_stmt 0 discriminator 2 view .LVU62
 270 0048 164B     		ldr	r3, .L15+4
 271              	.LVL15:
 272              		.loc 1 86 13 discriminator 2 view .LVU63
 273 004a 0122     		movs	r2, #1
 274              	.LVL16:
 275              		.loc 1 86 13 discriminator 2 view .LVU64
 276 004c A3F84020 		strh	r2, [r3, #64]	@ movhi
 277              	.LVL17:
  87:usb_lib.c     ****   //Initialization of callback functions (thx Олег Свиридов, my_xfiles@mail.ru)
  88:usb_lib.c     ****   for(uint8_t i=0; i<STM32ENDPOINTS; i++)epfunc_in[i] = epfunc_out[i] = endp_callback_default;
 278              		.loc 1 88 3 is_stmt 1 discriminator 2 view .LVU65
 279              	.LBB35:
 280              		.loc 1 88 7 discriminator 2 view .LVU66
 281              		.loc 1 88 15 is_stmt 0 discriminator 2 view .LVU67
 282 0050 0023     		movs	r3, #0
 283              		.loc 1 88 3 discriminator 2 view .LVU68
 284 0052 08E0     		b	.L11
 285              	.LVL18:
 286              	.L12:
 287              		.loc 1 88 42 is_stmt 1 discriminator 3 view .LVU69
 288              		.loc 1 88 71 is_stmt 0 discriminator 3 view .LVU70
 289 0054 164A     		ldr	r2, .L15+16
 290 0056 1749     		ldr	r1, .L15+20
 291 0058 41F82320 		str	r2, [r1, r3, lsl #2]
 292              		.loc 1 88 55 discriminator 3 view .LVU71
 293 005c 1649     		ldr	r1, .L15+24
 294 005e 41F82320 		str	r2, [r1, r3, lsl #2]
 295              		.loc 1 88 38 is_stmt 1 discriminator 3 view .LVU72
 296              		.loc 1 88 39 is_stmt 0 discriminator 3 view .LVU73
 297 0062 0133     		adds	r3, r3, #1
 298              	.LVL19:
 299              		.loc 1 88 39 discriminator 3 view .LVU74
 300 0064 DBB2     		uxtb	r3, r3
 301              	.LVL20:
 302              	.L11:
 303              		.loc 1 88 20 is_stmt 1 discriminator 1 view .LVU75
 304              		.loc 1 88 3 is_stmt 0 discriminator 1 view .LVU76
 305 0066 072B     		cmp	r3, #7
 306 0068 F4D9     		bls	.L12
 307              	.LBE35:
 308              	.LBB36:
  89:usb_lib.c     ****   for(uint32_t ctr = 0; ctr < 100000; ++ctr) asm volatile("nop"); // wait >1ms
 309              		.loc 1 89 16 view .LVU77
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 8


 310 006a 0023     		movs	r3, #0
 311              	.LVL21:
 312              		.loc 1 89 16 view .LVU78
 313 006c 01E0     		b	.L13
 314              	.LVL22:
 315              	.L14:
 316              		.loc 1 89 46 is_stmt 1 discriminator 3 view .LVU79
 317              		.syntax unified
 318              	@ 89 "usb_lib.c" 1
 319 006e 00BF     		nop
 320              	@ 0 "" 2
 321              		.loc 1 89 39 discriminator 3 view .LVU80
 322              		.thumb
 323              		.syntax unified
 324 0070 0133     		adds	r3, r3, #1
 325              	.LVL23:
 326              	.L13:
 327              		.loc 1 89 25 discriminator 1 view .LVU81
 328              		.loc 1 89 3 is_stmt 0 discriminator 1 view .LVU82
 329 0072 0E4A     		ldr	r2, .L15+12
 330 0074 9342     		cmp	r3, r2
 331 0076 FAD9     		bls	.L14
 332              	.LBE36:
  90:usb_lib.c     ****   USB->CNTR   = 0;
 333              		.loc 1 90 3 is_stmt 1 view .LVU83
 334              		.loc 1 90 15 is_stmt 0 view .LVU84
 335 0078 0A4B     		ldr	r3, .L15+4
 336              	.LVL24:
 337              		.loc 1 90 15 view .LVU85
 338 007a 0022     		movs	r2, #0
 339 007c A3F84020 		strh	r2, [r3, #64]	@ movhi
  91:usb_lib.c     ****   USB->BTABLE = 0;
 340              		.loc 1 91 3 is_stmt 1 view .LVU86
 341              		.loc 1 91 15 is_stmt 0 view .LVU87
 342 0080 A3F85020 		strh	r2, [r3, #80]	@ movhi
  92:usb_lib.c     ****   USB->DADDR  = 0;
 343              		.loc 1 92 3 is_stmt 1 view .LVU88
 344              		.loc 1 92 15 is_stmt 0 view .LVU89
 345 0084 A3F84C20 		strh	r2, [r3, #76]	@ movhi
  93:usb_lib.c     ****   USB->ISTR   = 0;
 346              		.loc 1 93 3 is_stmt 1 view .LVU90
 347              		.loc 1 93 15 is_stmt 0 view .LVU91
 348 0088 A3F84420 		strh	r2, [r3, #68]	@ movhi
  94:usb_lib.c     ****   USB->CNTR   = USB_CNTR_RESETM | USB_CNTR_WKUPM;
 349              		.loc 1 94 3 is_stmt 1 view .LVU92
 350              		.loc 1 94 15 is_stmt 0 view .LVU93
 351 008c 4FF4A052 		mov	r2, #5120
 352 0090 A3F84020 		strh	r2, [r3, #64]	@ movhi
  95:usb_lib.c     ****   NVIC_EnableIRQ(USB_LP_IRQn);
 353              		.loc 1 95 3 is_stmt 1 view .LVU94
 354              	.LVL25:
 355              	.LBB37:
 356              	.LBI37:
 357              		.file 2 "CMSIS/Inc/core_cm3.h"
   1:CMSIS/Inc/core_cm3.h **** /**************************************************************************//**
   2:CMSIS/Inc/core_cm3.h ****  * @file     core_cm3.h
   3:CMSIS/Inc/core_cm3.h ****  * @brief    CMSIS Cortex-M3 Core Peripheral Access Layer Header File
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 9


   4:CMSIS/Inc/core_cm3.h ****  * @version  V1.30
   5:CMSIS/Inc/core_cm3.h ****  * @date     30. October 2009
   6:CMSIS/Inc/core_cm3.h ****  *
   7:CMSIS/Inc/core_cm3.h ****  * @note
   8:CMSIS/Inc/core_cm3.h ****  * Copyright (C) 2009 ARM Limited. All rights reserved.
   9:CMSIS/Inc/core_cm3.h ****  *
  10:CMSIS/Inc/core_cm3.h ****  * @par
  11:CMSIS/Inc/core_cm3.h ****  * ARM Limited (ARM) is supplying this software for use with Cortex-M 
  12:CMSIS/Inc/core_cm3.h ****  * processor based microcontrollers.  This file can be freely distributed 
  13:CMSIS/Inc/core_cm3.h ****  * within development tools that are supporting such ARM based processors. 
  14:CMSIS/Inc/core_cm3.h ****  *
  15:CMSIS/Inc/core_cm3.h ****  * @par
  16:CMSIS/Inc/core_cm3.h ****  * THIS SOFTWARE IS PROVIDED "AS IS".  NO WARRANTIES, WHETHER EXPRESS, IMPLIED
  17:CMSIS/Inc/core_cm3.h ****  * OR STATUTORY, INCLUDING, BUT NOT LIMITED TO, IMPLIED WARRANTIES OF
  18:CMSIS/Inc/core_cm3.h ****  * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE APPLY TO THIS SOFTWARE.
  19:CMSIS/Inc/core_cm3.h ****  * ARM SHALL NOT, IN ANY CIRCUMSTANCES, BE LIABLE FOR SPECIAL, INCIDENTAL, OR
  20:CMSIS/Inc/core_cm3.h ****  * CONSEQUENTIAL DAMAGES, FOR ANY REASON WHATSOEVER.
  21:CMSIS/Inc/core_cm3.h ****  *
  22:CMSIS/Inc/core_cm3.h ****  ******************************************************************************/
  23:CMSIS/Inc/core_cm3.h **** 
  24:CMSIS/Inc/core_cm3.h **** #ifndef __CM3_CORE_H__
  25:CMSIS/Inc/core_cm3.h **** #define __CM3_CORE_H__
  26:CMSIS/Inc/core_cm3.h **** 
  27:CMSIS/Inc/core_cm3.h **** /** @addtogroup CMSIS_CM3_core_LintCinfiguration CMSIS CM3 Core Lint Configuration
  28:CMSIS/Inc/core_cm3.h ****  *
  29:CMSIS/Inc/core_cm3.h ****  * List of Lint messages which will be suppressed and not shown:
  30:CMSIS/Inc/core_cm3.h ****  *   - Error 10: \n
  31:CMSIS/Inc/core_cm3.h ****  *     register uint32_t __regBasePri         __asm("basepri"); \n
  32:CMSIS/Inc/core_cm3.h ****  *     Error 10: Expecting ';'
  33:CMSIS/Inc/core_cm3.h ****  * .
  34:CMSIS/Inc/core_cm3.h ****  *   - Error 530: \n
  35:CMSIS/Inc/core_cm3.h ****  *     return(__regBasePri); \n
  36:CMSIS/Inc/core_cm3.h ****  *     Warning 530: Symbol '__regBasePri' (line 264) not initialized
  37:CMSIS/Inc/core_cm3.h ****  * . 
  38:CMSIS/Inc/core_cm3.h ****  *   - Error 550: \n
  39:CMSIS/Inc/core_cm3.h ****  *     __regBasePri = (basePri & 0x1ff); \n
  40:CMSIS/Inc/core_cm3.h ****  *     Warning 550: Symbol '__regBasePri' (line 271) not accessed
  41:CMSIS/Inc/core_cm3.h ****  * .
  42:CMSIS/Inc/core_cm3.h ****  *   - Error 754: \n
  43:CMSIS/Inc/core_cm3.h ****  *     uint32_t RESERVED0[24]; \n
  44:CMSIS/Inc/core_cm3.h ****  *     Info 754: local structure member '<some, not used in the HAL>' (line 109, file ./cm3_core.h)
  45:CMSIS/Inc/core_cm3.h ****  * .
  46:CMSIS/Inc/core_cm3.h ****  *   - Error 750: \n
  47:CMSIS/Inc/core_cm3.h ****  *     #define __CM3_CORE_H__ \n
  48:CMSIS/Inc/core_cm3.h ****  *     Info 750: local macro '__CM3_CORE_H__' (line 43, file./cm3_core.h) not referenced
  49:CMSIS/Inc/core_cm3.h ****  * .
  50:CMSIS/Inc/core_cm3.h ****  *   - Error 528: \n
  51:CMSIS/Inc/core_cm3.h ****  *     static __INLINE void NVIC_DisableIRQ(uint32_t IRQn) \n
  52:CMSIS/Inc/core_cm3.h ****  *     Warning 528: Symbol 'NVIC_DisableIRQ(unsigned int)' (line 419, file ./cm3_core.h) not refere
  53:CMSIS/Inc/core_cm3.h ****  * .
  54:CMSIS/Inc/core_cm3.h ****  *   - Error 751: \n
  55:CMSIS/Inc/core_cm3.h ****  *     } InterruptType_Type; \n
  56:CMSIS/Inc/core_cm3.h ****  *     Info 751: local typedef 'InterruptType_Type' (line 170, file ./cm3_core.h) not referenced
  57:CMSIS/Inc/core_cm3.h ****  * .
  58:CMSIS/Inc/core_cm3.h ****  * Note:  To re-enable a Message, insert a space before 'lint' *
  59:CMSIS/Inc/core_cm3.h ****  *
  60:CMSIS/Inc/core_cm3.h ****  */
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 10


  61:CMSIS/Inc/core_cm3.h **** 
  62:CMSIS/Inc/core_cm3.h **** /*lint -save */
  63:CMSIS/Inc/core_cm3.h **** /*lint -e10  */
  64:CMSIS/Inc/core_cm3.h **** /*lint -e530 */
  65:CMSIS/Inc/core_cm3.h **** /*lint -e550 */
  66:CMSIS/Inc/core_cm3.h **** /*lint -e754 */
  67:CMSIS/Inc/core_cm3.h **** /*lint -e750 */
  68:CMSIS/Inc/core_cm3.h **** /*lint -e528 */
  69:CMSIS/Inc/core_cm3.h **** /*lint -e751 */
  70:CMSIS/Inc/core_cm3.h **** 
  71:CMSIS/Inc/core_cm3.h **** 
  72:CMSIS/Inc/core_cm3.h **** /** @addtogroup CMSIS_CM3_core_definitions CM3 Core Definitions
  73:CMSIS/Inc/core_cm3.h ****   This file defines all structures and symbols for CMSIS core:
  74:CMSIS/Inc/core_cm3.h ****     - CMSIS version number
  75:CMSIS/Inc/core_cm3.h ****     - Cortex-M core registers and bitfields
  76:CMSIS/Inc/core_cm3.h ****     - Cortex-M core peripheral base address
  77:CMSIS/Inc/core_cm3.h ****   @{
  78:CMSIS/Inc/core_cm3.h ****  */
  79:CMSIS/Inc/core_cm3.h **** 
  80:CMSIS/Inc/core_cm3.h **** #ifdef __cplusplus
  81:CMSIS/Inc/core_cm3.h ****  extern "C" {
  82:CMSIS/Inc/core_cm3.h **** #endif 
  83:CMSIS/Inc/core_cm3.h **** 
  84:CMSIS/Inc/core_cm3.h **** #define __CM3_CMSIS_VERSION_MAIN  (0x01)                                                       /*!<
  85:CMSIS/Inc/core_cm3.h **** #define __CM3_CMSIS_VERSION_SUB   (0x30)                                                       /*!<
  86:CMSIS/Inc/core_cm3.h **** #define __CM3_CMSIS_VERSION       ((__CM3_CMSIS_VERSION_MAIN << 16) | __CM3_CMSIS_VERSION_SUB) /*!<
  87:CMSIS/Inc/core_cm3.h **** 
  88:CMSIS/Inc/core_cm3.h **** #define __CORTEX_M                (0x03)                                                       /*!<
  89:CMSIS/Inc/core_cm3.h **** 
  90:CMSIS/Inc/core_cm3.h **** #include <stdint.h>                           /* Include standard types */
  91:CMSIS/Inc/core_cm3.h **** 
  92:CMSIS/Inc/core_cm3.h **** #if defined (__ICCARM__)
  93:CMSIS/Inc/core_cm3.h ****   #include <intrinsics.h>                     /* IAR Intrinsics   */
  94:CMSIS/Inc/core_cm3.h **** #endif
  95:CMSIS/Inc/core_cm3.h **** 
  96:CMSIS/Inc/core_cm3.h **** 
  97:CMSIS/Inc/core_cm3.h **** #ifndef __NVIC_PRIO_BITS
  98:CMSIS/Inc/core_cm3.h ****   #define __NVIC_PRIO_BITS    4               /*!< standard definition for NVIC Priority Bits */
  99:CMSIS/Inc/core_cm3.h **** #endif
 100:CMSIS/Inc/core_cm3.h **** 
 101:CMSIS/Inc/core_cm3.h **** 
 102:CMSIS/Inc/core_cm3.h **** 
 103:CMSIS/Inc/core_cm3.h **** 
 104:CMSIS/Inc/core_cm3.h **** /**
 105:CMSIS/Inc/core_cm3.h ****  * IO definitions
 106:CMSIS/Inc/core_cm3.h ****  *
 107:CMSIS/Inc/core_cm3.h ****  * define access restrictions to peripheral registers
 108:CMSIS/Inc/core_cm3.h ****  */
 109:CMSIS/Inc/core_cm3.h **** 
 110:CMSIS/Inc/core_cm3.h **** #ifdef __cplusplus
 111:CMSIS/Inc/core_cm3.h ****   #define     __I     volatile                /*!< defines 'read only' permissions      */
 112:CMSIS/Inc/core_cm3.h **** #else
 113:CMSIS/Inc/core_cm3.h ****   #define     __I     volatile const          /*!< defines 'read only' permissions      */
 114:CMSIS/Inc/core_cm3.h **** #endif
 115:CMSIS/Inc/core_cm3.h **** #define     __O     volatile                  /*!< defines 'write only' permissions     */
 116:CMSIS/Inc/core_cm3.h **** #define     __IO    volatile                  /*!< defines 'read / write' permissions   */
 117:CMSIS/Inc/core_cm3.h **** 
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 11


 118:CMSIS/Inc/core_cm3.h **** 
 119:CMSIS/Inc/core_cm3.h **** 
 120:CMSIS/Inc/core_cm3.h **** /*******************************************************************************
 121:CMSIS/Inc/core_cm3.h ****  *                 Register Abstraction
 122:CMSIS/Inc/core_cm3.h ****  ******************************************************************************/
 123:CMSIS/Inc/core_cm3.h **** /** @addtogroup CMSIS_CM3_core_register CMSIS CM3 Core Register
 124:CMSIS/Inc/core_cm3.h ****  @{
 125:CMSIS/Inc/core_cm3.h **** */
 126:CMSIS/Inc/core_cm3.h **** 
 127:CMSIS/Inc/core_cm3.h **** 
 128:CMSIS/Inc/core_cm3.h **** /** @addtogroup CMSIS_CM3_NVIC CMSIS CM3 NVIC
 129:CMSIS/Inc/core_cm3.h ****   memory mapped structure for Nested Vectored Interrupt Controller (NVIC)
 130:CMSIS/Inc/core_cm3.h ****   @{
 131:CMSIS/Inc/core_cm3.h ****  */
 132:CMSIS/Inc/core_cm3.h **** typedef struct
 133:CMSIS/Inc/core_cm3.h **** {
 134:CMSIS/Inc/core_cm3.h ****   __IO uint32_t ISER[8];                      /*!< Offset: 0x000  Interrupt Set Enable Register    
 135:CMSIS/Inc/core_cm3.h ****        uint32_t RESERVED0[24];                                   
 136:CMSIS/Inc/core_cm3.h ****   __IO uint32_t ICER[8];                      /*!< Offset: 0x080  Interrupt Clear Enable Register  
 137:CMSIS/Inc/core_cm3.h ****        uint32_t RSERVED1[24];                                    
 138:CMSIS/Inc/core_cm3.h ****   __IO uint32_t ISPR[8];                      /*!< Offset: 0x100  Interrupt Set Pending Register   
 139:CMSIS/Inc/core_cm3.h ****        uint32_t RESERVED2[24];                                   
 140:CMSIS/Inc/core_cm3.h ****   __IO uint32_t ICPR[8];                      /*!< Offset: 0x180  Interrupt Clear Pending Register 
 141:CMSIS/Inc/core_cm3.h ****        uint32_t RESERVED3[24];                                   
 142:CMSIS/Inc/core_cm3.h ****   __IO uint32_t IABR[8];                      /*!< Offset: 0x200  Interrupt Active bit Register    
 143:CMSIS/Inc/core_cm3.h ****        uint32_t RESERVED4[56];                                   
 144:CMSIS/Inc/core_cm3.h ****   __IO uint8_t  IP[240];                      /*!< Offset: 0x300  Interrupt Priority Register (8Bit
 145:CMSIS/Inc/core_cm3.h ****        uint32_t RESERVED5[644];                                  
 146:CMSIS/Inc/core_cm3.h ****   __O  uint32_t STIR;                         /*!< Offset: 0xE00  Software Trigger Interrupt Regist
 147:CMSIS/Inc/core_cm3.h **** }  NVIC_Type;                                               
 148:CMSIS/Inc/core_cm3.h **** /*@}*/ /* end of group CMSIS_CM3_NVIC */
 149:CMSIS/Inc/core_cm3.h **** 
 150:CMSIS/Inc/core_cm3.h **** 
 151:CMSIS/Inc/core_cm3.h **** /** @addtogroup CMSIS_CM3_SCB CMSIS CM3 SCB
 152:CMSIS/Inc/core_cm3.h ****   memory mapped structure for System Control Block (SCB)
 153:CMSIS/Inc/core_cm3.h ****   @{
 154:CMSIS/Inc/core_cm3.h ****  */
 155:CMSIS/Inc/core_cm3.h **** typedef struct
 156:CMSIS/Inc/core_cm3.h **** {
 157:CMSIS/Inc/core_cm3.h ****   __I  uint32_t CPUID;                        /*!< Offset: 0x00  CPU ID Base Register              
 158:CMSIS/Inc/core_cm3.h ****   __IO uint32_t ICSR;                         /*!< Offset: 0x04  Interrupt Control State Register  
 159:CMSIS/Inc/core_cm3.h ****   __IO uint32_t VTOR;                         /*!< Offset: 0x08  Vector Table Offset Register      
 160:CMSIS/Inc/core_cm3.h ****   __IO uint32_t AIRCR;                        /*!< Offset: 0x0C  Application Interrupt / Reset Cont
 161:CMSIS/Inc/core_cm3.h ****   __IO uint32_t SCR;                          /*!< Offset: 0x10  System Control Register           
 162:CMSIS/Inc/core_cm3.h ****   __IO uint32_t CCR;                          /*!< Offset: 0x14  Configuration Control Register    
 163:CMSIS/Inc/core_cm3.h ****   __IO uint8_t  SHP[12];                      /*!< Offset: 0x18  System Handlers Priority Registers
 164:CMSIS/Inc/core_cm3.h ****   __IO uint32_t SHCSR;                        /*!< Offset: 0x24  System Handler Control and State R
 165:CMSIS/Inc/core_cm3.h ****   __IO uint32_t CFSR;                         /*!< Offset: 0x28  Configurable Fault Status Register
 166:CMSIS/Inc/core_cm3.h ****   __IO uint32_t HFSR;                         /*!< Offset: 0x2C  Hard Fault Status Register        
 167:CMSIS/Inc/core_cm3.h ****   __IO uint32_t DFSR;                         /*!< Offset: 0x30  Debug Fault Status Register       
 168:CMSIS/Inc/core_cm3.h ****   __IO uint32_t MMFAR;                        /*!< Offset: 0x34  Mem Manage Address Register       
 169:CMSIS/Inc/core_cm3.h ****   __IO uint32_t BFAR;                         /*!< Offset: 0x38  Bus Fault Address Register        
 170:CMSIS/Inc/core_cm3.h ****   __IO uint32_t AFSR;                         /*!< Offset: 0x3C  Auxiliary Fault Status Register   
 171:CMSIS/Inc/core_cm3.h ****   __I  uint32_t PFR[2];                       /*!< Offset: 0x40  Processor Feature Register        
 172:CMSIS/Inc/core_cm3.h ****   __I  uint32_t DFR;                          /*!< Offset: 0x48  Debug Feature Register            
 173:CMSIS/Inc/core_cm3.h ****   __I  uint32_t ADR;                          /*!< Offset: 0x4C  Auxiliary Feature Register        
 174:CMSIS/Inc/core_cm3.h ****   __I  uint32_t MMFR[4];                      /*!< Offset: 0x50  Memory Model Feature Register     
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 12


 175:CMSIS/Inc/core_cm3.h ****   __I  uint32_t ISAR[5];                      /*!< Offset: 0x60  ISA Feature Register              
 176:CMSIS/Inc/core_cm3.h **** } SCB_Type;                                                
 177:CMSIS/Inc/core_cm3.h **** 
 178:CMSIS/Inc/core_cm3.h **** /* SCB CPUID Register Definitions */
 179:CMSIS/Inc/core_cm3.h **** #define SCB_CPUID_IMPLEMENTER_Pos          24                                             /*!< SCB 
 180:CMSIS/Inc/core_cm3.h **** #define SCB_CPUID_IMPLEMENTER_Msk          (0xFFul << SCB_CPUID_IMPLEMENTER_Pos)          /*!< SCB 
 181:CMSIS/Inc/core_cm3.h **** 
 182:CMSIS/Inc/core_cm3.h **** #define SCB_CPUID_VARIANT_Pos              20                                             /*!< SCB 
 183:CMSIS/Inc/core_cm3.h **** #define SCB_CPUID_VARIANT_Msk              (0xFul << SCB_CPUID_VARIANT_Pos)               /*!< SCB 
 184:CMSIS/Inc/core_cm3.h **** 
 185:CMSIS/Inc/core_cm3.h **** #define SCB_CPUID_PARTNO_Pos                4                                             /*!< SCB 
 186:CMSIS/Inc/core_cm3.h **** #define SCB_CPUID_PARTNO_Msk               (0xFFFul << SCB_CPUID_PARTNO_Pos)              /*!< SCB 
 187:CMSIS/Inc/core_cm3.h **** 
 188:CMSIS/Inc/core_cm3.h **** #define SCB_CPUID_REVISION_Pos              0                                             /*!< SCB 
 189:CMSIS/Inc/core_cm3.h **** #define SCB_CPUID_REVISION_Msk             (0xFul << SCB_CPUID_REVISION_Pos)              /*!< SCB 
 190:CMSIS/Inc/core_cm3.h **** 
 191:CMSIS/Inc/core_cm3.h **** /* SCB Interrupt Control State Register Definitions */
 192:CMSIS/Inc/core_cm3.h **** #define SCB_ICSR_NMIPENDSET_Pos            31                                             /*!< SCB 
 193:CMSIS/Inc/core_cm3.h **** #define SCB_ICSR_NMIPENDSET_Msk            (1ul << SCB_ICSR_NMIPENDSET_Pos)               /*!< SCB 
 194:CMSIS/Inc/core_cm3.h **** 
 195:CMSIS/Inc/core_cm3.h **** #define SCB_ICSR_PENDSVSET_Pos             28                                             /*!< SCB 
 196:CMSIS/Inc/core_cm3.h **** #define SCB_ICSR_PENDSVSET_Msk             (1ul << SCB_ICSR_PENDSVSET_Pos)                /*!< SCB 
 197:CMSIS/Inc/core_cm3.h **** 
 198:CMSIS/Inc/core_cm3.h **** #define SCB_ICSR_PENDSVCLR_Pos             27                                             /*!< SCB 
 199:CMSIS/Inc/core_cm3.h **** #define SCB_ICSR_PENDSVCLR_Msk             (1ul << SCB_ICSR_PENDSVCLR_Pos)                /*!< SCB 
 200:CMSIS/Inc/core_cm3.h **** 
 201:CMSIS/Inc/core_cm3.h **** #define SCB_ICSR_PENDSTSET_Pos             26                                             /*!< SCB 
 202:CMSIS/Inc/core_cm3.h **** #define SCB_ICSR_PENDSTSET_Msk             (1ul << SCB_ICSR_PENDSTSET_Pos)                /*!< SCB 
 203:CMSIS/Inc/core_cm3.h **** 
 204:CMSIS/Inc/core_cm3.h **** #define SCB_ICSR_PENDSTCLR_Pos             25                                             /*!< SCB 
 205:CMSIS/Inc/core_cm3.h **** #define SCB_ICSR_PENDSTCLR_Msk             (1ul << SCB_ICSR_PENDSTCLR_Pos)                /*!< SCB 
 206:CMSIS/Inc/core_cm3.h **** 
 207:CMSIS/Inc/core_cm3.h **** #define SCB_ICSR_ISRPREEMPT_Pos            23                                             /*!< SCB 
 208:CMSIS/Inc/core_cm3.h **** #define SCB_ICSR_ISRPREEMPT_Msk            (1ul << SCB_ICSR_ISRPREEMPT_Pos)               /*!< SCB 
 209:CMSIS/Inc/core_cm3.h **** 
 210:CMSIS/Inc/core_cm3.h **** #define SCB_ICSR_ISRPENDING_Pos            22                                             /*!< SCB 
 211:CMSIS/Inc/core_cm3.h **** #define SCB_ICSR_ISRPENDING_Msk            (1ul << SCB_ICSR_ISRPENDING_Pos)               /*!< SCB 
 212:CMSIS/Inc/core_cm3.h **** 
 213:CMSIS/Inc/core_cm3.h **** #define SCB_ICSR_VECTPENDING_Pos           12                                             /*!< SCB 
 214:CMSIS/Inc/core_cm3.h **** #define SCB_ICSR_VECTPENDING_Msk           (0x1FFul << SCB_ICSR_VECTPENDING_Pos)          /*!< SCB 
 215:CMSIS/Inc/core_cm3.h **** 
 216:CMSIS/Inc/core_cm3.h **** #define SCB_ICSR_RETTOBASE_Pos             11                                             /*!< SCB 
 217:CMSIS/Inc/core_cm3.h **** #define SCB_ICSR_RETTOBASE_Msk             (1ul << SCB_ICSR_RETTOBASE_Pos)                /*!< SCB 
 218:CMSIS/Inc/core_cm3.h **** 
 219:CMSIS/Inc/core_cm3.h **** #define SCB_ICSR_VECTACTIVE_Pos             0                                             /*!< SCB 
 220:CMSIS/Inc/core_cm3.h **** #define SCB_ICSR_VECTACTIVE_Msk            (0x1FFul << SCB_ICSR_VECTACTIVE_Pos)           /*!< SCB 
 221:CMSIS/Inc/core_cm3.h **** 
 222:CMSIS/Inc/core_cm3.h **** /* SCB Interrupt Control State Register Definitions */
 223:CMSIS/Inc/core_cm3.h **** #define SCB_VTOR_TBLBASE_Pos               29                                             /*!< SCB 
 224:CMSIS/Inc/core_cm3.h **** #define SCB_VTOR_TBLBASE_Msk               (0x1FFul << SCB_VTOR_TBLBASE_Pos)              /*!< SCB 
 225:CMSIS/Inc/core_cm3.h **** 
 226:CMSIS/Inc/core_cm3.h **** #define SCB_VTOR_TBLOFF_Pos                 7                                             /*!< SCB 
 227:CMSIS/Inc/core_cm3.h **** #define SCB_VTOR_TBLOFF_Msk                (0x3FFFFFul << SCB_VTOR_TBLOFF_Pos)            /*!< SCB 
 228:CMSIS/Inc/core_cm3.h **** 
 229:CMSIS/Inc/core_cm3.h **** /* SCB Application Interrupt and Reset Control Register Definitions */
 230:CMSIS/Inc/core_cm3.h **** #define SCB_AIRCR_VECTKEY_Pos              16                                             /*!< SCB 
 231:CMSIS/Inc/core_cm3.h **** #define SCB_AIRCR_VECTKEY_Msk              (0xFFFFul << SCB_AIRCR_VECTKEY_Pos)            /*!< SCB 
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 13


 232:CMSIS/Inc/core_cm3.h **** 
 233:CMSIS/Inc/core_cm3.h **** #define SCB_AIRCR_VECTKEYSTAT_Pos          16                                             /*!< SCB 
 234:CMSIS/Inc/core_cm3.h **** #define SCB_AIRCR_VECTKEYSTAT_Msk          (0xFFFFul << SCB_AIRCR_VECTKEYSTAT_Pos)        /*!< SCB 
 235:CMSIS/Inc/core_cm3.h **** 
 236:CMSIS/Inc/core_cm3.h **** #define SCB_AIRCR_ENDIANESS_Pos            15                                             /*!< SCB 
 237:CMSIS/Inc/core_cm3.h **** #define SCB_AIRCR_ENDIANESS_Msk            (1ul << SCB_AIRCR_ENDIANESS_Pos)               /*!< SCB 
 238:CMSIS/Inc/core_cm3.h **** 
 239:CMSIS/Inc/core_cm3.h **** #define SCB_AIRCR_PRIGROUP_Pos              8                                             /*!< SCB 
 240:CMSIS/Inc/core_cm3.h **** #define SCB_AIRCR_PRIGROUP_Msk             (7ul << SCB_AIRCR_PRIGROUP_Pos)                /*!< SCB 
 241:CMSIS/Inc/core_cm3.h **** 
 242:CMSIS/Inc/core_cm3.h **** #define SCB_AIRCR_SYSRESETREQ_Pos           2                                             /*!< SCB 
 243:CMSIS/Inc/core_cm3.h **** #define SCB_AIRCR_SYSRESETREQ_Msk          (1ul << SCB_AIRCR_SYSRESETREQ_Pos)             /*!< SCB 
 244:CMSIS/Inc/core_cm3.h **** 
 245:CMSIS/Inc/core_cm3.h **** #define SCB_AIRCR_VECTCLRACTIVE_Pos         1                                             /*!< SCB 
 246:CMSIS/Inc/core_cm3.h **** #define SCB_AIRCR_VECTCLRACTIVE_Msk        (1ul << SCB_AIRCR_VECTCLRACTIVE_Pos)           /*!< SCB 
 247:CMSIS/Inc/core_cm3.h **** 
 248:CMSIS/Inc/core_cm3.h **** #define SCB_AIRCR_VECTRESET_Pos             0                                             /*!< SCB 
 249:CMSIS/Inc/core_cm3.h **** #define SCB_AIRCR_VECTRESET_Msk            (1ul << SCB_AIRCR_VECTRESET_Pos)               /*!< SCB 
 250:CMSIS/Inc/core_cm3.h **** 
 251:CMSIS/Inc/core_cm3.h **** /* SCB System Control Register Definitions */
 252:CMSIS/Inc/core_cm3.h **** #define SCB_SCR_SEVONPEND_Pos               4                                             /*!< SCB 
 253:CMSIS/Inc/core_cm3.h **** #define SCB_SCR_SEVONPEND_Msk              (1ul << SCB_SCR_SEVONPEND_Pos)                 /*!< SCB 
 254:CMSIS/Inc/core_cm3.h **** 
 255:CMSIS/Inc/core_cm3.h **** #define SCB_SCR_SLEEPDEEP_Pos               2                                             /*!< SCB 
 256:CMSIS/Inc/core_cm3.h **** #define SCB_SCR_SLEEPDEEP_Msk              (1ul << SCB_SCR_SLEEPDEEP_Pos)                 /*!< SCB 
 257:CMSIS/Inc/core_cm3.h **** 
 258:CMSIS/Inc/core_cm3.h **** #define SCB_SCR_SLEEPONEXIT_Pos             1                                             /*!< SCB 
 259:CMSIS/Inc/core_cm3.h **** #define SCB_SCR_SLEEPONEXIT_Msk            (1ul << SCB_SCR_SLEEPONEXIT_Pos)               /*!< SCB 
 260:CMSIS/Inc/core_cm3.h **** 
 261:CMSIS/Inc/core_cm3.h **** /* SCB Configuration Control Register Definitions */
 262:CMSIS/Inc/core_cm3.h **** #define SCB_CCR_STKALIGN_Pos                9                                             /*!< SCB 
 263:CMSIS/Inc/core_cm3.h **** #define SCB_CCR_STKALIGN_Msk               (1ul << SCB_CCR_STKALIGN_Pos)                  /*!< SCB 
 264:CMSIS/Inc/core_cm3.h **** 
 265:CMSIS/Inc/core_cm3.h **** #define SCB_CCR_BFHFNMIGN_Pos               8                                             /*!< SCB 
 266:CMSIS/Inc/core_cm3.h **** #define SCB_CCR_BFHFNMIGN_Msk              (1ul << SCB_CCR_BFHFNMIGN_Pos)                 /*!< SCB 
 267:CMSIS/Inc/core_cm3.h **** 
 268:CMSIS/Inc/core_cm3.h **** #define SCB_CCR_DIV_0_TRP_Pos               4                                             /*!< SCB 
 269:CMSIS/Inc/core_cm3.h **** #define SCB_CCR_DIV_0_TRP_Msk              (1ul << SCB_CCR_DIV_0_TRP_Pos)                 /*!< SCB 
 270:CMSIS/Inc/core_cm3.h **** 
 271:CMSIS/Inc/core_cm3.h **** #define SCB_CCR_UNALIGN_TRP_Pos             3                                             /*!< SCB 
 272:CMSIS/Inc/core_cm3.h **** #define SCB_CCR_UNALIGN_TRP_Msk            (1ul << SCB_CCR_UNALIGN_TRP_Pos)               /*!< SCB 
 273:CMSIS/Inc/core_cm3.h **** 
 274:CMSIS/Inc/core_cm3.h **** #define SCB_CCR_USERSETMPEND_Pos            1                                             /*!< SCB 
 275:CMSIS/Inc/core_cm3.h **** #define SCB_CCR_USERSETMPEND_Msk           (1ul << SCB_CCR_USERSETMPEND_Pos)              /*!< SCB 
 276:CMSIS/Inc/core_cm3.h **** 
 277:CMSIS/Inc/core_cm3.h **** #define SCB_CCR_NONBASETHRDENA_Pos          0                                             /*!< SCB 
 278:CMSIS/Inc/core_cm3.h **** #define SCB_CCR_NONBASETHRDENA_Msk         (1ul << SCB_CCR_NONBASETHRDENA_Pos)            /*!< SCB 
 279:CMSIS/Inc/core_cm3.h **** 
 280:CMSIS/Inc/core_cm3.h **** /* SCB System Handler Control and State Register Definitions */
 281:CMSIS/Inc/core_cm3.h **** #define SCB_SHCSR_USGFAULTENA_Pos          18                                             /*!< SCB 
 282:CMSIS/Inc/core_cm3.h **** #define SCB_SHCSR_USGFAULTENA_Msk          (1ul << SCB_SHCSR_USGFAULTENA_Pos)             /*!< SCB 
 283:CMSIS/Inc/core_cm3.h **** 
 284:CMSIS/Inc/core_cm3.h **** #define SCB_SHCSR_BUSFAULTENA_Pos          17                                             /*!< SCB 
 285:CMSIS/Inc/core_cm3.h **** #define SCB_SHCSR_BUSFAULTENA_Msk          (1ul << SCB_SHCSR_BUSFAULTENA_Pos)             /*!< SCB 
 286:CMSIS/Inc/core_cm3.h **** 
 287:CMSIS/Inc/core_cm3.h **** #define SCB_SHCSR_MEMFAULTENA_Pos          16                                             /*!< SCB 
 288:CMSIS/Inc/core_cm3.h **** #define SCB_SHCSR_MEMFAULTENA_Msk          (1ul << SCB_SHCSR_MEMFAULTENA_Pos)             /*!< SCB 
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 14


 289:CMSIS/Inc/core_cm3.h **** 
 290:CMSIS/Inc/core_cm3.h **** #define SCB_SHCSR_SVCALLPENDED_Pos         15                                             /*!< SCB 
 291:CMSIS/Inc/core_cm3.h **** #define SCB_SHCSR_SVCALLPENDED_Msk         (1ul << SCB_SHCSR_SVCALLPENDED_Pos)            /*!< SCB 
 292:CMSIS/Inc/core_cm3.h **** 
 293:CMSIS/Inc/core_cm3.h **** #define SCB_SHCSR_BUSFAULTPENDED_Pos       14                                             /*!< SCB 
 294:CMSIS/Inc/core_cm3.h **** #define SCB_SHCSR_BUSFAULTPENDED_Msk       (1ul << SCB_SHCSR_BUSFAULTPENDED_Pos)          /*!< SCB 
 295:CMSIS/Inc/core_cm3.h **** 
 296:CMSIS/Inc/core_cm3.h **** #define SCB_SHCSR_MEMFAULTPENDED_Pos       13                                             /*!< SCB 
 297:CMSIS/Inc/core_cm3.h **** #define SCB_SHCSR_MEMFAULTPENDED_Msk       (1ul << SCB_SHCSR_MEMFAULTPENDED_Pos)          /*!< SCB 
 298:CMSIS/Inc/core_cm3.h **** 
 299:CMSIS/Inc/core_cm3.h **** #define SCB_SHCSR_USGFAULTPENDED_Pos       12                                             /*!< SCB 
 300:CMSIS/Inc/core_cm3.h **** #define SCB_SHCSR_USGFAULTPENDED_Msk       (1ul << SCB_SHCSR_USGFAULTPENDED_Pos)          /*!< SCB 
 301:CMSIS/Inc/core_cm3.h **** 
 302:CMSIS/Inc/core_cm3.h **** #define SCB_SHCSR_SYSTICKACT_Pos           11                                             /*!< SCB 
 303:CMSIS/Inc/core_cm3.h **** #define SCB_SHCSR_SYSTICKACT_Msk           (1ul << SCB_SHCSR_SYSTICKACT_Pos)              /*!< SCB 
 304:CMSIS/Inc/core_cm3.h **** 
 305:CMSIS/Inc/core_cm3.h **** #define SCB_SHCSR_PENDSVACT_Pos            10                                             /*!< SCB 
 306:CMSIS/Inc/core_cm3.h **** #define SCB_SHCSR_PENDSVACT_Msk            (1ul << SCB_SHCSR_PENDSVACT_Pos)               /*!< SCB 
 307:CMSIS/Inc/core_cm3.h **** 
 308:CMSIS/Inc/core_cm3.h **** #define SCB_SHCSR_MONITORACT_Pos            8                                             /*!< SCB 
 309:CMSIS/Inc/core_cm3.h **** #define SCB_SHCSR_MONITORACT_Msk           (1ul << SCB_SHCSR_MONITORACT_Pos)              /*!< SCB 
 310:CMSIS/Inc/core_cm3.h **** 
 311:CMSIS/Inc/core_cm3.h **** #define SCB_SHCSR_SVCALLACT_Pos             7                                             /*!< SCB 
 312:CMSIS/Inc/core_cm3.h **** #define SCB_SHCSR_SVCALLACT_Msk            (1ul << SCB_SHCSR_SVCALLACT_Pos)               /*!< SCB 
 313:CMSIS/Inc/core_cm3.h ****                                      
 314:CMSIS/Inc/core_cm3.h **** #define SCB_SHCSR_USGFAULTACT_Pos           3                                             /*!< SCB 
 315:CMSIS/Inc/core_cm3.h **** #define SCB_SHCSR_USGFAULTACT_Msk          (1ul << SCB_SHCSR_USGFAULTACT_Pos)             /*!< SCB 
 316:CMSIS/Inc/core_cm3.h **** 
 317:CMSIS/Inc/core_cm3.h **** #define SCB_SHCSR_BUSFAULTACT_Pos           1                                             /*!< SCB 
 318:CMSIS/Inc/core_cm3.h **** #define SCB_SHCSR_BUSFAULTACT_Msk          (1ul << SCB_SHCSR_BUSFAULTACT_Pos)             /*!< SCB 
 319:CMSIS/Inc/core_cm3.h **** 
 320:CMSIS/Inc/core_cm3.h **** #define SCB_SHCSR_MEMFAULTACT_Pos           0                                             /*!< SCB 
 321:CMSIS/Inc/core_cm3.h **** #define SCB_SHCSR_MEMFAULTACT_Msk          (1ul << SCB_SHCSR_MEMFAULTACT_Pos)             /*!< SCB 
 322:CMSIS/Inc/core_cm3.h **** 
 323:CMSIS/Inc/core_cm3.h **** /* SCB Configurable Fault Status Registers Definitions */
 324:CMSIS/Inc/core_cm3.h **** #define SCB_CFSR_USGFAULTSR_Pos            16                                             /*!< SCB 
 325:CMSIS/Inc/core_cm3.h **** #define SCB_CFSR_USGFAULTSR_Msk            (0xFFFFul << SCB_CFSR_USGFAULTSR_Pos)          /*!< SCB 
 326:CMSIS/Inc/core_cm3.h **** 
 327:CMSIS/Inc/core_cm3.h **** #define SCB_CFSR_BUSFAULTSR_Pos             8                                             /*!< SCB 
 328:CMSIS/Inc/core_cm3.h **** #define SCB_CFSR_BUSFAULTSR_Msk            (0xFFul << SCB_CFSR_BUSFAULTSR_Pos)            /*!< SCB 
 329:CMSIS/Inc/core_cm3.h **** 
 330:CMSIS/Inc/core_cm3.h **** #define SCB_CFSR_MEMFAULTSR_Pos             0                                             /*!< SCB 
 331:CMSIS/Inc/core_cm3.h **** #define SCB_CFSR_MEMFAULTSR_Msk            (0xFFul << SCB_CFSR_MEMFAULTSR_Pos)            /*!< SCB 
 332:CMSIS/Inc/core_cm3.h **** 
 333:CMSIS/Inc/core_cm3.h **** /* SCB Hard Fault Status Registers Definitions */
 334:CMSIS/Inc/core_cm3.h **** #define SCB_HFSR_DEBUGEVT_Pos              31                                             /*!< SCB 
 335:CMSIS/Inc/core_cm3.h **** #define SCB_HFSR_DEBUGEVT_Msk              (1ul << SCB_HFSR_DEBUGEVT_Pos)                 /*!< SCB 
 336:CMSIS/Inc/core_cm3.h **** 
 337:CMSIS/Inc/core_cm3.h **** #define SCB_HFSR_FORCED_Pos                30                                             /*!< SCB 
 338:CMSIS/Inc/core_cm3.h **** #define SCB_HFSR_FORCED_Msk                (1ul << SCB_HFSR_FORCED_Pos)                   /*!< SCB 
 339:CMSIS/Inc/core_cm3.h **** 
 340:CMSIS/Inc/core_cm3.h **** #define SCB_HFSR_VECTTBL_Pos                1                                             /*!< SCB 
 341:CMSIS/Inc/core_cm3.h **** #define SCB_HFSR_VECTTBL_Msk               (1ul << SCB_HFSR_VECTTBL_Pos)                  /*!< SCB 
 342:CMSIS/Inc/core_cm3.h **** 
 343:CMSIS/Inc/core_cm3.h **** /* SCB Debug Fault Status Register Definitions */
 344:CMSIS/Inc/core_cm3.h **** #define SCB_DFSR_EXTERNAL_Pos               4                                             /*!< SCB 
 345:CMSIS/Inc/core_cm3.h **** #define SCB_DFSR_EXTERNAL_Msk              (1ul << SCB_DFSR_EXTERNAL_Pos)                 /*!< SCB 
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 15


 346:CMSIS/Inc/core_cm3.h **** 
 347:CMSIS/Inc/core_cm3.h **** #define SCB_DFSR_VCATCH_Pos                 3                                             /*!< SCB 
 348:CMSIS/Inc/core_cm3.h **** #define SCB_DFSR_VCATCH_Msk                (1ul << SCB_DFSR_VCATCH_Pos)                   /*!< SCB 
 349:CMSIS/Inc/core_cm3.h **** 
 350:CMSIS/Inc/core_cm3.h **** #define SCB_DFSR_DWTTRAP_Pos                2                                             /*!< SCB 
 351:CMSIS/Inc/core_cm3.h **** #define SCB_DFSR_DWTTRAP_Msk               (1ul << SCB_DFSR_DWTTRAP_Pos)                  /*!< SCB 
 352:CMSIS/Inc/core_cm3.h **** 
 353:CMSIS/Inc/core_cm3.h **** #define SCB_DFSR_BKPT_Pos                   1                                             /*!< SCB 
 354:CMSIS/Inc/core_cm3.h **** #define SCB_DFSR_BKPT_Msk                  (1ul << SCB_DFSR_BKPT_Pos)                     /*!< SCB 
 355:CMSIS/Inc/core_cm3.h **** 
 356:CMSIS/Inc/core_cm3.h **** #define SCB_DFSR_HALTED_Pos                 0                                             /*!< SCB 
 357:CMSIS/Inc/core_cm3.h **** #define SCB_DFSR_HALTED_Msk                (1ul << SCB_DFSR_HALTED_Pos)                   /*!< SCB 
 358:CMSIS/Inc/core_cm3.h **** /*@}*/ /* end of group CMSIS_CM3_SCB */
 359:CMSIS/Inc/core_cm3.h **** 
 360:CMSIS/Inc/core_cm3.h **** 
 361:CMSIS/Inc/core_cm3.h **** /** @addtogroup CMSIS_CM3_SysTick CMSIS CM3 SysTick
 362:CMSIS/Inc/core_cm3.h ****   memory mapped structure for SysTick
 363:CMSIS/Inc/core_cm3.h ****   @{
 364:CMSIS/Inc/core_cm3.h ****  */
 365:CMSIS/Inc/core_cm3.h **** typedef struct
 366:CMSIS/Inc/core_cm3.h **** {
 367:CMSIS/Inc/core_cm3.h ****   __IO uint32_t CTRL;                         /*!< Offset: 0x00  SysTick Control and Status Registe
 368:CMSIS/Inc/core_cm3.h ****   __IO uint32_t LOAD;                         /*!< Offset: 0x04  SysTick Reload Value Register     
 369:CMSIS/Inc/core_cm3.h ****   __IO uint32_t VAL;                          /*!< Offset: 0x08  SysTick Current Value Register    
 370:CMSIS/Inc/core_cm3.h ****   __I  uint32_t CALIB;                        /*!< Offset: 0x0C  SysTick Calibration Register      
 371:CMSIS/Inc/core_cm3.h **** } SysTick_Type;
 372:CMSIS/Inc/core_cm3.h **** 
 373:CMSIS/Inc/core_cm3.h **** /* SysTick Control / Status Register Definitions */
 374:CMSIS/Inc/core_cm3.h **** #define SysTick_CTRL_COUNTFLAG_Pos         16                                             /*!< SysT
 375:CMSIS/Inc/core_cm3.h **** #define SysTick_CTRL_COUNTFLAG_Msk         (1ul << SysTick_CTRL_COUNTFLAG_Pos)            /*!< SysT
 376:CMSIS/Inc/core_cm3.h **** 
 377:CMSIS/Inc/core_cm3.h **** #define SysTick_CTRL_CLKSOURCE_Pos          2                                             /*!< SysT
 378:CMSIS/Inc/core_cm3.h **** #define SysTick_CTRL_CLKSOURCE_Msk         (1ul << SysTick_CTRL_CLKSOURCE_Pos)            /*!< SysT
 379:CMSIS/Inc/core_cm3.h **** 
 380:CMSIS/Inc/core_cm3.h **** #define SysTick_CTRL_TICKINT_Pos            1                                             /*!< SysT
 381:CMSIS/Inc/core_cm3.h **** #define SysTick_CTRL_TICKINT_Msk           (1ul << SysTick_CTRL_TICKINT_Pos)              /*!< SysT
 382:CMSIS/Inc/core_cm3.h **** 
 383:CMSIS/Inc/core_cm3.h **** #define SysTick_CTRL_ENABLE_Pos             0                                             /*!< SysT
 384:CMSIS/Inc/core_cm3.h **** #define SysTick_CTRL_ENABLE_Msk            (1ul << SysTick_CTRL_ENABLE_Pos)               /*!< SysT
 385:CMSIS/Inc/core_cm3.h **** 
 386:CMSIS/Inc/core_cm3.h **** /* SysTick Reload Register Definitions */
 387:CMSIS/Inc/core_cm3.h **** #define SysTick_LOAD_RELOAD_Pos             0                                             /*!< SysT
 388:CMSIS/Inc/core_cm3.h **** #define SysTick_LOAD_RELOAD_Msk            (0xFFFFFFul << SysTick_LOAD_RELOAD_Pos)        /*!< SysT
 389:CMSIS/Inc/core_cm3.h **** 
 390:CMSIS/Inc/core_cm3.h **** /* SysTick Current Register Definitions */
 391:CMSIS/Inc/core_cm3.h **** #define SysTick_VAL_CURRENT_Pos             0                                             /*!< SysT
 392:CMSIS/Inc/core_cm3.h **** #define SysTick_VAL_CURRENT_Msk            (0xFFFFFFul << SysTick_VAL_CURRENT_Pos)        /*!< SysT
 393:CMSIS/Inc/core_cm3.h **** 
 394:CMSIS/Inc/core_cm3.h **** /* SysTick Calibration Register Definitions */
 395:CMSIS/Inc/core_cm3.h **** #define SysTick_CALIB_NOREF_Pos            31                                             /*!< SysT
 396:CMSIS/Inc/core_cm3.h **** #define SysTick_CALIB_NOREF_Msk            (1ul << SysTick_CALIB_NOREF_Pos)               /*!< SysT
 397:CMSIS/Inc/core_cm3.h **** 
 398:CMSIS/Inc/core_cm3.h **** #define SysTick_CALIB_SKEW_Pos             30                                             /*!< SysT
 399:CMSIS/Inc/core_cm3.h **** #define SysTick_CALIB_SKEW_Msk             (1ul << SysTick_CALIB_SKEW_Pos)                /*!< SysT
 400:CMSIS/Inc/core_cm3.h **** 
 401:CMSIS/Inc/core_cm3.h **** #define SysTick_CALIB_TENMS_Pos             0                                             /*!< SysT
 402:CMSIS/Inc/core_cm3.h **** #define SysTick_CALIB_TENMS_Msk            (0xFFFFFFul << SysTick_VAL_CURRENT_Pos)        /*!< SysT
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 16


 403:CMSIS/Inc/core_cm3.h **** /*@}*/ /* end of group CMSIS_CM3_SysTick */
 404:CMSIS/Inc/core_cm3.h **** 
 405:CMSIS/Inc/core_cm3.h **** 
 406:CMSIS/Inc/core_cm3.h **** /** @addtogroup CMSIS_CM3_ITM CMSIS CM3 ITM
 407:CMSIS/Inc/core_cm3.h ****   memory mapped structure for Instrumentation Trace Macrocell (ITM)
 408:CMSIS/Inc/core_cm3.h ****   @{
 409:CMSIS/Inc/core_cm3.h ****  */
 410:CMSIS/Inc/core_cm3.h **** typedef struct
 411:CMSIS/Inc/core_cm3.h **** {
 412:CMSIS/Inc/core_cm3.h ****   __O  union  
 413:CMSIS/Inc/core_cm3.h ****   {
 414:CMSIS/Inc/core_cm3.h ****     __O  uint8_t    u8;                       /*!< Offset:       ITM Stimulus Port 8-bit           
 415:CMSIS/Inc/core_cm3.h ****     __O  uint16_t   u16;                      /*!< Offset:       ITM Stimulus Port 16-bit          
 416:CMSIS/Inc/core_cm3.h ****     __O  uint32_t   u32;                      /*!< Offset:       ITM Stimulus Port 32-bit          
 417:CMSIS/Inc/core_cm3.h ****   }  PORT [32];                               /*!< Offset: 0x00  ITM Stimulus Port Registers       
 418:CMSIS/Inc/core_cm3.h ****        uint32_t RESERVED0[864];                                 
 419:CMSIS/Inc/core_cm3.h ****   __IO uint32_t TER;                          /*!< Offset:       ITM Trace Enable Register         
 420:CMSIS/Inc/core_cm3.h ****        uint32_t RESERVED1[15];                                  
 421:CMSIS/Inc/core_cm3.h ****   __IO uint32_t TPR;                          /*!< Offset:       ITM Trace Privilege Register      
 422:CMSIS/Inc/core_cm3.h ****        uint32_t RESERVED2[15];                                  
 423:CMSIS/Inc/core_cm3.h ****   __IO uint32_t TCR;                          /*!< Offset:       ITM Trace Control Register        
 424:CMSIS/Inc/core_cm3.h ****        uint32_t RESERVED3[29];                                  
 425:CMSIS/Inc/core_cm3.h ****   __IO uint32_t IWR;                          /*!< Offset:       ITM Integration Write Register    
 426:CMSIS/Inc/core_cm3.h ****   __IO uint32_t IRR;                          /*!< Offset:       ITM Integration Read Register     
 427:CMSIS/Inc/core_cm3.h ****   __IO uint32_t IMCR;                         /*!< Offset:       ITM Integration Mode Control Regis
 428:CMSIS/Inc/core_cm3.h ****        uint32_t RESERVED4[43];                                  
 429:CMSIS/Inc/core_cm3.h ****   __IO uint32_t LAR;                          /*!< Offset:       ITM Lock Access Register          
 430:CMSIS/Inc/core_cm3.h ****   __IO uint32_t LSR;                          /*!< Offset:       ITM Lock Status Register          
 431:CMSIS/Inc/core_cm3.h ****        uint32_t RESERVED5[6];                                   
 432:CMSIS/Inc/core_cm3.h ****   __I  uint32_t PID4;                         /*!< Offset:       ITM Peripheral Identification Regi
 433:CMSIS/Inc/core_cm3.h ****   __I  uint32_t PID5;                         /*!< Offset:       ITM Peripheral Identification Regi
 434:CMSIS/Inc/core_cm3.h ****   __I  uint32_t PID6;                         /*!< Offset:       ITM Peripheral Identification Regi
 435:CMSIS/Inc/core_cm3.h ****   __I  uint32_t PID7;                         /*!< Offset:       ITM Peripheral Identification Regi
 436:CMSIS/Inc/core_cm3.h ****   __I  uint32_t PID0;                         /*!< Offset:       ITM Peripheral Identification Regi
 437:CMSIS/Inc/core_cm3.h ****   __I  uint32_t PID1;                         /*!< Offset:       ITM Peripheral Identification Regi
 438:CMSIS/Inc/core_cm3.h ****   __I  uint32_t PID2;                         /*!< Offset:       ITM Peripheral Identification Regi
 439:CMSIS/Inc/core_cm3.h ****   __I  uint32_t PID3;                         /*!< Offset:       ITM Peripheral Identification Regi
 440:CMSIS/Inc/core_cm3.h ****   __I  uint32_t CID0;                         /*!< Offset:       ITM Component  Identification Regi
 441:CMSIS/Inc/core_cm3.h ****   __I  uint32_t CID1;                         /*!< Offset:       ITM Component  Identification Regi
 442:CMSIS/Inc/core_cm3.h ****   __I  uint32_t CID2;                         /*!< Offset:       ITM Component  Identification Regi
 443:CMSIS/Inc/core_cm3.h ****   __I  uint32_t CID3;                         /*!< Offset:       ITM Component  Identification Regi
 444:CMSIS/Inc/core_cm3.h **** } ITM_Type;                                                
 445:CMSIS/Inc/core_cm3.h **** 
 446:CMSIS/Inc/core_cm3.h **** /* ITM Trace Privilege Register Definitions */
 447:CMSIS/Inc/core_cm3.h **** #define ITM_TPR_PRIVMASK_Pos                0                                             /*!< ITM 
 448:CMSIS/Inc/core_cm3.h **** #define ITM_TPR_PRIVMASK_Msk               (0xFul << ITM_TPR_PRIVMASK_Pos)                /*!< ITM 
 449:CMSIS/Inc/core_cm3.h **** 
 450:CMSIS/Inc/core_cm3.h **** /* ITM Trace Control Register Definitions */
 451:CMSIS/Inc/core_cm3.h **** #define ITM_TCR_BUSY_Pos                   23                                             /*!< ITM 
 452:CMSIS/Inc/core_cm3.h **** #define ITM_TCR_BUSY_Msk                   (1ul << ITM_TCR_BUSY_Pos)                      /*!< ITM 
 453:CMSIS/Inc/core_cm3.h **** 
 454:CMSIS/Inc/core_cm3.h **** #define ITM_TCR_ATBID_Pos                  16                                             /*!< ITM 
 455:CMSIS/Inc/core_cm3.h **** #define ITM_TCR_ATBID_Msk                  (0x7Ful << ITM_TCR_ATBID_Pos)                  /*!< ITM 
 456:CMSIS/Inc/core_cm3.h **** 
 457:CMSIS/Inc/core_cm3.h **** #define ITM_TCR_TSPrescale_Pos              8                                             /*!< ITM 
 458:CMSIS/Inc/core_cm3.h **** #define ITM_TCR_TSPrescale_Msk             (3ul << ITM_TCR_TSPrescale_Pos)                /*!< ITM 
 459:CMSIS/Inc/core_cm3.h **** 
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 17


 460:CMSIS/Inc/core_cm3.h **** #define ITM_TCR_SWOENA_Pos                  4                                             /*!< ITM 
 461:CMSIS/Inc/core_cm3.h **** #define ITM_TCR_SWOENA_Msk                 (1ul << ITM_TCR_SWOENA_Pos)                    /*!< ITM 
 462:CMSIS/Inc/core_cm3.h **** 
 463:CMSIS/Inc/core_cm3.h **** #define ITM_TCR_DWTENA_Pos                  3                                             /*!< ITM 
 464:CMSIS/Inc/core_cm3.h **** #define ITM_TCR_DWTENA_Msk                 (1ul << ITM_TCR_DWTENA_Pos)                    /*!< ITM 
 465:CMSIS/Inc/core_cm3.h **** 
 466:CMSIS/Inc/core_cm3.h **** #define ITM_TCR_SYNCENA_Pos                 2                                             /*!< ITM 
 467:CMSIS/Inc/core_cm3.h **** #define ITM_TCR_SYNCENA_Msk                (1ul << ITM_TCR_SYNCENA_Pos)                   /*!< ITM 
 468:CMSIS/Inc/core_cm3.h **** 
 469:CMSIS/Inc/core_cm3.h **** #define ITM_TCR_TSENA_Pos                   1                                             /*!< ITM 
 470:CMSIS/Inc/core_cm3.h **** #define ITM_TCR_TSENA_Msk                  (1ul << ITM_TCR_TSENA_Pos)                     /*!< ITM 
 471:CMSIS/Inc/core_cm3.h **** 
 472:CMSIS/Inc/core_cm3.h **** #define ITM_TCR_ITMENA_Pos                  0                                             /*!< ITM 
 473:CMSIS/Inc/core_cm3.h **** #define ITM_TCR_ITMENA_Msk                 (1ul << ITM_TCR_ITMENA_Pos)                    /*!< ITM 
 474:CMSIS/Inc/core_cm3.h **** 
 475:CMSIS/Inc/core_cm3.h **** /* ITM Integration Write Register Definitions */
 476:CMSIS/Inc/core_cm3.h **** #define ITM_IWR_ATVALIDM_Pos                0                                             /*!< ITM 
 477:CMSIS/Inc/core_cm3.h **** #define ITM_IWR_ATVALIDM_Msk               (1ul << ITM_IWR_ATVALIDM_Pos)                  /*!< ITM 
 478:CMSIS/Inc/core_cm3.h **** 
 479:CMSIS/Inc/core_cm3.h **** /* ITM Integration Read Register Definitions */
 480:CMSIS/Inc/core_cm3.h **** #define ITM_IRR_ATREADYM_Pos                0                                             /*!< ITM 
 481:CMSIS/Inc/core_cm3.h **** #define ITM_IRR_ATREADYM_Msk               (1ul << ITM_IRR_ATREADYM_Pos)                  /*!< ITM 
 482:CMSIS/Inc/core_cm3.h **** 
 483:CMSIS/Inc/core_cm3.h **** /* ITM Integration Mode Control Register Definitions */
 484:CMSIS/Inc/core_cm3.h **** #define ITM_IMCR_INTEGRATION_Pos            0                                             /*!< ITM 
 485:CMSIS/Inc/core_cm3.h **** #define ITM_IMCR_INTEGRATION_Msk           (1ul << ITM_IMCR_INTEGRATION_Pos)              /*!< ITM 
 486:CMSIS/Inc/core_cm3.h **** 
 487:CMSIS/Inc/core_cm3.h **** /* ITM Lock Status Register Definitions */
 488:CMSIS/Inc/core_cm3.h **** #define ITM_LSR_ByteAcc_Pos                 2                                             /*!< ITM 
 489:CMSIS/Inc/core_cm3.h **** #define ITM_LSR_ByteAcc_Msk                (1ul << ITM_LSR_ByteAcc_Pos)                   /*!< ITM 
 490:CMSIS/Inc/core_cm3.h **** 
 491:CMSIS/Inc/core_cm3.h **** #define ITM_LSR_Access_Pos                  1                                             /*!< ITM 
 492:CMSIS/Inc/core_cm3.h **** #define ITM_LSR_Access_Msk                 (1ul << ITM_LSR_Access_Pos)                    /*!< ITM 
 493:CMSIS/Inc/core_cm3.h **** 
 494:CMSIS/Inc/core_cm3.h **** #define ITM_LSR_Present_Pos                 0                                             /*!< ITM 
 495:CMSIS/Inc/core_cm3.h **** #define ITM_LSR_Present_Msk                (1ul << ITM_LSR_Present_Pos)                   /*!< ITM 
 496:CMSIS/Inc/core_cm3.h **** /*@}*/ /* end of group CMSIS_CM3_ITM */
 497:CMSIS/Inc/core_cm3.h **** 
 498:CMSIS/Inc/core_cm3.h **** 
 499:CMSIS/Inc/core_cm3.h **** /** @addtogroup CMSIS_CM3_InterruptType CMSIS CM3 Interrupt Type
 500:CMSIS/Inc/core_cm3.h ****   memory mapped structure for Interrupt Type
 501:CMSIS/Inc/core_cm3.h ****   @{
 502:CMSIS/Inc/core_cm3.h ****  */
 503:CMSIS/Inc/core_cm3.h **** typedef struct
 504:CMSIS/Inc/core_cm3.h **** {
 505:CMSIS/Inc/core_cm3.h ****        uint32_t RESERVED0;
 506:CMSIS/Inc/core_cm3.h ****   __I  uint32_t ICTR;                         /*!< Offset: 0x04  Interrupt Control Type Register */
 507:CMSIS/Inc/core_cm3.h **** #if ((defined __CM3_REV) && (__CM3_REV >= 0x200))
 508:CMSIS/Inc/core_cm3.h ****   __IO uint32_t ACTLR;                        /*!< Offset: 0x08  Auxiliary Control Register      */
 509:CMSIS/Inc/core_cm3.h **** #else
 510:CMSIS/Inc/core_cm3.h ****        uint32_t RESERVED1;
 511:CMSIS/Inc/core_cm3.h **** #endif
 512:CMSIS/Inc/core_cm3.h **** } InterruptType_Type;
 513:CMSIS/Inc/core_cm3.h **** 
 514:CMSIS/Inc/core_cm3.h **** /* Interrupt Controller Type Register Definitions */
 515:CMSIS/Inc/core_cm3.h **** #define InterruptType_ICTR_INTLINESNUM_Pos  0                                             /*!< Inte
 516:CMSIS/Inc/core_cm3.h **** #define InterruptType_ICTR_INTLINESNUM_Msk (0x1Ful << InterruptType_ICTR_INTLINESNUM_Pos) /*!< Inte
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 18


 517:CMSIS/Inc/core_cm3.h **** 
 518:CMSIS/Inc/core_cm3.h **** /* Auxiliary Control Register Definitions */
 519:CMSIS/Inc/core_cm3.h **** #define InterruptType_ACTLR_DISFOLD_Pos     2                                             /*!< Inte
 520:CMSIS/Inc/core_cm3.h **** #define InterruptType_ACTLR_DISFOLD_Msk    (1ul << InterruptType_ACTLR_DISFOLD_Pos)       /*!< Inte
 521:CMSIS/Inc/core_cm3.h **** 
 522:CMSIS/Inc/core_cm3.h **** #define InterruptType_ACTLR_DISDEFWBUF_Pos  1                                             /*!< Inte
 523:CMSIS/Inc/core_cm3.h **** #define InterruptType_ACTLR_DISDEFWBUF_Msk (1ul << InterruptType_ACTLR_DISDEFWBUF_Pos)    /*!< Inte
 524:CMSIS/Inc/core_cm3.h **** 
 525:CMSIS/Inc/core_cm3.h **** #define InterruptType_ACTLR_DISMCYCINT_Pos  0                                             /*!< Inte
 526:CMSIS/Inc/core_cm3.h **** #define InterruptType_ACTLR_DISMCYCINT_Msk (1ul << InterruptType_ACTLR_DISMCYCINT_Pos)    /*!< Inte
 527:CMSIS/Inc/core_cm3.h **** /*@}*/ /* end of group CMSIS_CM3_InterruptType */
 528:CMSIS/Inc/core_cm3.h **** 
 529:CMSIS/Inc/core_cm3.h **** 
 530:CMSIS/Inc/core_cm3.h **** #if defined (__MPU_PRESENT) && (__MPU_PRESENT == 1)
 531:CMSIS/Inc/core_cm3.h **** /** @addtogroup CMSIS_CM3_MPU CMSIS CM3 MPU
 532:CMSIS/Inc/core_cm3.h ****   memory mapped structure for Memory Protection Unit (MPU)
 533:CMSIS/Inc/core_cm3.h ****   @{
 534:CMSIS/Inc/core_cm3.h ****  */
 535:CMSIS/Inc/core_cm3.h **** typedef struct
 536:CMSIS/Inc/core_cm3.h **** {
 537:CMSIS/Inc/core_cm3.h ****   __I  uint32_t TYPE;                         /*!< Offset: 0x00  MPU Type Register                 
 538:CMSIS/Inc/core_cm3.h ****   __IO uint32_t CTRL;                         /*!< Offset: 0x04  MPU Control Register              
 539:CMSIS/Inc/core_cm3.h ****   __IO uint32_t RNR;                          /*!< Offset: 0x08  MPU Region RNRber Register        
 540:CMSIS/Inc/core_cm3.h ****   __IO uint32_t RBAR;                         /*!< Offset: 0x0C  MPU Region Base Address Register  
 541:CMSIS/Inc/core_cm3.h ****   __IO uint32_t RASR;                         /*!< Offset: 0x10  MPU Region Attribute and Size Regi
 542:CMSIS/Inc/core_cm3.h ****   __IO uint32_t RBAR_A1;                      /*!< Offset: 0x14  MPU Alias 1 Region Base Address Re
 543:CMSIS/Inc/core_cm3.h ****   __IO uint32_t RASR_A1;                      /*!< Offset: 0x18  MPU Alias 1 Region Attribute and S
 544:CMSIS/Inc/core_cm3.h ****   __IO uint32_t RBAR_A2;                      /*!< Offset: 0x1C  MPU Alias 2 Region Base Address Re
 545:CMSIS/Inc/core_cm3.h ****   __IO uint32_t RASR_A2;                      /*!< Offset: 0x20  MPU Alias 2 Region Attribute and S
 546:CMSIS/Inc/core_cm3.h ****   __IO uint32_t RBAR_A3;                      /*!< Offset: 0x24  MPU Alias 3 Region Base Address Re
 547:CMSIS/Inc/core_cm3.h ****   __IO uint32_t RASR_A3;                      /*!< Offset: 0x28  MPU Alias 3 Region Attribute and S
 548:CMSIS/Inc/core_cm3.h **** } MPU_Type;                                                
 549:CMSIS/Inc/core_cm3.h **** 
 550:CMSIS/Inc/core_cm3.h **** /* MPU Type Register */
 551:CMSIS/Inc/core_cm3.h **** #define MPU_TYPE_IREGION_Pos               16                                             /*!< MPU 
 552:CMSIS/Inc/core_cm3.h **** #define MPU_TYPE_IREGION_Msk               (0xFFul << MPU_TYPE_IREGION_Pos)               /*!< MPU 
 553:CMSIS/Inc/core_cm3.h **** 
 554:CMSIS/Inc/core_cm3.h **** #define MPU_TYPE_DREGION_Pos                8                                             /*!< MPU 
 555:CMSIS/Inc/core_cm3.h **** #define MPU_TYPE_DREGION_Msk               (0xFFul << MPU_TYPE_DREGION_Pos)               /*!< MPU 
 556:CMSIS/Inc/core_cm3.h **** 
 557:CMSIS/Inc/core_cm3.h **** #define MPU_TYPE_SEPARATE_Pos               0                                             /*!< MPU 
 558:CMSIS/Inc/core_cm3.h **** #define MPU_TYPE_SEPARATE_Msk              (1ul << MPU_TYPE_SEPARATE_Pos)                 /*!< MPU 
 559:CMSIS/Inc/core_cm3.h **** 
 560:CMSIS/Inc/core_cm3.h **** /* MPU Control Register */
 561:CMSIS/Inc/core_cm3.h **** #define MPU_CTRL_PRIVDEFENA_Pos             2                                             /*!< MPU 
 562:CMSIS/Inc/core_cm3.h **** #define MPU_CTRL_PRIVDEFENA_Msk            (1ul << MPU_CTRL_PRIVDEFENA_Pos)               /*!< MPU 
 563:CMSIS/Inc/core_cm3.h **** 
 564:CMSIS/Inc/core_cm3.h **** #define MPU_CTRL_HFNMIENA_Pos               1                                             /*!< MPU 
 565:CMSIS/Inc/core_cm3.h **** #define MPU_CTRL_HFNMIENA_Msk              (1ul << MPU_CTRL_HFNMIENA_Pos)                 /*!< MPU 
 566:CMSIS/Inc/core_cm3.h **** 
 567:CMSIS/Inc/core_cm3.h **** #define MPU_CTRL_ENABLE_Pos                 0                                             /*!< MPU 
 568:CMSIS/Inc/core_cm3.h **** #define MPU_CTRL_ENABLE_Msk                (1ul << MPU_CTRL_ENABLE_Pos)                   /*!< MPU 
 569:CMSIS/Inc/core_cm3.h **** 
 570:CMSIS/Inc/core_cm3.h **** /* MPU Region Number Register */
 571:CMSIS/Inc/core_cm3.h **** #define MPU_RNR_REGION_Pos                  0                                             /*!< MPU 
 572:CMSIS/Inc/core_cm3.h **** #define MPU_RNR_REGION_Msk                 (0xFFul << MPU_RNR_REGION_Pos)                 /*!< MPU 
 573:CMSIS/Inc/core_cm3.h **** 
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 19


 574:CMSIS/Inc/core_cm3.h **** /* MPU Region Base Address Register */
 575:CMSIS/Inc/core_cm3.h **** #define MPU_RBAR_ADDR_Pos                   5                                             /*!< MPU 
 576:CMSIS/Inc/core_cm3.h **** #define MPU_RBAR_ADDR_Msk                  (0x7FFFFFFul << MPU_RBAR_ADDR_Pos)             /*!< MPU 
 577:CMSIS/Inc/core_cm3.h **** 
 578:CMSIS/Inc/core_cm3.h **** #define MPU_RBAR_VALID_Pos                  4                                             /*!< MPU 
 579:CMSIS/Inc/core_cm3.h **** #define MPU_RBAR_VALID_Msk                 (1ul << MPU_RBAR_VALID_Pos)                    /*!< MPU 
 580:CMSIS/Inc/core_cm3.h **** 
 581:CMSIS/Inc/core_cm3.h **** #define MPU_RBAR_REGION_Pos                 0                                             /*!< MPU 
 582:CMSIS/Inc/core_cm3.h **** #define MPU_RBAR_REGION_Msk                (0xFul << MPU_RBAR_REGION_Pos)                 /*!< MPU 
 583:CMSIS/Inc/core_cm3.h **** 
 584:CMSIS/Inc/core_cm3.h **** /* MPU Region Attribute and Size Register */
 585:CMSIS/Inc/core_cm3.h **** #define MPU_RASR_XN_Pos                    28                                             /*!< MPU 
 586:CMSIS/Inc/core_cm3.h **** #define MPU_RASR_XN_Msk                    (1ul << MPU_RASR_XN_Pos)                       /*!< MPU 
 587:CMSIS/Inc/core_cm3.h **** 
 588:CMSIS/Inc/core_cm3.h **** #define MPU_RASR_AP_Pos                    24                                             /*!< MPU 
 589:CMSIS/Inc/core_cm3.h **** #define MPU_RASR_AP_Msk                    (7ul << MPU_RASR_AP_Pos)                       /*!< MPU 
 590:CMSIS/Inc/core_cm3.h **** 
 591:CMSIS/Inc/core_cm3.h **** #define MPU_RASR_TEX_Pos                   19                                             /*!< MPU 
 592:CMSIS/Inc/core_cm3.h **** #define MPU_RASR_TEX_Msk                   (7ul << MPU_RASR_TEX_Pos)                      /*!< MPU 
 593:CMSIS/Inc/core_cm3.h **** 
 594:CMSIS/Inc/core_cm3.h **** #define MPU_RASR_S_Pos                     18                                             /*!< MPU 
 595:CMSIS/Inc/core_cm3.h **** #define MPU_RASR_S_Msk                     (1ul << MPU_RASR_S_Pos)                        /*!< MPU 
 596:CMSIS/Inc/core_cm3.h **** 
 597:CMSIS/Inc/core_cm3.h **** #define MPU_RASR_C_Pos                     17                                             /*!< MPU 
 598:CMSIS/Inc/core_cm3.h **** #define MPU_RASR_C_Msk                     (1ul << MPU_RASR_C_Pos)                        /*!< MPU 
 599:CMSIS/Inc/core_cm3.h **** 
 600:CMSIS/Inc/core_cm3.h **** #define MPU_RASR_B_Pos                     16                                             /*!< MPU 
 601:CMSIS/Inc/core_cm3.h **** #define MPU_RASR_B_Msk                     (1ul << MPU_RASR_B_Pos)                        /*!< MPU 
 602:CMSIS/Inc/core_cm3.h **** 
 603:CMSIS/Inc/core_cm3.h **** #define MPU_RASR_SRD_Pos                    8                                             /*!< MPU 
 604:CMSIS/Inc/core_cm3.h **** #define MPU_RASR_SRD_Msk                   (0xFFul << MPU_RASR_SRD_Pos)                   /*!< MPU 
 605:CMSIS/Inc/core_cm3.h **** 
 606:CMSIS/Inc/core_cm3.h **** #define MPU_RASR_SIZE_Pos                   1                                             /*!< MPU 
 607:CMSIS/Inc/core_cm3.h **** #define MPU_RASR_SIZE_Msk                  (0x1Ful << MPU_RASR_SIZE_Pos)                  /*!< MPU 
 608:CMSIS/Inc/core_cm3.h **** 
 609:CMSIS/Inc/core_cm3.h **** #define MPU_RASR_ENA_Pos                     0                                            /*!< MPU 
 610:CMSIS/Inc/core_cm3.h **** #define MPU_RASR_ENA_Msk                    (0x1Ful << MPU_RASR_ENA_Pos)                  /*!< MPU 
 611:CMSIS/Inc/core_cm3.h **** 
 612:CMSIS/Inc/core_cm3.h **** /*@}*/ /* end of group CMSIS_CM3_MPU */
 613:CMSIS/Inc/core_cm3.h **** #endif
 614:CMSIS/Inc/core_cm3.h **** 
 615:CMSIS/Inc/core_cm3.h **** 
 616:CMSIS/Inc/core_cm3.h **** /** @addtogroup CMSIS_CM3_CoreDebug CMSIS CM3 Core Debug
 617:CMSIS/Inc/core_cm3.h ****   memory mapped structure for Core Debug Register
 618:CMSIS/Inc/core_cm3.h ****   @{
 619:CMSIS/Inc/core_cm3.h ****  */
 620:CMSIS/Inc/core_cm3.h **** typedef struct
 621:CMSIS/Inc/core_cm3.h **** {
 622:CMSIS/Inc/core_cm3.h ****   __IO uint32_t DHCSR;                        /*!< Offset: 0x00  Debug Halting Control and Status R
 623:CMSIS/Inc/core_cm3.h ****   __O  uint32_t DCRSR;                        /*!< Offset: 0x04  Debug Core Register Selector Regis
 624:CMSIS/Inc/core_cm3.h ****   __IO uint32_t DCRDR;                        /*!< Offset: 0x08  Debug Core Register Data Register 
 625:CMSIS/Inc/core_cm3.h ****   __IO uint32_t DEMCR;                        /*!< Offset: 0x0C  Debug Exception and Monitor Contro
 626:CMSIS/Inc/core_cm3.h **** } CoreDebug_Type;
 627:CMSIS/Inc/core_cm3.h **** 
 628:CMSIS/Inc/core_cm3.h **** /* Debug Halting Control and Status Register */
 629:CMSIS/Inc/core_cm3.h **** #define CoreDebug_DHCSR_DBGKEY_Pos         16                                             /*!< Core
 630:CMSIS/Inc/core_cm3.h **** #define CoreDebug_DHCSR_DBGKEY_Msk         (0xFFFFul << CoreDebug_DHCSR_DBGKEY_Pos)       /*!< Core
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 20


 631:CMSIS/Inc/core_cm3.h **** 
 632:CMSIS/Inc/core_cm3.h **** #define CoreDebug_DHCSR_S_RESET_ST_Pos     25                                             /*!< Core
 633:CMSIS/Inc/core_cm3.h **** #define CoreDebug_DHCSR_S_RESET_ST_Msk     (1ul << CoreDebug_DHCSR_S_RESET_ST_Pos)        /*!< Core
 634:CMSIS/Inc/core_cm3.h **** 
 635:CMSIS/Inc/core_cm3.h **** #define CoreDebug_DHCSR_S_RETIRE_ST_Pos    24                                             /*!< Core
 636:CMSIS/Inc/core_cm3.h **** #define CoreDebug_DHCSR_S_RETIRE_ST_Msk    (1ul << CoreDebug_DHCSR_S_RETIRE_ST_Pos)       /*!< Core
 637:CMSIS/Inc/core_cm3.h **** 
 638:CMSIS/Inc/core_cm3.h **** #define CoreDebug_DHCSR_S_LOCKUP_Pos       19                                             /*!< Core
 639:CMSIS/Inc/core_cm3.h **** #define CoreDebug_DHCSR_S_LOCKUP_Msk       (1ul << CoreDebug_DHCSR_S_LOCKUP_Pos)          /*!< Core
 640:CMSIS/Inc/core_cm3.h **** 
 641:CMSIS/Inc/core_cm3.h **** #define CoreDebug_DHCSR_S_SLEEP_Pos        18                                             /*!< Core
 642:CMSIS/Inc/core_cm3.h **** #define CoreDebug_DHCSR_S_SLEEP_Msk        (1ul << CoreDebug_DHCSR_S_SLEEP_Pos)           /*!< Core
 643:CMSIS/Inc/core_cm3.h **** 
 644:CMSIS/Inc/core_cm3.h **** #define CoreDebug_DHCSR_S_HALT_Pos         17                                             /*!< Core
 645:CMSIS/Inc/core_cm3.h **** #define CoreDebug_DHCSR_S_HALT_Msk         (1ul << CoreDebug_DHCSR_S_HALT_Pos)            /*!< Core
 646:CMSIS/Inc/core_cm3.h **** 
 647:CMSIS/Inc/core_cm3.h **** #define CoreDebug_DHCSR_S_REGRDY_Pos       16                                             /*!< Core
 648:CMSIS/Inc/core_cm3.h **** #define CoreDebug_DHCSR_S_REGRDY_Msk       (1ul << CoreDebug_DHCSR_S_REGRDY_Pos)          /*!< Core
 649:CMSIS/Inc/core_cm3.h **** 
 650:CMSIS/Inc/core_cm3.h **** #define CoreDebug_DHCSR_C_SNAPSTALL_Pos     5                                             /*!< Core
 651:CMSIS/Inc/core_cm3.h **** #define CoreDebug_DHCSR_C_SNAPSTALL_Msk    (1ul << CoreDebug_DHCSR_C_SNAPSTALL_Pos)       /*!< Core
 652:CMSIS/Inc/core_cm3.h **** 
 653:CMSIS/Inc/core_cm3.h **** #define CoreDebug_DHCSR_C_MASKINTS_Pos      3                                             /*!< Core
 654:CMSIS/Inc/core_cm3.h **** #define CoreDebug_DHCSR_C_MASKINTS_Msk     (1ul << CoreDebug_DHCSR_C_MASKINTS_Pos)        /*!< Core
 655:CMSIS/Inc/core_cm3.h **** 
 656:CMSIS/Inc/core_cm3.h **** #define CoreDebug_DHCSR_C_STEP_Pos          2                                             /*!< Core
 657:CMSIS/Inc/core_cm3.h **** #define CoreDebug_DHCSR_C_STEP_Msk         (1ul << CoreDebug_DHCSR_C_STEP_Pos)            /*!< Core
 658:CMSIS/Inc/core_cm3.h **** 
 659:CMSIS/Inc/core_cm3.h **** #define CoreDebug_DHCSR_C_HALT_Pos          1                                             /*!< Core
 660:CMSIS/Inc/core_cm3.h **** #define CoreDebug_DHCSR_C_HALT_Msk         (1ul << CoreDebug_DHCSR_C_HALT_Pos)            /*!< Core
 661:CMSIS/Inc/core_cm3.h **** 
 662:CMSIS/Inc/core_cm3.h **** #define CoreDebug_DHCSR_C_DEBUGEN_Pos       0                                             /*!< Core
 663:CMSIS/Inc/core_cm3.h **** #define CoreDebug_DHCSR_C_DEBUGEN_Msk      (1ul << CoreDebug_DHCSR_C_DEBUGEN_Pos)         /*!< Core
 664:CMSIS/Inc/core_cm3.h **** 
 665:CMSIS/Inc/core_cm3.h **** /* Debug Core Register Selector Register */
 666:CMSIS/Inc/core_cm3.h **** #define CoreDebug_DCRSR_REGWnR_Pos         16                                             /*!< Core
 667:CMSIS/Inc/core_cm3.h **** #define CoreDebug_DCRSR_REGWnR_Msk         (1ul << CoreDebug_DCRSR_REGWnR_Pos)            /*!< Core
 668:CMSIS/Inc/core_cm3.h **** 
 669:CMSIS/Inc/core_cm3.h **** #define CoreDebug_DCRSR_REGSEL_Pos          0                                             /*!< Core
 670:CMSIS/Inc/core_cm3.h **** #define CoreDebug_DCRSR_REGSEL_Msk         (0x1Ful << CoreDebug_DCRSR_REGSEL_Pos)         /*!< Core
 671:CMSIS/Inc/core_cm3.h **** 
 672:CMSIS/Inc/core_cm3.h **** /* Debug Exception and Monitor Control Register */
 673:CMSIS/Inc/core_cm3.h **** #define CoreDebug_DEMCR_TRCENA_Pos         24                                             /*!< Core
 674:CMSIS/Inc/core_cm3.h **** #define CoreDebug_DEMCR_TRCENA_Msk         (1ul << CoreDebug_DEMCR_TRCENA_Pos)            /*!< Core
 675:CMSIS/Inc/core_cm3.h **** 
 676:CMSIS/Inc/core_cm3.h **** #define CoreDebug_DEMCR_MON_REQ_Pos        19                                             /*!< Core
 677:CMSIS/Inc/core_cm3.h **** #define CoreDebug_DEMCR_MON_REQ_Msk        (1ul << CoreDebug_DEMCR_MON_REQ_Pos)           /*!< Core
 678:CMSIS/Inc/core_cm3.h **** 
 679:CMSIS/Inc/core_cm3.h **** #define CoreDebug_DEMCR_MON_STEP_Pos       18                                             /*!< Core
 680:CMSIS/Inc/core_cm3.h **** #define CoreDebug_DEMCR_MON_STEP_Msk       (1ul << CoreDebug_DEMCR_MON_STEP_Pos)          /*!< Core
 681:CMSIS/Inc/core_cm3.h **** 
 682:CMSIS/Inc/core_cm3.h **** #define CoreDebug_DEMCR_MON_PEND_Pos       17                                             /*!< Core
 683:CMSIS/Inc/core_cm3.h **** #define CoreDebug_DEMCR_MON_PEND_Msk       (1ul << CoreDebug_DEMCR_MON_PEND_Pos)          /*!< Core
 684:CMSIS/Inc/core_cm3.h **** 
 685:CMSIS/Inc/core_cm3.h **** #define CoreDebug_DEMCR_MON_EN_Pos         16                                             /*!< Core
 686:CMSIS/Inc/core_cm3.h **** #define CoreDebug_DEMCR_MON_EN_Msk         (1ul << CoreDebug_DEMCR_MON_EN_Pos)            /*!< Core
 687:CMSIS/Inc/core_cm3.h **** 
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 21


 688:CMSIS/Inc/core_cm3.h **** #define CoreDebug_DEMCR_VC_HARDERR_Pos     10                                             /*!< Core
 689:CMSIS/Inc/core_cm3.h **** #define CoreDebug_DEMCR_VC_HARDERR_Msk     (1ul << CoreDebug_DEMCR_VC_HARDERR_Pos)        /*!< Core
 690:CMSIS/Inc/core_cm3.h **** 
 691:CMSIS/Inc/core_cm3.h **** #define CoreDebug_DEMCR_VC_INTERR_Pos       9                                             /*!< Core
 692:CMSIS/Inc/core_cm3.h **** #define CoreDebug_DEMCR_VC_INTERR_Msk      (1ul << CoreDebug_DEMCR_VC_INTERR_Pos)         /*!< Core
 693:CMSIS/Inc/core_cm3.h **** 
 694:CMSIS/Inc/core_cm3.h **** #define CoreDebug_DEMCR_VC_BUSERR_Pos       8                                             /*!< Core
 695:CMSIS/Inc/core_cm3.h **** #define CoreDebug_DEMCR_VC_BUSERR_Msk      (1ul << CoreDebug_DEMCR_VC_BUSERR_Pos)         /*!< Core
 696:CMSIS/Inc/core_cm3.h **** 
 697:CMSIS/Inc/core_cm3.h **** #define CoreDebug_DEMCR_VC_STATERR_Pos      7                                             /*!< Core
 698:CMSIS/Inc/core_cm3.h **** #define CoreDebug_DEMCR_VC_STATERR_Msk     (1ul << CoreDebug_DEMCR_VC_STATERR_Pos)        /*!< Core
 699:CMSIS/Inc/core_cm3.h **** 
 700:CMSIS/Inc/core_cm3.h **** #define CoreDebug_DEMCR_VC_CHKERR_Pos       6                                             /*!< Core
 701:CMSIS/Inc/core_cm3.h **** #define CoreDebug_DEMCR_VC_CHKERR_Msk      (1ul << CoreDebug_DEMCR_VC_CHKERR_Pos)         /*!< Core
 702:CMSIS/Inc/core_cm3.h **** 
 703:CMSIS/Inc/core_cm3.h **** #define CoreDebug_DEMCR_VC_NOCPERR_Pos      5                                             /*!< Core
 704:CMSIS/Inc/core_cm3.h **** #define CoreDebug_DEMCR_VC_NOCPERR_Msk     (1ul << CoreDebug_DEMCR_VC_NOCPERR_Pos)        /*!< Core
 705:CMSIS/Inc/core_cm3.h **** 
 706:CMSIS/Inc/core_cm3.h **** #define CoreDebug_DEMCR_VC_MMERR_Pos        4                                             /*!< Core
 707:CMSIS/Inc/core_cm3.h **** #define CoreDebug_DEMCR_VC_MMERR_Msk       (1ul << CoreDebug_DEMCR_VC_MMERR_Pos)          /*!< Core
 708:CMSIS/Inc/core_cm3.h **** 
 709:CMSIS/Inc/core_cm3.h **** #define CoreDebug_DEMCR_VC_CORERESET_Pos    0                                             /*!< Core
 710:CMSIS/Inc/core_cm3.h **** #define CoreDebug_DEMCR_VC_CORERESET_Msk   (1ul << CoreDebug_DEMCR_VC_CORERESET_Pos)      /*!< Core
 711:CMSIS/Inc/core_cm3.h **** /*@}*/ /* end of group CMSIS_CM3_CoreDebug */
 712:CMSIS/Inc/core_cm3.h **** 
 713:CMSIS/Inc/core_cm3.h **** 
 714:CMSIS/Inc/core_cm3.h **** /* Memory mapping of Cortex-M3 Hardware */
 715:CMSIS/Inc/core_cm3.h **** #define SCS_BASE            (0xE000E000)                              /*!< System Control Space Bas
 716:CMSIS/Inc/core_cm3.h **** #define ITM_BASE            (0xE0000000)                              /*!< ITM Base Address        
 717:CMSIS/Inc/core_cm3.h **** #define CoreDebug_BASE      (0xE000EDF0)                              /*!< Core Debug Base Address 
 718:CMSIS/Inc/core_cm3.h **** #define SysTick_BASE        (SCS_BASE +  0x0010)                      /*!< SysTick Base Address    
 719:CMSIS/Inc/core_cm3.h **** #define NVIC_BASE           (SCS_BASE +  0x0100)                      /*!< NVIC Base Address       
 720:CMSIS/Inc/core_cm3.h **** #define SCB_BASE            (SCS_BASE +  0x0D00)                      /*!< System Control Block Bas
 721:CMSIS/Inc/core_cm3.h **** 
 722:CMSIS/Inc/core_cm3.h **** #define InterruptType       ((InterruptType_Type *) SCS_BASE)         /*!< Interrupt Type Register 
 723:CMSIS/Inc/core_cm3.h **** #define SCB                 ((SCB_Type *)           SCB_BASE)         /*!< SCB configuration struct
 724:CMSIS/Inc/core_cm3.h **** #define SysTick             ((SysTick_Type *)       SysTick_BASE)     /*!< SysTick configuration st
 725:CMSIS/Inc/core_cm3.h **** #define NVIC                ((NVIC_Type *)          NVIC_BASE)        /*!< NVIC configuration struc
 726:CMSIS/Inc/core_cm3.h **** #define ITM                 ((ITM_Type *)           ITM_BASE)         /*!< ITM configuration struct
 727:CMSIS/Inc/core_cm3.h **** #define CoreDebug           ((CoreDebug_Type *)     CoreDebug_BASE)   /*!< Core Debug configuration
 728:CMSIS/Inc/core_cm3.h **** 
 729:CMSIS/Inc/core_cm3.h **** #if defined (__MPU_PRESENT) && (__MPU_PRESENT == 1)
 730:CMSIS/Inc/core_cm3.h ****   #define MPU_BASE          (SCS_BASE +  0x0D90)                      /*!< Memory Protection Unit  
 731:CMSIS/Inc/core_cm3.h ****   #define MPU               ((MPU_Type*)            MPU_BASE)         /*!< Memory Protection Unit  
 732:CMSIS/Inc/core_cm3.h **** #endif
 733:CMSIS/Inc/core_cm3.h **** 
 734:CMSIS/Inc/core_cm3.h **** /*@}*/ /* end of group CMSIS_CM3_core_register */
 735:CMSIS/Inc/core_cm3.h **** 
 736:CMSIS/Inc/core_cm3.h **** 
 737:CMSIS/Inc/core_cm3.h **** /*******************************************************************************
 738:CMSIS/Inc/core_cm3.h ****  *                Hardware Abstraction Layer
 739:CMSIS/Inc/core_cm3.h ****  ******************************************************************************/
 740:CMSIS/Inc/core_cm3.h **** 
 741:CMSIS/Inc/core_cm3.h **** #if defined ( __CC_ARM   )
 742:CMSIS/Inc/core_cm3.h ****   #define __ASM            __asm                                      /*!< asm keyword for ARM Comp
 743:CMSIS/Inc/core_cm3.h ****   #define __INLINE         __inline                                   /*!< inline keyword for ARM C
 744:CMSIS/Inc/core_cm3.h **** 
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 22


 745:CMSIS/Inc/core_cm3.h **** #elif defined ( __ICCARM__ )
 746:CMSIS/Inc/core_cm3.h ****   #define __ASM           __asm                                       /*!< asm keyword for IAR Comp
 747:CMSIS/Inc/core_cm3.h ****   #define __INLINE        inline                                      /*!< inline keyword for IAR C
 748:CMSIS/Inc/core_cm3.h **** 
 749:CMSIS/Inc/core_cm3.h **** #elif defined   (  __GNUC__  )
 750:CMSIS/Inc/core_cm3.h ****   #define __ASM            __asm                                      /*!< asm keyword for GNU Comp
 751:CMSIS/Inc/core_cm3.h ****   #define __INLINE         inline                                     /*!< inline keyword for GNU C
 752:CMSIS/Inc/core_cm3.h **** 
 753:CMSIS/Inc/core_cm3.h **** #elif defined   (  __TASKING__  )
 754:CMSIS/Inc/core_cm3.h ****   #define __ASM            __asm                                      /*!< asm keyword for TASKING 
 755:CMSIS/Inc/core_cm3.h ****   #define __INLINE         inline                                     /*!< inline keyword for TASKI
 756:CMSIS/Inc/core_cm3.h **** 
 757:CMSIS/Inc/core_cm3.h **** #endif
 758:CMSIS/Inc/core_cm3.h **** 
 759:CMSIS/Inc/core_cm3.h **** 
 760:CMSIS/Inc/core_cm3.h **** /* ###################  Compiler specific Intrinsics  ########################### */
 761:CMSIS/Inc/core_cm3.h **** 
 762:CMSIS/Inc/core_cm3.h **** #if defined ( __CC_ARM   ) /*------------------RealView Compiler -----------------*/
 763:CMSIS/Inc/core_cm3.h **** /* ARM armcc specific functions */
 764:CMSIS/Inc/core_cm3.h **** 
 765:CMSIS/Inc/core_cm3.h **** #define __enable_fault_irq                __enable_fiq
 766:CMSIS/Inc/core_cm3.h **** #define __disable_fault_irq               __disable_fiq
 767:CMSIS/Inc/core_cm3.h **** 
 768:CMSIS/Inc/core_cm3.h **** #define __NOP                             __nop
 769:CMSIS/Inc/core_cm3.h **** #define __WFI                             __wfi
 770:CMSIS/Inc/core_cm3.h **** #define __WFE                             __wfe
 771:CMSIS/Inc/core_cm3.h **** #define __SEV                             __sev
 772:CMSIS/Inc/core_cm3.h **** #define __ISB()                           __isb(0)
 773:CMSIS/Inc/core_cm3.h **** #define __DSB()                           __dsb(0)
 774:CMSIS/Inc/core_cm3.h **** #define __DMB()                           __dmb(0)
 775:CMSIS/Inc/core_cm3.h **** #define __REV                             __rev
 776:CMSIS/Inc/core_cm3.h **** #define __RBIT                            __rbit
 777:CMSIS/Inc/core_cm3.h **** #define __LDREXB(ptr)                     ((unsigned char ) __ldrex(ptr))
 778:CMSIS/Inc/core_cm3.h **** #define __LDREXH(ptr)                     ((unsigned short) __ldrex(ptr))
 779:CMSIS/Inc/core_cm3.h **** #define __LDREXW(ptr)                     ((unsigned int  ) __ldrex(ptr))
 780:CMSIS/Inc/core_cm3.h **** #define __STREXB(value, ptr)              __strex(value, ptr)
 781:CMSIS/Inc/core_cm3.h **** #define __STREXH(value, ptr)              __strex(value, ptr)
 782:CMSIS/Inc/core_cm3.h **** #define __STREXW(value, ptr)              __strex(value, ptr)
 783:CMSIS/Inc/core_cm3.h **** 
 784:CMSIS/Inc/core_cm3.h **** 
 785:CMSIS/Inc/core_cm3.h **** /* intrinsic unsigned long long __ldrexd(volatile void *ptr) */
 786:CMSIS/Inc/core_cm3.h **** /* intrinsic int __strexd(unsigned long long val, volatile void *ptr) */
 787:CMSIS/Inc/core_cm3.h **** /* intrinsic void __enable_irq();     */
 788:CMSIS/Inc/core_cm3.h **** /* intrinsic void __disable_irq();    */
 789:CMSIS/Inc/core_cm3.h **** 
 790:CMSIS/Inc/core_cm3.h **** 
 791:CMSIS/Inc/core_cm3.h **** /**
 792:CMSIS/Inc/core_cm3.h ****  * @brief  Return the Process Stack Pointer
 793:CMSIS/Inc/core_cm3.h ****  *
 794:CMSIS/Inc/core_cm3.h ****  * @return ProcessStackPointer
 795:CMSIS/Inc/core_cm3.h ****  *
 796:CMSIS/Inc/core_cm3.h ****  * Return the actual process stack pointer
 797:CMSIS/Inc/core_cm3.h ****  */
 798:CMSIS/Inc/core_cm3.h **** extern uint32_t __get_PSP(void);
 799:CMSIS/Inc/core_cm3.h **** 
 800:CMSIS/Inc/core_cm3.h **** /**
 801:CMSIS/Inc/core_cm3.h ****  * @brief  Set the Process Stack Pointer
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 23


 802:CMSIS/Inc/core_cm3.h ****  *
 803:CMSIS/Inc/core_cm3.h ****  * @param  topOfProcStack  Process Stack Pointer
 804:CMSIS/Inc/core_cm3.h ****  *
 805:CMSIS/Inc/core_cm3.h ****  * Assign the value ProcessStackPointer to the MSP 
 806:CMSIS/Inc/core_cm3.h ****  * (process stack pointer) Cortex processor register
 807:CMSIS/Inc/core_cm3.h ****  */
 808:CMSIS/Inc/core_cm3.h **** extern void __set_PSP(uint32_t topOfProcStack);
 809:CMSIS/Inc/core_cm3.h **** 
 810:CMSIS/Inc/core_cm3.h **** /**
 811:CMSIS/Inc/core_cm3.h ****  * @brief  Return the Main Stack Pointer
 812:CMSIS/Inc/core_cm3.h ****  *
 813:CMSIS/Inc/core_cm3.h ****  * @return Main Stack Pointer
 814:CMSIS/Inc/core_cm3.h ****  *
 815:CMSIS/Inc/core_cm3.h ****  * Return the current value of the MSP (main stack pointer)
 816:CMSIS/Inc/core_cm3.h ****  * Cortex processor register
 817:CMSIS/Inc/core_cm3.h ****  */
 818:CMSIS/Inc/core_cm3.h **** extern uint32_t __get_MSP(void);
 819:CMSIS/Inc/core_cm3.h **** 
 820:CMSIS/Inc/core_cm3.h **** /**
 821:CMSIS/Inc/core_cm3.h ****  * @brief  Set the Main Stack Pointer
 822:CMSIS/Inc/core_cm3.h ****  *
 823:CMSIS/Inc/core_cm3.h ****  * @param  topOfMainStack  Main Stack Pointer
 824:CMSIS/Inc/core_cm3.h ****  *
 825:CMSIS/Inc/core_cm3.h ****  * Assign the value mainStackPointer to the MSP 
 826:CMSIS/Inc/core_cm3.h ****  * (main stack pointer) Cortex processor register
 827:CMSIS/Inc/core_cm3.h ****  */
 828:CMSIS/Inc/core_cm3.h **** extern void __set_MSP(uint32_t topOfMainStack);
 829:CMSIS/Inc/core_cm3.h **** 
 830:CMSIS/Inc/core_cm3.h **** /**
 831:CMSIS/Inc/core_cm3.h ****  * @brief  Reverse byte order in unsigned short value
 832:CMSIS/Inc/core_cm3.h ****  *
 833:CMSIS/Inc/core_cm3.h ****  * @param   value  value to reverse
 834:CMSIS/Inc/core_cm3.h ****  * @return         reversed value
 835:CMSIS/Inc/core_cm3.h ****  *
 836:CMSIS/Inc/core_cm3.h ****  * Reverse byte order in unsigned short value
 837:CMSIS/Inc/core_cm3.h ****  */
 838:CMSIS/Inc/core_cm3.h **** extern uint32_t __REV16(uint16_t value);
 839:CMSIS/Inc/core_cm3.h **** 
 840:CMSIS/Inc/core_cm3.h **** /**
 841:CMSIS/Inc/core_cm3.h ****  * @brief  Reverse byte order in signed short value with sign extension to integer
 842:CMSIS/Inc/core_cm3.h ****  *
 843:CMSIS/Inc/core_cm3.h ****  * @param   value  value to reverse
 844:CMSIS/Inc/core_cm3.h ****  * @return         reversed value
 845:CMSIS/Inc/core_cm3.h ****  *
 846:CMSIS/Inc/core_cm3.h ****  * Reverse byte order in signed short value with sign extension to integer
 847:CMSIS/Inc/core_cm3.h ****  */
 848:CMSIS/Inc/core_cm3.h **** extern int32_t __REVSH(int16_t value);
 849:CMSIS/Inc/core_cm3.h **** 
 850:CMSIS/Inc/core_cm3.h **** 
 851:CMSIS/Inc/core_cm3.h **** #if (__ARMCC_VERSION < 400000)
 852:CMSIS/Inc/core_cm3.h **** 
 853:CMSIS/Inc/core_cm3.h **** /**
 854:CMSIS/Inc/core_cm3.h ****  * @brief  Remove the exclusive lock created by ldrex
 855:CMSIS/Inc/core_cm3.h ****  *
 856:CMSIS/Inc/core_cm3.h ****  * Removes the exclusive lock which is created by ldrex.
 857:CMSIS/Inc/core_cm3.h ****  */
 858:CMSIS/Inc/core_cm3.h **** extern void __CLREX(void);
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 24


 859:CMSIS/Inc/core_cm3.h **** 
 860:CMSIS/Inc/core_cm3.h **** /**
 861:CMSIS/Inc/core_cm3.h ****  * @brief  Return the Base Priority value
 862:CMSIS/Inc/core_cm3.h ****  *
 863:CMSIS/Inc/core_cm3.h ****  * @return BasePriority
 864:CMSIS/Inc/core_cm3.h ****  *
 865:CMSIS/Inc/core_cm3.h ****  * Return the content of the base priority register
 866:CMSIS/Inc/core_cm3.h ****  */
 867:CMSIS/Inc/core_cm3.h **** extern uint32_t __get_BASEPRI(void);
 868:CMSIS/Inc/core_cm3.h **** 
 869:CMSIS/Inc/core_cm3.h **** /**
 870:CMSIS/Inc/core_cm3.h ****  * @brief  Set the Base Priority value
 871:CMSIS/Inc/core_cm3.h ****  *
 872:CMSIS/Inc/core_cm3.h ****  * @param  basePri  BasePriority
 873:CMSIS/Inc/core_cm3.h ****  *
 874:CMSIS/Inc/core_cm3.h ****  * Set the base priority register
 875:CMSIS/Inc/core_cm3.h ****  */
 876:CMSIS/Inc/core_cm3.h **** extern void __set_BASEPRI(uint32_t basePri);
 877:CMSIS/Inc/core_cm3.h **** 
 878:CMSIS/Inc/core_cm3.h **** /**
 879:CMSIS/Inc/core_cm3.h ****  * @brief  Return the Priority Mask value
 880:CMSIS/Inc/core_cm3.h ****  *
 881:CMSIS/Inc/core_cm3.h ****  * @return PriMask
 882:CMSIS/Inc/core_cm3.h ****  *
 883:CMSIS/Inc/core_cm3.h ****  * Return state of the priority mask bit from the priority mask register
 884:CMSIS/Inc/core_cm3.h ****  */
 885:CMSIS/Inc/core_cm3.h **** extern uint32_t __get_PRIMASK(void);
 886:CMSIS/Inc/core_cm3.h **** 
 887:CMSIS/Inc/core_cm3.h **** /**
 888:CMSIS/Inc/core_cm3.h ****  * @brief  Set the Priority Mask value
 889:CMSIS/Inc/core_cm3.h ****  *
 890:CMSIS/Inc/core_cm3.h ****  * @param   priMask  PriMask
 891:CMSIS/Inc/core_cm3.h ****  *
 892:CMSIS/Inc/core_cm3.h ****  * Set the priority mask bit in the priority mask register
 893:CMSIS/Inc/core_cm3.h ****  */
 894:CMSIS/Inc/core_cm3.h **** extern void __set_PRIMASK(uint32_t priMask);
 895:CMSIS/Inc/core_cm3.h **** 
 896:CMSIS/Inc/core_cm3.h **** /**
 897:CMSIS/Inc/core_cm3.h ****  * @brief  Return the Fault Mask value
 898:CMSIS/Inc/core_cm3.h ****  *
 899:CMSIS/Inc/core_cm3.h ****  * @return FaultMask
 900:CMSIS/Inc/core_cm3.h ****  *
 901:CMSIS/Inc/core_cm3.h ****  * Return the content of the fault mask register
 902:CMSIS/Inc/core_cm3.h ****  */
 903:CMSIS/Inc/core_cm3.h **** extern uint32_t __get_FAULTMASK(void);
 904:CMSIS/Inc/core_cm3.h **** 
 905:CMSIS/Inc/core_cm3.h **** /**
 906:CMSIS/Inc/core_cm3.h ****  * @brief  Set the Fault Mask value
 907:CMSIS/Inc/core_cm3.h ****  *
 908:CMSIS/Inc/core_cm3.h ****  * @param  faultMask faultMask value
 909:CMSIS/Inc/core_cm3.h ****  *
 910:CMSIS/Inc/core_cm3.h ****  * Set the fault mask register
 911:CMSIS/Inc/core_cm3.h ****  */
 912:CMSIS/Inc/core_cm3.h **** extern void __set_FAULTMASK(uint32_t faultMask);
 913:CMSIS/Inc/core_cm3.h **** 
 914:CMSIS/Inc/core_cm3.h **** /**
 915:CMSIS/Inc/core_cm3.h ****  * @brief  Return the Control Register value
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 25


 916:CMSIS/Inc/core_cm3.h ****  * 
 917:CMSIS/Inc/core_cm3.h ****  * @return Control value
 918:CMSIS/Inc/core_cm3.h ****  *
 919:CMSIS/Inc/core_cm3.h ****  * Return the content of the control register
 920:CMSIS/Inc/core_cm3.h ****  */
 921:CMSIS/Inc/core_cm3.h **** extern uint32_t __get_CONTROL(void);
 922:CMSIS/Inc/core_cm3.h **** 
 923:CMSIS/Inc/core_cm3.h **** /**
 924:CMSIS/Inc/core_cm3.h ****  * @brief  Set the Control Register value
 925:CMSIS/Inc/core_cm3.h ****  *
 926:CMSIS/Inc/core_cm3.h ****  * @param  control  Control value
 927:CMSIS/Inc/core_cm3.h ****  *
 928:CMSIS/Inc/core_cm3.h ****  * Set the control register
 929:CMSIS/Inc/core_cm3.h ****  */
 930:CMSIS/Inc/core_cm3.h **** extern void __set_CONTROL(uint32_t control);
 931:CMSIS/Inc/core_cm3.h **** 
 932:CMSIS/Inc/core_cm3.h **** #else  /* (__ARMCC_VERSION >= 400000)  */
 933:CMSIS/Inc/core_cm3.h **** 
 934:CMSIS/Inc/core_cm3.h **** /**
 935:CMSIS/Inc/core_cm3.h ****  * @brief  Remove the exclusive lock created by ldrex
 936:CMSIS/Inc/core_cm3.h ****  *
 937:CMSIS/Inc/core_cm3.h ****  * Removes the exclusive lock which is created by ldrex.
 938:CMSIS/Inc/core_cm3.h ****  */
 939:CMSIS/Inc/core_cm3.h **** #define __CLREX                           __clrex
 940:CMSIS/Inc/core_cm3.h **** 
 941:CMSIS/Inc/core_cm3.h **** /**
 942:CMSIS/Inc/core_cm3.h ****  * @brief  Return the Base Priority value
 943:CMSIS/Inc/core_cm3.h ****  *
 944:CMSIS/Inc/core_cm3.h ****  * @return BasePriority
 945:CMSIS/Inc/core_cm3.h ****  *
 946:CMSIS/Inc/core_cm3.h ****  * Return the content of the base priority register
 947:CMSIS/Inc/core_cm3.h ****  */
 948:CMSIS/Inc/core_cm3.h **** static __INLINE uint32_t  __get_BASEPRI(void)
 949:CMSIS/Inc/core_cm3.h **** {
 950:CMSIS/Inc/core_cm3.h ****   register uint32_t __regBasePri         __ASM("basepri");
 951:CMSIS/Inc/core_cm3.h ****   return(__regBasePri);
 952:CMSIS/Inc/core_cm3.h **** }
 953:CMSIS/Inc/core_cm3.h **** 
 954:CMSIS/Inc/core_cm3.h **** /**
 955:CMSIS/Inc/core_cm3.h ****  * @brief  Set the Base Priority value
 956:CMSIS/Inc/core_cm3.h ****  *
 957:CMSIS/Inc/core_cm3.h ****  * @param  basePri  BasePriority
 958:CMSIS/Inc/core_cm3.h ****  *
 959:CMSIS/Inc/core_cm3.h ****  * Set the base priority register
 960:CMSIS/Inc/core_cm3.h ****  */
 961:CMSIS/Inc/core_cm3.h **** static __INLINE void __set_BASEPRI(uint32_t basePri)
 962:CMSIS/Inc/core_cm3.h **** {
 963:CMSIS/Inc/core_cm3.h ****   register uint32_t __regBasePri         __ASM("basepri");
 964:CMSIS/Inc/core_cm3.h ****   __regBasePri = (basePri & 0xff);
 965:CMSIS/Inc/core_cm3.h **** }
 966:CMSIS/Inc/core_cm3.h **** 
 967:CMSIS/Inc/core_cm3.h **** /**
 968:CMSIS/Inc/core_cm3.h ****  * @brief  Return the Priority Mask value
 969:CMSIS/Inc/core_cm3.h ****  *
 970:CMSIS/Inc/core_cm3.h ****  * @return PriMask
 971:CMSIS/Inc/core_cm3.h ****  *
 972:CMSIS/Inc/core_cm3.h ****  * Return state of the priority mask bit from the priority mask register
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 26


 973:CMSIS/Inc/core_cm3.h ****  */
 974:CMSIS/Inc/core_cm3.h **** static __INLINE uint32_t __get_PRIMASK(void)
 975:CMSIS/Inc/core_cm3.h **** {
 976:CMSIS/Inc/core_cm3.h ****   register uint32_t __regPriMask         __ASM("primask");
 977:CMSIS/Inc/core_cm3.h ****   return(__regPriMask);
 978:CMSIS/Inc/core_cm3.h **** }
 979:CMSIS/Inc/core_cm3.h **** 
 980:CMSIS/Inc/core_cm3.h **** /**
 981:CMSIS/Inc/core_cm3.h ****  * @brief  Set the Priority Mask value
 982:CMSIS/Inc/core_cm3.h ****  *
 983:CMSIS/Inc/core_cm3.h ****  * @param  priMask  PriMask
 984:CMSIS/Inc/core_cm3.h ****  *
 985:CMSIS/Inc/core_cm3.h ****  * Set the priority mask bit in the priority mask register
 986:CMSIS/Inc/core_cm3.h ****  */
 987:CMSIS/Inc/core_cm3.h **** static __INLINE void __set_PRIMASK(uint32_t priMask)
 988:CMSIS/Inc/core_cm3.h **** {
 989:CMSIS/Inc/core_cm3.h ****   register uint32_t __regPriMask         __ASM("primask");
 990:CMSIS/Inc/core_cm3.h ****   __regPriMask = (priMask);
 991:CMSIS/Inc/core_cm3.h **** }
 992:CMSIS/Inc/core_cm3.h **** 
 993:CMSIS/Inc/core_cm3.h **** /**
 994:CMSIS/Inc/core_cm3.h ****  * @brief  Return the Fault Mask value
 995:CMSIS/Inc/core_cm3.h ****  *
 996:CMSIS/Inc/core_cm3.h ****  * @return FaultMask
 997:CMSIS/Inc/core_cm3.h ****  *
 998:CMSIS/Inc/core_cm3.h ****  * Return the content of the fault mask register
 999:CMSIS/Inc/core_cm3.h ****  */
1000:CMSIS/Inc/core_cm3.h **** static __INLINE uint32_t __get_FAULTMASK(void)
1001:CMSIS/Inc/core_cm3.h **** {
1002:CMSIS/Inc/core_cm3.h ****   register uint32_t __regFaultMask       __ASM("faultmask");
1003:CMSIS/Inc/core_cm3.h ****   return(__regFaultMask);
1004:CMSIS/Inc/core_cm3.h **** }
1005:CMSIS/Inc/core_cm3.h **** 
1006:CMSIS/Inc/core_cm3.h **** /**
1007:CMSIS/Inc/core_cm3.h ****  * @brief  Set the Fault Mask value
1008:CMSIS/Inc/core_cm3.h ****  *
1009:CMSIS/Inc/core_cm3.h ****  * @param  faultMask  faultMask value
1010:CMSIS/Inc/core_cm3.h ****  *
1011:CMSIS/Inc/core_cm3.h ****  * Set the fault mask register
1012:CMSIS/Inc/core_cm3.h ****  */
1013:CMSIS/Inc/core_cm3.h **** static __INLINE void __set_FAULTMASK(uint32_t faultMask)
1014:CMSIS/Inc/core_cm3.h **** {
1015:CMSIS/Inc/core_cm3.h ****   register uint32_t __regFaultMask       __ASM("faultmask");
1016:CMSIS/Inc/core_cm3.h ****   __regFaultMask = (faultMask & 1);
1017:CMSIS/Inc/core_cm3.h **** }
1018:CMSIS/Inc/core_cm3.h **** 
1019:CMSIS/Inc/core_cm3.h **** /**
1020:CMSIS/Inc/core_cm3.h ****  * @brief  Return the Control Register value
1021:CMSIS/Inc/core_cm3.h ****  * 
1022:CMSIS/Inc/core_cm3.h ****  * @return Control value
1023:CMSIS/Inc/core_cm3.h ****  *
1024:CMSIS/Inc/core_cm3.h ****  * Return the content of the control register
1025:CMSIS/Inc/core_cm3.h ****  */
1026:CMSIS/Inc/core_cm3.h **** static __INLINE uint32_t __get_CONTROL(void)
1027:CMSIS/Inc/core_cm3.h **** {
1028:CMSIS/Inc/core_cm3.h ****   register uint32_t __regControl         __ASM("control");
1029:CMSIS/Inc/core_cm3.h ****   return(__regControl);
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 27


1030:CMSIS/Inc/core_cm3.h **** }
1031:CMSIS/Inc/core_cm3.h **** 
1032:CMSIS/Inc/core_cm3.h **** /**
1033:CMSIS/Inc/core_cm3.h ****  * @brief  Set the Control Register value
1034:CMSIS/Inc/core_cm3.h ****  *
1035:CMSIS/Inc/core_cm3.h ****  * @param  control  Control value
1036:CMSIS/Inc/core_cm3.h ****  *
1037:CMSIS/Inc/core_cm3.h ****  * Set the control register
1038:CMSIS/Inc/core_cm3.h ****  */
1039:CMSIS/Inc/core_cm3.h **** static __INLINE void __set_CONTROL(uint32_t control)
1040:CMSIS/Inc/core_cm3.h **** {
1041:CMSIS/Inc/core_cm3.h ****   register uint32_t __regControl         __ASM("control");
1042:CMSIS/Inc/core_cm3.h ****   __regControl = control;
1043:CMSIS/Inc/core_cm3.h **** }
1044:CMSIS/Inc/core_cm3.h **** 
1045:CMSIS/Inc/core_cm3.h **** #endif /* __ARMCC_VERSION  */ 
1046:CMSIS/Inc/core_cm3.h **** 
1047:CMSIS/Inc/core_cm3.h **** 
1048:CMSIS/Inc/core_cm3.h **** 
1049:CMSIS/Inc/core_cm3.h **** #elif (defined (__ICCARM__)) /*------------------ ICC Compiler -------------------*/
1050:CMSIS/Inc/core_cm3.h **** /* IAR iccarm specific functions */
1051:CMSIS/Inc/core_cm3.h **** 
1052:CMSIS/Inc/core_cm3.h **** #define __enable_irq                              __enable_interrupt        /*!< global Interrupt e
1053:CMSIS/Inc/core_cm3.h **** #define __disable_irq                             __disable_interrupt       /*!< global Interrupt d
1054:CMSIS/Inc/core_cm3.h **** 
1055:CMSIS/Inc/core_cm3.h **** static __INLINE void __enable_fault_irq()         { __ASM ("cpsie f"); }
1056:CMSIS/Inc/core_cm3.h **** static __INLINE void __disable_fault_irq()        { __ASM ("cpsid f"); }
1057:CMSIS/Inc/core_cm3.h **** 
1058:CMSIS/Inc/core_cm3.h **** #define __NOP                                     __no_operation            /*!< no operation intri
1059:CMSIS/Inc/core_cm3.h **** static __INLINE  void __WFI()                     { __ASM ("wfi"); }
1060:CMSIS/Inc/core_cm3.h **** static __INLINE  void __WFE()                     { __ASM ("wfe"); }
1061:CMSIS/Inc/core_cm3.h **** static __INLINE  void __SEV()                     { __ASM ("sev"); }
1062:CMSIS/Inc/core_cm3.h **** static __INLINE  void __CLREX()                   { __ASM ("clrex"); }
1063:CMSIS/Inc/core_cm3.h **** 
1064:CMSIS/Inc/core_cm3.h **** /* intrinsic void __ISB(void)                                     */
1065:CMSIS/Inc/core_cm3.h **** /* intrinsic void __DSB(void)                                     */
1066:CMSIS/Inc/core_cm3.h **** /* intrinsic void __DMB(void)                                     */
1067:CMSIS/Inc/core_cm3.h **** /* intrinsic void __set_PRIMASK();                                */
1068:CMSIS/Inc/core_cm3.h **** /* intrinsic void __get_PRIMASK();                                */
1069:CMSIS/Inc/core_cm3.h **** /* intrinsic void __set_FAULTMASK();                              */
1070:CMSIS/Inc/core_cm3.h **** /* intrinsic void __get_FAULTMASK();                              */
1071:CMSIS/Inc/core_cm3.h **** /* intrinsic uint32_t __REV(uint32_t value);                      */
1072:CMSIS/Inc/core_cm3.h **** /* intrinsic uint32_t __REVSH(uint32_t value);                    */
1073:CMSIS/Inc/core_cm3.h **** /* intrinsic unsigned long __STREX(unsigned long, unsigned long); */
1074:CMSIS/Inc/core_cm3.h **** /* intrinsic unsigned long __LDREX(unsigned long *);              */
1075:CMSIS/Inc/core_cm3.h **** 
1076:CMSIS/Inc/core_cm3.h **** 
1077:CMSIS/Inc/core_cm3.h **** /**
1078:CMSIS/Inc/core_cm3.h ****  * @brief  Return the Process Stack Pointer
1079:CMSIS/Inc/core_cm3.h ****  *
1080:CMSIS/Inc/core_cm3.h ****  * @return ProcessStackPointer
1081:CMSIS/Inc/core_cm3.h ****  *
1082:CMSIS/Inc/core_cm3.h ****  * Return the actual process stack pointer
1083:CMSIS/Inc/core_cm3.h ****  */
1084:CMSIS/Inc/core_cm3.h **** extern uint32_t __get_PSP(void);
1085:CMSIS/Inc/core_cm3.h **** 
1086:CMSIS/Inc/core_cm3.h **** /**
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 28


1087:CMSIS/Inc/core_cm3.h ****  * @brief  Set the Process Stack Pointer
1088:CMSIS/Inc/core_cm3.h ****  *
1089:CMSIS/Inc/core_cm3.h ****  * @param  topOfProcStack  Process Stack Pointer
1090:CMSIS/Inc/core_cm3.h ****  *
1091:CMSIS/Inc/core_cm3.h ****  * Assign the value ProcessStackPointer to the MSP 
1092:CMSIS/Inc/core_cm3.h ****  * (process stack pointer) Cortex processor register
1093:CMSIS/Inc/core_cm3.h ****  */
1094:CMSIS/Inc/core_cm3.h **** extern void __set_PSP(uint32_t topOfProcStack);
1095:CMSIS/Inc/core_cm3.h **** 
1096:CMSIS/Inc/core_cm3.h **** /**
1097:CMSIS/Inc/core_cm3.h ****  * @brief  Return the Main Stack Pointer
1098:CMSIS/Inc/core_cm3.h ****  *
1099:CMSIS/Inc/core_cm3.h ****  * @return Main Stack Pointer
1100:CMSIS/Inc/core_cm3.h ****  *
1101:CMSIS/Inc/core_cm3.h ****  * Return the current value of the MSP (main stack pointer)
1102:CMSIS/Inc/core_cm3.h ****  * Cortex processor register
1103:CMSIS/Inc/core_cm3.h ****  */
1104:CMSIS/Inc/core_cm3.h **** extern uint32_t __get_MSP(void);
1105:CMSIS/Inc/core_cm3.h **** 
1106:CMSIS/Inc/core_cm3.h **** /**
1107:CMSIS/Inc/core_cm3.h ****  * @brief  Set the Main Stack Pointer
1108:CMSIS/Inc/core_cm3.h ****  *
1109:CMSIS/Inc/core_cm3.h ****  * @param  topOfMainStack  Main Stack Pointer
1110:CMSIS/Inc/core_cm3.h ****  *
1111:CMSIS/Inc/core_cm3.h ****  * Assign the value mainStackPointer to the MSP 
1112:CMSIS/Inc/core_cm3.h ****  * (main stack pointer) Cortex processor register
1113:CMSIS/Inc/core_cm3.h ****  */
1114:CMSIS/Inc/core_cm3.h **** extern void __set_MSP(uint32_t topOfMainStack);
1115:CMSIS/Inc/core_cm3.h **** 
1116:CMSIS/Inc/core_cm3.h **** /**
1117:CMSIS/Inc/core_cm3.h ****  * @brief  Reverse byte order in unsigned short value
1118:CMSIS/Inc/core_cm3.h ****  *
1119:CMSIS/Inc/core_cm3.h ****  * @param  value  value to reverse
1120:CMSIS/Inc/core_cm3.h ****  * @return        reversed value
1121:CMSIS/Inc/core_cm3.h ****  *
1122:CMSIS/Inc/core_cm3.h ****  * Reverse byte order in unsigned short value
1123:CMSIS/Inc/core_cm3.h ****  */
1124:CMSIS/Inc/core_cm3.h **** extern uint32_t __REV16(uint16_t value);
1125:CMSIS/Inc/core_cm3.h **** 
1126:CMSIS/Inc/core_cm3.h **** /**
1127:CMSIS/Inc/core_cm3.h ****  * @brief  Reverse bit order of value
1128:CMSIS/Inc/core_cm3.h ****  *
1129:CMSIS/Inc/core_cm3.h ****  * @param  value  value to reverse
1130:CMSIS/Inc/core_cm3.h ****  * @return        reversed value
1131:CMSIS/Inc/core_cm3.h ****  *
1132:CMSIS/Inc/core_cm3.h ****  * Reverse bit order of value
1133:CMSIS/Inc/core_cm3.h ****  */
1134:CMSIS/Inc/core_cm3.h **** extern uint32_t __RBIT(uint32_t value);
1135:CMSIS/Inc/core_cm3.h **** 
1136:CMSIS/Inc/core_cm3.h **** /**
1137:CMSIS/Inc/core_cm3.h ****  * @brief  LDR Exclusive (8 bit)
1138:CMSIS/Inc/core_cm3.h ****  *
1139:CMSIS/Inc/core_cm3.h ****  * @param  *addr  address pointer
1140:CMSIS/Inc/core_cm3.h ****  * @return        value of (*address)
1141:CMSIS/Inc/core_cm3.h ****  *
1142:CMSIS/Inc/core_cm3.h ****  * Exclusive LDR command for 8 bit values)
1143:CMSIS/Inc/core_cm3.h ****  */
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 29


1144:CMSIS/Inc/core_cm3.h **** extern uint8_t __LDREXB(uint8_t *addr);
1145:CMSIS/Inc/core_cm3.h **** 
1146:CMSIS/Inc/core_cm3.h **** /**
1147:CMSIS/Inc/core_cm3.h ****  * @brief  LDR Exclusive (16 bit)
1148:CMSIS/Inc/core_cm3.h ****  *
1149:CMSIS/Inc/core_cm3.h ****  * @param  *addr  address pointer
1150:CMSIS/Inc/core_cm3.h ****  * @return        value of (*address)
1151:CMSIS/Inc/core_cm3.h ****  *
1152:CMSIS/Inc/core_cm3.h ****  * Exclusive LDR command for 16 bit values
1153:CMSIS/Inc/core_cm3.h ****  */
1154:CMSIS/Inc/core_cm3.h **** extern uint16_t __LDREXH(uint16_t *addr);
1155:CMSIS/Inc/core_cm3.h **** 
1156:CMSIS/Inc/core_cm3.h **** /**
1157:CMSIS/Inc/core_cm3.h ****  * @brief  LDR Exclusive (32 bit)
1158:CMSIS/Inc/core_cm3.h ****  *
1159:CMSIS/Inc/core_cm3.h ****  * @param  *addr  address pointer
1160:CMSIS/Inc/core_cm3.h ****  * @return        value of (*address)
1161:CMSIS/Inc/core_cm3.h ****  *
1162:CMSIS/Inc/core_cm3.h ****  * Exclusive LDR command for 32 bit values
1163:CMSIS/Inc/core_cm3.h ****  */
1164:CMSIS/Inc/core_cm3.h **** extern uint32_t __LDREXW(uint32_t *addr);
1165:CMSIS/Inc/core_cm3.h **** 
1166:CMSIS/Inc/core_cm3.h **** /**
1167:CMSIS/Inc/core_cm3.h ****  * @brief  STR Exclusive (8 bit)
1168:CMSIS/Inc/core_cm3.h ****  *
1169:CMSIS/Inc/core_cm3.h ****  * @param  value  value to store
1170:CMSIS/Inc/core_cm3.h ****  * @param  *addr  address pointer
1171:CMSIS/Inc/core_cm3.h ****  * @return        successful / failed
1172:CMSIS/Inc/core_cm3.h ****  *
1173:CMSIS/Inc/core_cm3.h ****  * Exclusive STR command for 8 bit values
1174:CMSIS/Inc/core_cm3.h ****  */
1175:CMSIS/Inc/core_cm3.h **** extern uint32_t __STREXB(uint8_t value, uint8_t *addr);
1176:CMSIS/Inc/core_cm3.h **** 
1177:CMSIS/Inc/core_cm3.h **** /**
1178:CMSIS/Inc/core_cm3.h ****  * @brief  STR Exclusive (16 bit)
1179:CMSIS/Inc/core_cm3.h ****  *
1180:CMSIS/Inc/core_cm3.h ****  * @param  value  value to store
1181:CMSIS/Inc/core_cm3.h ****  * @param  *addr  address pointer
1182:CMSIS/Inc/core_cm3.h ****  * @return        successful / failed
1183:CMSIS/Inc/core_cm3.h ****  *
1184:CMSIS/Inc/core_cm3.h ****  * Exclusive STR command for 16 bit values
1185:CMSIS/Inc/core_cm3.h ****  */
1186:CMSIS/Inc/core_cm3.h **** extern uint32_t __STREXH(uint16_t value, uint16_t *addr);
1187:CMSIS/Inc/core_cm3.h **** 
1188:CMSIS/Inc/core_cm3.h **** /**
1189:CMSIS/Inc/core_cm3.h ****  * @brief  STR Exclusive (32 bit)
1190:CMSIS/Inc/core_cm3.h ****  *
1191:CMSIS/Inc/core_cm3.h ****  * @param  value  value to store
1192:CMSIS/Inc/core_cm3.h ****  * @param  *addr  address pointer
1193:CMSIS/Inc/core_cm3.h ****  * @return        successful / failed
1194:CMSIS/Inc/core_cm3.h ****  *
1195:CMSIS/Inc/core_cm3.h ****  * Exclusive STR command for 32 bit values
1196:CMSIS/Inc/core_cm3.h ****  */
1197:CMSIS/Inc/core_cm3.h **** extern uint32_t __STREXW(uint32_t value, uint32_t *addr);
1198:CMSIS/Inc/core_cm3.h **** 
1199:CMSIS/Inc/core_cm3.h **** 
1200:CMSIS/Inc/core_cm3.h **** 
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 30


1201:CMSIS/Inc/core_cm3.h **** #elif (defined (__GNUC__)) /*------------------ GNU Compiler ---------------------*/
1202:CMSIS/Inc/core_cm3.h **** /* GNU gcc specific functions */
1203:CMSIS/Inc/core_cm3.h **** 
1204:CMSIS/Inc/core_cm3.h **** static __INLINE void __enable_irq()               { __ASM volatile ("cpsie i"); }
1205:CMSIS/Inc/core_cm3.h **** static __INLINE void __disable_irq()              { __ASM volatile ("cpsid i"); }
1206:CMSIS/Inc/core_cm3.h **** 
1207:CMSIS/Inc/core_cm3.h **** static __INLINE void __enable_fault_irq()         { __ASM volatile ("cpsie f"); }
1208:CMSIS/Inc/core_cm3.h **** static __INLINE void __disable_fault_irq()        { __ASM volatile ("cpsid f"); }
1209:CMSIS/Inc/core_cm3.h **** 
1210:CMSIS/Inc/core_cm3.h **** static __INLINE void __NOP()                      { __ASM volatile ("nop"); }
1211:CMSIS/Inc/core_cm3.h **** static __INLINE void __WFI()                      { __ASM volatile ("wfi"); }
1212:CMSIS/Inc/core_cm3.h **** static __INLINE void __WFE()                      { __ASM volatile ("wfe"); }
1213:CMSIS/Inc/core_cm3.h **** static __INLINE void __SEV()                      { __ASM volatile ("sev"); }
1214:CMSIS/Inc/core_cm3.h **** static __INLINE void __ISB()                      { __ASM volatile ("isb"); }
1215:CMSIS/Inc/core_cm3.h **** static __INLINE void __DSB()                      { __ASM volatile ("dsb"); }
1216:CMSIS/Inc/core_cm3.h **** static __INLINE void __DMB()                      { __ASM volatile ("dmb"); }
1217:CMSIS/Inc/core_cm3.h **** static __INLINE void __CLREX()                    { __ASM volatile ("clrex"); }
1218:CMSIS/Inc/core_cm3.h **** 
1219:CMSIS/Inc/core_cm3.h **** 
1220:CMSIS/Inc/core_cm3.h **** /**
1221:CMSIS/Inc/core_cm3.h ****  * @brief  Return the Process Stack Pointer
1222:CMSIS/Inc/core_cm3.h ****  *
1223:CMSIS/Inc/core_cm3.h ****  * @return ProcessStackPointer
1224:CMSIS/Inc/core_cm3.h ****  *
1225:CMSIS/Inc/core_cm3.h ****  * Return the actual process stack pointer
1226:CMSIS/Inc/core_cm3.h ****  */
1227:CMSIS/Inc/core_cm3.h **** extern uint32_t __get_PSP(void);
1228:CMSIS/Inc/core_cm3.h **** 
1229:CMSIS/Inc/core_cm3.h **** /**
1230:CMSIS/Inc/core_cm3.h ****  * @brief  Set the Process Stack Pointer
1231:CMSIS/Inc/core_cm3.h ****  *
1232:CMSIS/Inc/core_cm3.h ****  * @param  topOfProcStack  Process Stack Pointer
1233:CMSIS/Inc/core_cm3.h ****  *
1234:CMSIS/Inc/core_cm3.h ****  * Assign the value ProcessStackPointer to the MSP 
1235:CMSIS/Inc/core_cm3.h ****  * (process stack pointer) Cortex processor register
1236:CMSIS/Inc/core_cm3.h ****  */
1237:CMSIS/Inc/core_cm3.h **** extern void __set_PSP(uint32_t topOfProcStack);
1238:CMSIS/Inc/core_cm3.h **** 
1239:CMSIS/Inc/core_cm3.h **** /**
1240:CMSIS/Inc/core_cm3.h ****  * @brief  Return the Main Stack Pointer
1241:CMSIS/Inc/core_cm3.h ****  *
1242:CMSIS/Inc/core_cm3.h ****  * @return Main Stack Pointer
1243:CMSIS/Inc/core_cm3.h ****  *
1244:CMSIS/Inc/core_cm3.h ****  * Return the current value of the MSP (main stack pointer)
1245:CMSIS/Inc/core_cm3.h ****  * Cortex processor register
1246:CMSIS/Inc/core_cm3.h ****  */
1247:CMSIS/Inc/core_cm3.h **** extern uint32_t __get_MSP(void);
1248:CMSIS/Inc/core_cm3.h **** 
1249:CMSIS/Inc/core_cm3.h **** /**
1250:CMSIS/Inc/core_cm3.h ****  * @brief  Set the Main Stack Pointer
1251:CMSIS/Inc/core_cm3.h ****  *
1252:CMSIS/Inc/core_cm3.h ****  * @param  topOfMainStack  Main Stack Pointer
1253:CMSIS/Inc/core_cm3.h ****  *
1254:CMSIS/Inc/core_cm3.h ****  * Assign the value mainStackPointer to the MSP 
1255:CMSIS/Inc/core_cm3.h ****  * (main stack pointer) Cortex processor register
1256:CMSIS/Inc/core_cm3.h ****  */
1257:CMSIS/Inc/core_cm3.h **** extern void __set_MSP(uint32_t topOfMainStack);
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 31


1258:CMSIS/Inc/core_cm3.h **** 
1259:CMSIS/Inc/core_cm3.h **** /**
1260:CMSIS/Inc/core_cm3.h ****  * @brief  Return the Base Priority value
1261:CMSIS/Inc/core_cm3.h ****  *
1262:CMSIS/Inc/core_cm3.h ****  * @return BasePriority
1263:CMSIS/Inc/core_cm3.h ****  *
1264:CMSIS/Inc/core_cm3.h ****  * Return the content of the base priority register
1265:CMSIS/Inc/core_cm3.h ****  */
1266:CMSIS/Inc/core_cm3.h **** extern uint32_t __get_BASEPRI(void);
1267:CMSIS/Inc/core_cm3.h **** 
1268:CMSIS/Inc/core_cm3.h **** /**
1269:CMSIS/Inc/core_cm3.h ****  * @brief  Set the Base Priority value
1270:CMSIS/Inc/core_cm3.h ****  *
1271:CMSIS/Inc/core_cm3.h ****  * @param  basePri  BasePriority
1272:CMSIS/Inc/core_cm3.h ****  *
1273:CMSIS/Inc/core_cm3.h ****  * Set the base priority register
1274:CMSIS/Inc/core_cm3.h ****  */
1275:CMSIS/Inc/core_cm3.h **** extern void __set_BASEPRI(uint32_t basePri);
1276:CMSIS/Inc/core_cm3.h **** 
1277:CMSIS/Inc/core_cm3.h **** /**
1278:CMSIS/Inc/core_cm3.h ****  * @brief  Return the Priority Mask value
1279:CMSIS/Inc/core_cm3.h ****  *
1280:CMSIS/Inc/core_cm3.h ****  * @return PriMask
1281:CMSIS/Inc/core_cm3.h ****  *
1282:CMSIS/Inc/core_cm3.h ****  * Return state of the priority mask bit from the priority mask register
1283:CMSIS/Inc/core_cm3.h ****  */
1284:CMSIS/Inc/core_cm3.h **** extern uint32_t  __get_PRIMASK(void);
1285:CMSIS/Inc/core_cm3.h **** 
1286:CMSIS/Inc/core_cm3.h **** /**
1287:CMSIS/Inc/core_cm3.h ****  * @brief  Set the Priority Mask value
1288:CMSIS/Inc/core_cm3.h ****  *
1289:CMSIS/Inc/core_cm3.h ****  * @param  priMask  PriMask
1290:CMSIS/Inc/core_cm3.h ****  *
1291:CMSIS/Inc/core_cm3.h ****  * Set the priority mask bit in the priority mask register
1292:CMSIS/Inc/core_cm3.h ****  */
1293:CMSIS/Inc/core_cm3.h **** extern void __set_PRIMASK(uint32_t priMask);
1294:CMSIS/Inc/core_cm3.h **** 
1295:CMSIS/Inc/core_cm3.h **** /**
1296:CMSIS/Inc/core_cm3.h ****  * @brief  Return the Fault Mask value
1297:CMSIS/Inc/core_cm3.h ****  *
1298:CMSIS/Inc/core_cm3.h ****  * @return FaultMask
1299:CMSIS/Inc/core_cm3.h ****  *
1300:CMSIS/Inc/core_cm3.h ****  * Return the content of the fault mask register
1301:CMSIS/Inc/core_cm3.h ****  */
1302:CMSIS/Inc/core_cm3.h **** extern uint32_t __get_FAULTMASK(void);
1303:CMSIS/Inc/core_cm3.h **** 
1304:CMSIS/Inc/core_cm3.h **** /**
1305:CMSIS/Inc/core_cm3.h ****  * @brief  Set the Fault Mask value
1306:CMSIS/Inc/core_cm3.h ****  *
1307:CMSIS/Inc/core_cm3.h ****  * @param  faultMask  faultMask value
1308:CMSIS/Inc/core_cm3.h ****  *
1309:CMSIS/Inc/core_cm3.h ****  * Set the fault mask register
1310:CMSIS/Inc/core_cm3.h ****  */
1311:CMSIS/Inc/core_cm3.h **** extern void __set_FAULTMASK(uint32_t faultMask);
1312:CMSIS/Inc/core_cm3.h **** 
1313:CMSIS/Inc/core_cm3.h **** /**
1314:CMSIS/Inc/core_cm3.h ****  * @brief  Return the Control Register value
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 32


1315:CMSIS/Inc/core_cm3.h **** * 
1316:CMSIS/Inc/core_cm3.h **** *  @return Control value
1317:CMSIS/Inc/core_cm3.h ****  *
1318:CMSIS/Inc/core_cm3.h ****  * Return the content of the control register
1319:CMSIS/Inc/core_cm3.h ****  */
1320:CMSIS/Inc/core_cm3.h **** extern uint32_t __get_CONTROL(void);
1321:CMSIS/Inc/core_cm3.h **** 
1322:CMSIS/Inc/core_cm3.h **** /**
1323:CMSIS/Inc/core_cm3.h ****  * @brief  Set the Control Register value
1324:CMSIS/Inc/core_cm3.h ****  *
1325:CMSIS/Inc/core_cm3.h ****  * @param  control  Control value
1326:CMSIS/Inc/core_cm3.h ****  *
1327:CMSIS/Inc/core_cm3.h ****  * Set the control register
1328:CMSIS/Inc/core_cm3.h ****  */
1329:CMSIS/Inc/core_cm3.h **** extern void __set_CONTROL(uint32_t control);
1330:CMSIS/Inc/core_cm3.h **** 
1331:CMSIS/Inc/core_cm3.h **** /**
1332:CMSIS/Inc/core_cm3.h ****  * @brief  Reverse byte order in integer value
1333:CMSIS/Inc/core_cm3.h ****  *
1334:CMSIS/Inc/core_cm3.h ****  * @param  value  value to reverse
1335:CMSIS/Inc/core_cm3.h ****  * @return        reversed value
1336:CMSIS/Inc/core_cm3.h ****  *
1337:CMSIS/Inc/core_cm3.h ****  * Reverse byte order in integer value
1338:CMSIS/Inc/core_cm3.h ****  */
1339:CMSIS/Inc/core_cm3.h **** extern uint32_t __REV(uint32_t value);
1340:CMSIS/Inc/core_cm3.h **** 
1341:CMSIS/Inc/core_cm3.h **** /**
1342:CMSIS/Inc/core_cm3.h ****  * @brief  Reverse byte order in unsigned short value
1343:CMSIS/Inc/core_cm3.h ****  *
1344:CMSIS/Inc/core_cm3.h ****  * @param  value  value to reverse
1345:CMSIS/Inc/core_cm3.h ****  * @return        reversed value
1346:CMSIS/Inc/core_cm3.h ****  *
1347:CMSIS/Inc/core_cm3.h ****  * Reverse byte order in unsigned short value
1348:CMSIS/Inc/core_cm3.h ****  */
1349:CMSIS/Inc/core_cm3.h **** extern uint32_t __REV16(uint16_t value);
1350:CMSIS/Inc/core_cm3.h **** 
1351:CMSIS/Inc/core_cm3.h **** /**
1352:CMSIS/Inc/core_cm3.h ****  * @brief  Reverse byte order in signed short value with sign extension to integer
1353:CMSIS/Inc/core_cm3.h ****  *
1354:CMSIS/Inc/core_cm3.h ****  * @param  value  value to reverse
1355:CMSIS/Inc/core_cm3.h ****  * @return        reversed value
1356:CMSIS/Inc/core_cm3.h ****  *
1357:CMSIS/Inc/core_cm3.h ****  * Reverse byte order in signed short value with sign extension to integer
1358:CMSIS/Inc/core_cm3.h ****  */
1359:CMSIS/Inc/core_cm3.h **** extern int32_t __REVSH(int16_t value);
1360:CMSIS/Inc/core_cm3.h **** 
1361:CMSIS/Inc/core_cm3.h **** /**
1362:CMSIS/Inc/core_cm3.h ****  * @brief  Reverse bit order of value
1363:CMSIS/Inc/core_cm3.h ****  *
1364:CMSIS/Inc/core_cm3.h ****  * @param  value  value to reverse
1365:CMSIS/Inc/core_cm3.h ****  * @return        reversed value
1366:CMSIS/Inc/core_cm3.h ****  *
1367:CMSIS/Inc/core_cm3.h ****  * Reverse bit order of value
1368:CMSIS/Inc/core_cm3.h ****  */
1369:CMSIS/Inc/core_cm3.h **** extern uint32_t __RBIT(uint32_t value);
1370:CMSIS/Inc/core_cm3.h **** 
1371:CMSIS/Inc/core_cm3.h **** /**
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 33


1372:CMSIS/Inc/core_cm3.h ****  * @brief  LDR Exclusive (8 bit)
1373:CMSIS/Inc/core_cm3.h ****  *
1374:CMSIS/Inc/core_cm3.h ****  * @param  *addr  address pointer
1375:CMSIS/Inc/core_cm3.h ****  * @return        value of (*address)
1376:CMSIS/Inc/core_cm3.h ****  *
1377:CMSIS/Inc/core_cm3.h ****  * Exclusive LDR command for 8 bit value
1378:CMSIS/Inc/core_cm3.h ****  */
1379:CMSIS/Inc/core_cm3.h **** extern uint8_t __LDREXB(uint8_t *addr);
1380:CMSIS/Inc/core_cm3.h **** 
1381:CMSIS/Inc/core_cm3.h **** /**
1382:CMSIS/Inc/core_cm3.h ****  * @brief  LDR Exclusive (16 bit)
1383:CMSIS/Inc/core_cm3.h ****  *
1384:CMSIS/Inc/core_cm3.h ****  * @param  *addr  address pointer
1385:CMSIS/Inc/core_cm3.h ****  * @return        value of (*address)
1386:CMSIS/Inc/core_cm3.h ****  *
1387:CMSIS/Inc/core_cm3.h ****  * Exclusive LDR command for 16 bit values
1388:CMSIS/Inc/core_cm3.h ****  */
1389:CMSIS/Inc/core_cm3.h **** extern uint16_t __LDREXH(uint16_t *addr);
1390:CMSIS/Inc/core_cm3.h **** 
1391:CMSIS/Inc/core_cm3.h **** /**
1392:CMSIS/Inc/core_cm3.h ****  * @brief  LDR Exclusive (32 bit)
1393:CMSIS/Inc/core_cm3.h ****  *
1394:CMSIS/Inc/core_cm3.h ****  * @param  *addr  address pointer
1395:CMSIS/Inc/core_cm3.h ****  * @return        value of (*address)
1396:CMSIS/Inc/core_cm3.h ****  *
1397:CMSIS/Inc/core_cm3.h ****  * Exclusive LDR command for 32 bit values
1398:CMSIS/Inc/core_cm3.h ****  */
1399:CMSIS/Inc/core_cm3.h **** extern uint32_t __LDREXW(uint32_t *addr);
1400:CMSIS/Inc/core_cm3.h **** 
1401:CMSIS/Inc/core_cm3.h **** /**
1402:CMSIS/Inc/core_cm3.h ****  * @brief  STR Exclusive (8 bit)
1403:CMSIS/Inc/core_cm3.h ****  *
1404:CMSIS/Inc/core_cm3.h ****  * @param  value  value to store
1405:CMSIS/Inc/core_cm3.h ****  * @param  *addr  address pointer
1406:CMSIS/Inc/core_cm3.h ****  * @return        successful / failed
1407:CMSIS/Inc/core_cm3.h ****  *
1408:CMSIS/Inc/core_cm3.h ****  * Exclusive STR command for 8 bit values
1409:CMSIS/Inc/core_cm3.h ****  */
1410:CMSIS/Inc/core_cm3.h **** extern uint32_t __STREXB(uint8_t value, uint8_t *addr);
1411:CMSIS/Inc/core_cm3.h **** 
1412:CMSIS/Inc/core_cm3.h **** /**
1413:CMSIS/Inc/core_cm3.h ****  * @brief  STR Exclusive (16 bit)
1414:CMSIS/Inc/core_cm3.h ****  *
1415:CMSIS/Inc/core_cm3.h ****  * @param  value  value to store
1416:CMSIS/Inc/core_cm3.h ****  * @param  *addr  address pointer
1417:CMSIS/Inc/core_cm3.h ****  * @return        successful / failed
1418:CMSIS/Inc/core_cm3.h ****  *
1419:CMSIS/Inc/core_cm3.h ****  * Exclusive STR command for 16 bit values
1420:CMSIS/Inc/core_cm3.h ****  */
1421:CMSIS/Inc/core_cm3.h **** extern uint32_t __STREXH(uint16_t value, uint16_t *addr);
1422:CMSIS/Inc/core_cm3.h **** 
1423:CMSIS/Inc/core_cm3.h **** /**
1424:CMSIS/Inc/core_cm3.h ****  * @brief  STR Exclusive (32 bit)
1425:CMSIS/Inc/core_cm3.h ****  *
1426:CMSIS/Inc/core_cm3.h ****  * @param  value  value to store
1427:CMSIS/Inc/core_cm3.h ****  * @param  *addr  address pointer
1428:CMSIS/Inc/core_cm3.h ****  * @return        successful / failed
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 34


1429:CMSIS/Inc/core_cm3.h ****  *
1430:CMSIS/Inc/core_cm3.h ****  * Exclusive STR command for 32 bit values
1431:CMSIS/Inc/core_cm3.h ****  */
1432:CMSIS/Inc/core_cm3.h **** extern uint32_t __STREXW(uint32_t value, uint32_t *addr);
1433:CMSIS/Inc/core_cm3.h **** 
1434:CMSIS/Inc/core_cm3.h **** 
1435:CMSIS/Inc/core_cm3.h **** #elif (defined (__TASKING__)) /*------------------ TASKING Compiler ---------------------*/
1436:CMSIS/Inc/core_cm3.h **** /* TASKING carm specific functions */
1437:CMSIS/Inc/core_cm3.h **** 
1438:CMSIS/Inc/core_cm3.h **** /*
1439:CMSIS/Inc/core_cm3.h ****  * The CMSIS functions have been implemented as intrinsics in the compiler.
1440:CMSIS/Inc/core_cm3.h ****  * Please use "carm -?i" to get an up to date list of all instrinsics,
1441:CMSIS/Inc/core_cm3.h ****  * Including the CMSIS ones.
1442:CMSIS/Inc/core_cm3.h ****  */
1443:CMSIS/Inc/core_cm3.h **** 
1444:CMSIS/Inc/core_cm3.h **** #endif
1445:CMSIS/Inc/core_cm3.h **** 
1446:CMSIS/Inc/core_cm3.h **** 
1447:CMSIS/Inc/core_cm3.h **** /** @addtogroup CMSIS_CM3_Core_FunctionInterface CMSIS CM3 Core Function Interface
1448:CMSIS/Inc/core_cm3.h ****   Core  Function Interface containing:
1449:CMSIS/Inc/core_cm3.h ****   - Core NVIC Functions
1450:CMSIS/Inc/core_cm3.h ****   - Core SysTick Functions
1451:CMSIS/Inc/core_cm3.h ****   - Core Reset Functions
1452:CMSIS/Inc/core_cm3.h **** */
1453:CMSIS/Inc/core_cm3.h **** /*@{*/
1454:CMSIS/Inc/core_cm3.h **** 
1455:CMSIS/Inc/core_cm3.h **** /* ##########################   NVIC functions  #################################### */
1456:CMSIS/Inc/core_cm3.h **** 
1457:CMSIS/Inc/core_cm3.h **** /**
1458:CMSIS/Inc/core_cm3.h ****  * @brief  Set the Priority Grouping in NVIC Interrupt Controller
1459:CMSIS/Inc/core_cm3.h ****  *
1460:CMSIS/Inc/core_cm3.h ****  * @param  PriorityGroup is priority grouping field
1461:CMSIS/Inc/core_cm3.h ****  *
1462:CMSIS/Inc/core_cm3.h ****  * Set the priority grouping field using the required unlock sequence.
1463:CMSIS/Inc/core_cm3.h ****  * The parameter priority_grouping is assigned to the field 
1464:CMSIS/Inc/core_cm3.h ****  * SCB->AIRCR [10:8] PRIGROUP field. Only values from 0..7 are used.
1465:CMSIS/Inc/core_cm3.h ****  * In case of a conflict between priority grouping and available
1466:CMSIS/Inc/core_cm3.h ****  * priority bits (__NVIC_PRIO_BITS) the smallest possible priority group is set.
1467:CMSIS/Inc/core_cm3.h ****  */
1468:CMSIS/Inc/core_cm3.h **** static __INLINE void NVIC_SetPriorityGrouping(uint32_t PriorityGroup)
1469:CMSIS/Inc/core_cm3.h **** {
1470:CMSIS/Inc/core_cm3.h ****   uint32_t reg_value;
1471:CMSIS/Inc/core_cm3.h ****   uint32_t PriorityGroupTmp = (PriorityGroup & 0x07);                         /* only values 0..7 a
1472:CMSIS/Inc/core_cm3.h ****   
1473:CMSIS/Inc/core_cm3.h ****   reg_value  =  SCB->AIRCR;                                                   /* read old register 
1474:CMSIS/Inc/core_cm3.h ****   reg_value &= ~(SCB_AIRCR_VECTKEY_Msk | SCB_AIRCR_PRIGROUP_Msk);             /* clear bits to chan
1475:CMSIS/Inc/core_cm3.h ****   reg_value  =  (reg_value                       |
1476:CMSIS/Inc/core_cm3.h ****                 (0x5FA << SCB_AIRCR_VECTKEY_Pos) | 
1477:CMSIS/Inc/core_cm3.h ****                 (PriorityGroupTmp << 8));                                     /* Insert write key a
1478:CMSIS/Inc/core_cm3.h ****   SCB->AIRCR =  reg_value;
1479:CMSIS/Inc/core_cm3.h **** }
1480:CMSIS/Inc/core_cm3.h **** 
1481:CMSIS/Inc/core_cm3.h **** /**
1482:CMSIS/Inc/core_cm3.h ****  * @brief  Get the Priority Grouping from NVIC Interrupt Controller
1483:CMSIS/Inc/core_cm3.h ****  *
1484:CMSIS/Inc/core_cm3.h ****  * @return priority grouping field 
1485:CMSIS/Inc/core_cm3.h ****  *
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 35


1486:CMSIS/Inc/core_cm3.h ****  * Get the priority grouping from NVIC Interrupt Controller.
1487:CMSIS/Inc/core_cm3.h ****  * priority grouping is SCB->AIRCR [10:8] PRIGROUP field.
1488:CMSIS/Inc/core_cm3.h ****  */
1489:CMSIS/Inc/core_cm3.h **** static __INLINE uint32_t NVIC_GetPriorityGrouping(void)
1490:CMSIS/Inc/core_cm3.h **** {
1491:CMSIS/Inc/core_cm3.h ****   return ((SCB->AIRCR & SCB_AIRCR_PRIGROUP_Msk) >> SCB_AIRCR_PRIGROUP_Pos);   /* read priority grou
1492:CMSIS/Inc/core_cm3.h **** }
1493:CMSIS/Inc/core_cm3.h **** 
1494:CMSIS/Inc/core_cm3.h **** /**
1495:CMSIS/Inc/core_cm3.h ****  * @brief  Enable Interrupt in NVIC Interrupt Controller
1496:CMSIS/Inc/core_cm3.h ****  *
1497:CMSIS/Inc/core_cm3.h ****  * @param  IRQn   The positive number of the external interrupt to enable
1498:CMSIS/Inc/core_cm3.h ****  *
1499:CMSIS/Inc/core_cm3.h ****  * Enable a device specific interupt in the NVIC interrupt controller.
1500:CMSIS/Inc/core_cm3.h ****  * The interrupt number cannot be a negative value.
1501:CMSIS/Inc/core_cm3.h ****  */
1502:CMSIS/Inc/core_cm3.h **** static __INLINE void NVIC_EnableIRQ(IRQn_Type IRQn)
 358              		.loc 2 1502 22 view .LVU95
 359              	.LBB38:
1503:CMSIS/Inc/core_cm3.h **** {
1504:CMSIS/Inc/core_cm3.h ****   NVIC->ISER[((uint32_t)(IRQn) >> 5)] = (1 << ((uint32_t)(IRQn) & 0x1F)); /* enable interrupt */
 360              		.loc 2 1504 3 view .LVU96
 361              		.loc 2 1504 39 is_stmt 0 view .LVU97
 362 0094 094B     		ldr	r3, .L15+28
 363 0096 4FF48012 		mov	r2, #1048576
 364 009a 1A60     		str	r2, [r3]
 365              	.LVL26:
 366              		.loc 2 1504 39 view .LVU98
 367              	.LBE38:
 368              	.LBE37:
  96:usb_lib.c     **** #ifdef SYSCFG_PMC_USB_PU
  97:usb_lib.c     ****   SYSCFG->PMC |= SYSCFG_PMC_USB_PU;
  98:usb_lib.c     **** #elif defined EXTEN_USBD_PU_EN
  99:usb_lib.c     ****   EXTEN->EXTEN_CTR |= EXTEN_USBD_PU_EN;
 100:usb_lib.c     **** #elif defined USB_PULLUP
 101:usb_lib.c     ****   GPO_ON( USB_PULLUP );
 102:usb_lib.c     **** #endif
 103:usb_lib.c     **** }
 369              		.loc 1 103 1 view .LVU99
 370 009c 7047     		bx	lr
 371              	.L16:
 372 009e 00BF     		.align	2
 373              	.L15:
 374 00a0 00100240 		.word	1073876992
 375 00a4 005C0040 		.word	1073765376
 376 00a8 00080140 		.word	1073809408
 377 00ac 9F860100 		.word	99999
 378 00b0 00000000 		.word	endp_callback_default
 379 00b4 00000000 		.word	.LANCHOR0
 380 00b8 00000000 		.word	.LANCHOR1
 381 00bc 00E100E0 		.word	-536813312
 382              		.cfi_endproc
 383              	.LFE40:
 385              		.section	.text.usb_ep_init,"ax",%progbits
 386              		.align	1
 387              		.global	usb_ep_init
 388              		.syntax unified
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 36


 389              		.thumb
 390              		.thumb_func
 392              	usb_ep_init:
 393              	.LVL27:
 394              	.LFB44:
 104:usb_lib.c     **** 
 105:usb_lib.c     **** static const uint8_t *ep0_buf = NULL;
 106:usb_lib.c     **** static uint16_t ep0_count = 0;
 107:usb_lib.c     **** 
 108:usb_lib.c     **** static void ep0_in(uint8_t epnum){
 109:usb_lib.c     ****   if(ep0_buf == NULL)return;
 110:usb_lib.c     ****   uint16_t left = ep0_count;
 111:usb_lib.c     ****   if(left > USB_EP0_BUFSZ)left = USB_EP0_BUFSZ;
 112:usb_lib.c     ****   usb_ep_write(0, (uint16_t*)ep0_buf, left);
 113:usb_lib.c     ****   
 114:usb_lib.c     ****   ep0_count -= left;
 115:usb_lib.c     ****   ep0_buf += left;
 116:usb_lib.c     ****   
 117:usb_lib.c     ****   if(left < USB_EP0_BUFSZ){
 118:usb_lib.c     ****     ep0_buf = NULL;
 119:usb_lib.c     ****   }
 120:usb_lib.c     **** }
 121:usb_lib.c     **** 
 122:usb_lib.c     **** inline static void ep0_send(const uint16_t *buf, uint16_t size){
 123:usb_lib.c     ****   ep0_count = size;
 124:usb_lib.c     ****   ep0_buf = (uint8_t*)buf;
 125:usb_lib.c     ****   ep0_in(0x80);
 126:usb_lib.c     **** }
 127:usb_lib.c     **** 
 128:usb_lib.c     **** static uint8_t configuration = 0;
 129:usb_lib.c     **** 
 130:usb_lib.c     **** static void ep0_out(uint8_t epnum){
 131:usb_lib.c     ****   static uint16_t bytesread = 0;
 132:usb_lib.c     ****   uint16_t rxcount = usb_epdata[0].rx_count;
 133:usb_lib.c     ****   uint8_t setup = !!(USB_EPx(0) & USB_EP_SETUP);
 134:usb_lib.c     **** 
 135:usb_lib.c     ****   if( setup ){
 136:usb_lib.c     ****     if( setup_packet.bmRequestType & 0x80 ){ //предыдущий пакет=IN, этот точ
 137:usb_lib.c     ****       usb_ep_read(0, (uint16_t*)&setup_packet);
 138:usb_lib.c     ****       bytesread = 0;
 139:usb_lib.c     ****       rxcount = 0;
 140:usb_lib.c     ****     }else{ //предыдущий пакет=OUT, этот будет либо данными к н
 141:usb_lib.c     ****       if( bytesread >= setup_packet.wLength ){
 142:usb_lib.c     ****         usb_ep_read(0, (uint16_t*)&setup_packet);
 143:usb_lib.c     ****         bytesread = 0;
 144:usb_lib.c     ****         rxcount = 0;
 145:usb_lib.c     ****       }
 146:usb_lib.c     ****     }
 147:usb_lib.c     ****   }
 148:usb_lib.c     **** 
 149:usb_lib.c     ****   uint8_t req = setup_packet.bmRequestType & 0x7F;
 150:usb_lib.c     ****   
 151:usb_lib.c     ****   if(setup_packet.bmRequestType & 0x80){
 152:usb_lib.c     ****     //---IN---
 153:usb_lib.c     ****     if( !setup )return; //какой-то костыль. Иначе вызывается два р
 154:usb_lib.c     ****     if(req == (USB_REQ_STANDARD | USB_REQ_DEVICE)){
 155:usb_lib.c     ****       switch(setup_packet.bRequest){
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 37


 156:usb_lib.c     ****         case GET_DESCRIPTOR:{
 157:usb_lib.c     ****           const void *data = ZLPP;
 158:usb_lib.c     ****           uint16_t size = 0;
 159:usb_lib.c     ****           usb_class_get_std_descr(setup_packet.wValue, &data, &size);
 160:usb_lib.c     ****           if(setup_packet.wLength < size) size = setup_packet.wLength;
 161:usb_lib.c     ****           ep0_send(data, size);
 162:usb_lib.c     ****           return;
 163:usb_lib.c     ****         }
 164:usb_lib.c     ****         case GET_STATUS:
 165:usb_lib.c     ****           usb_ep_write(0, (uint16_t*)"\0", 2); // send status: Bus Powered
 166:usb_lib.c     ****           return;
 167:usb_lib.c     ****         case GET_CONFIGURATION:
 168:usb_lib.c     ****           usb_ep_write(0, (uint16_t*)&configuration, 1);
 169:usb_lib.c     ****           return;
 170:usb_lib.c     ****       }
 171:usb_lib.c     ****     }
 172:usb_lib.c     ****     void *data = ZLPP;
 173:usb_lib.c     ****     uint16_t size = 0;
 174:usb_lib.c     ****     usb_class_ep0_in( &setup_packet, &data, &size );
 175:usb_lib.c     ****     if(setup_packet.wLength < size) size = setup_packet.wLength;
 176:usb_lib.c     ****     ep0_send(data, size);
 177:usb_lib.c     ****   }else{
 178:usb_lib.c     ****     //---OUT---
 179:usb_lib.c     ****     if(req == (USB_REQ_STANDARD | USB_REQ_DEVICE)){
 180:usb_lib.c     ****       if(setup_packet.bRequest == SET_ADDRESS){
 181:usb_lib.c     ****         uint8_t USB_Addr = setup_packet.wValue;
 182:usb_lib.c     ****         usb_ep_write(0, NULL, 0);
 183:usb_lib.c     ****         while( (USB_EPx(0) & USB_EPTX_STAT) == USB_EP_TX_VALID ){}
 184:usb_lib.c     ****         USB->DADDR = USB_DADDR_EF | USB_Addr;
 185:usb_lib.c     ****         return;
 186:usb_lib.c     ****       }else if(setup_packet.bRequest == SET_CONFIGURATION){
 187:usb_lib.c     ****         configuration = setup_packet.wValue;
 188:usb_lib.c     ****         usb_ep_write(0, NULL, 0);
 189:usb_lib.c     ****         return;
 190:usb_lib.c     ****       }
 191:usb_lib.c     ****     }
 192:usb_lib.c     ****     if(!usb_class_ep0_out( &setup_packet, bytesread, rxcount )){
 193:usb_lib.c     ****       ENDP_STAT_RX(0, USB_EP_RX_VALID);
 194:usb_lib.c     ****     }
 195:usb_lib.c     ****     bytesread += rxcount;
 196:usb_lib.c     ****     if( bytesread >= setup_packet.wLength )usb_ep_write(0, NULL, 0);
 197:usb_lib.c     ****   }
 198:usb_lib.c     **** }
 199:usb_lib.c     **** 
 200:usb_lib.c     **** static uint16_t lastaddr = LASTADDR_DEFAULT;
 201:usb_lib.c     **** void usb_ep_init(uint8_t epnum, uint8_t ep_type, uint16_t size, epfunc_t func){
 395              		.loc 1 201 79 is_stmt 1 view -0
 396              		.cfi_startproc
 397              		@ args = 0, pretend = 0, frame = 0
 398              		@ frame_needed = 0, uses_anonymous_args = 0
 399              		.loc 1 201 79 is_stmt 0 view .LVU101
 400 0000 30B5     		push	{r4, r5, lr}
 401              	.LCFI0:
 402              		.cfi_def_cfa_offset 12
 403              		.cfi_offset 4, -12
 404              		.cfi_offset 5, -8
 405              		.cfi_offset 14, -4
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 38


 202:usb_lib.c     ****   if(func == NULL)func = endp_callback_default;
 406              		.loc 1 202 3 is_stmt 1 view .LVU102
 407              		.loc 1 202 5 is_stmt 0 view .LVU103
 408 0002 1C46     		mov	r4, r3
 409 0004 83B3     		cbz	r3, .L33
 410              	.L18:
 411              	.LVL28:
 203:usb_lib.c     ****   uint8_t dir_in = (epnum & 0x80);
 412              		.loc 1 203 3 is_stmt 1 view .LVU104
 204:usb_lib.c     ****   epnum &= 0x0F;
 413              		.loc 1 204 3 view .LVU105
 414              		.loc 1 204 9 is_stmt 0 view .LVU106
 415 0006 00F00F0E 		and	lr, r0, #15
 416              	.LVL29:
 205:usb_lib.c     ****   
 206:usb_lib.c     ****   if(dir_in){
 417              		.loc 1 206 3 is_stmt 1 view .LVU107
 418 000a 4FFA80FC 		sxtb	ip, r0
 419              		.loc 1 206 5 is_stmt 0 view .LVU108
 420 000e BCF1000F 		cmp	ip, #0
 421 0012 2BDB     		blt	.L34
 207:usb_lib.c     ****     ENDP_STAT_TX(epnum, USB_EP_TX_DIS);
 208:usb_lib.c     ****   }else{
 209:usb_lib.c     ****     ENDP_STAT_RX(epnum, USB_EP_RX_DIS);
 422              		.loc 1 209 5 is_stmt 1 view .LVU109
 423              		.loc 1 209 5 view .LVU110
 424 0014 4FEA8E00 		lsl	r0, lr, #2
 425              	.LVL30:
 426              		.loc 1 209 5 is_stmt 0 view .LVU111
 427 0018 00F18040 		add	r0, r0, #1073741824
 428 001c 00F5B840 		add	r0, r0, #23552
 429 0020 0388     		ldrh	r3, [r0]
 430 0022 23F0F003 		bic	r3, r3, #240
 431 0026 9B04     		lsls	r3, r3, #18
 432 0028 9B0C     		lsrs	r3, r3, #18
 433 002a 43F40043 		orr	r3, r3, #32768
 434 002e 43F08003 		orr	r3, r3, #128
 435 0032 0380     		strh	r3, [r0]	@ movhi
 436              	.L20:
 437              		.loc 1 209 5 is_stmt 1 discriminator 1 view .LVU112
 210:usb_lib.c     ****   }
 211:usb_lib.c     ****   
 212:usb_lib.c     ****   uint16_t buf = USB_EPx(epnum);
 438              		.loc 1 212 3 discriminator 1 view .LVU113
 439              		.loc 1 212 18 is_stmt 0 discriminator 1 view .LVU114
 440 0034 4FEA8E00 		lsl	r0, lr, #2
 441 0038 00F18040 		add	r0, r0, #1073741824
 442 003c 00F5B840 		add	r0, r0, #23552
 443              		.loc 1 212 12 discriminator 1 view .LVU115
 444 0040 0388     		ldrh	r3, [r0]
 445              	.LVL31:
 213:usb_lib.c     ****   buf = (buf & ~(USB_EP_DTOG_RX | USB_EP_DTOG_TX | USB_EPTX_STAT | USB_EPRX_STAT)) | USB_EP_CTR_RX 
 446              		.loc 1 213 3 is_stmt 1 discriminator 1 view .LVU116
 214:usb_lib.c     ****   buf = (buf & ~USB_EPADDR_FIELD) | epnum;
 447              		.loc 1 214 3 discriminator 1 view .LVU117
 448              		.loc 1 214 14 is_stmt 0 discriminator 1 view .LVU118
 449 0042 03F47063 		and	r3, r3, #3840
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 39


 450              	.LVL32:
 451              		.loc 1 214 14 discriminator 1 view .LVU119
 452 0046 43F40043 		orr	r3, r3, #32768
 453 004a 43F08003 		orr	r3, r3, #128
 454              		.loc 1 214 7 discriminator 1 view .LVU120
 455 004e 4EEA0303 		orr	r3, lr, r3
 456              	.LVL33:
 215:usb_lib.c     ****   //buf = (buf & ~USB_EP_T_FIELD) | ep_type;
 216:usb_lib.c     ****   buf &=~ USB_EP_T_FIELD;
 457              		.loc 1 216 3 is_stmt 1 discriminator 1 view .LVU121
 458              		.loc 1 216 7 is_stmt 0 discriminator 1 view .LVU122
 459 0052 23F4C063 		bic	r3, r3, #1536
 460              	.LVL34:
 461              		.loc 1 216 7 discriminator 1 view .LVU123
 462 0056 9BB2     		uxth	r3, r3
 463              	.LVL35:
 217:usb_lib.c     ****   switch(ep_type){
 464              		.loc 1 217 3 is_stmt 1 discriminator 1 view .LVU124
 465 0058 0229     		cmp	r1, #2
 466 005a 1AD0     		beq	.L21
 467              		.loc 1 217 3 is_stmt 0 view .LVU125
 468 005c 0329     		cmp	r1, #3
 469 005e 47D0     		beq	.L22
 470 0060 A9B1     		cbz	r1, .L35
 218:usb_lib.c     ****     case USB_ENDP_CTRL: buf |= USB_EP_CONTROL; break;
 219:usb_lib.c     ****     case USB_ENDP_BULK: buf |= USB_EP_BULK; break;
 220:usb_lib.c     ****     case USB_ENDP_INTR: buf |= USB_EP_INTERRUPT; break;
 221:usb_lib.c     ****     default: buf |= USB_EP_ISOCHRONOUS; //в дескрипторах изохронные точк
 471              		.loc 1 221 14 is_stmt 1 view .LVU126
 472              		.loc 1 221 18 is_stmt 0 view .LVU127
 473 0062 43F48063 		orr	r3, r3, #1024
 474              	.LVL36:
 475              		.loc 1 221 18 view .LVU128
 476 0066 14E0     		b	.L21
 477              	.LVL37:
 478              	.L33:
 202:usb_lib.c     ****   uint8_t dir_in = (epnum & 0x80);
 479              		.loc 1 202 24 view .LVU129
 480 0068 404C     		ldr	r4, .L38
 481 006a CCE7     		b	.L18
 482              	.LVL38:
 483              	.L34:
 207:usb_lib.c     ****   }else{
 484              		.loc 1 207 5 is_stmt 1 view .LVU130
 207:usb_lib.c     ****   }else{
 485              		.loc 1 207 5 view .LVU131
 486 006c 4FEA8E00 		lsl	r0, lr, #2
 487              	.LVL39:
 207:usb_lib.c     ****   }else{
 488              		.loc 1 207 5 is_stmt 0 view .LVU132
 489 0070 00F18040 		add	r0, r0, #1073741824
 490 0074 00F5B840 		add	r0, r0, #23552
 491 0078 0388     		ldrh	r3, [r0]
 492 007a 23F0C003 		bic	r3, r3, #192
 493 007e 1B05     		lsls	r3, r3, #20
 494 0080 1B0D     		lsrs	r3, r3, #20
 495 0082 43F40043 		orr	r3, r3, #32768
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 40


 496 0086 43F08003 		orr	r3, r3, #128
 497 008a 0380     		strh	r3, [r0]	@ movhi
 207:usb_lib.c     ****   }else{
 498              		.loc 1 207 5 is_stmt 1 view .LVU133
 499 008c D2E7     		b	.L20
 500              	.LVL40:
 501              	.L35:
 218:usb_lib.c     ****     case USB_ENDP_CTRL: buf |= USB_EP_CONTROL; break;
 502              		.loc 1 218 25 view .LVU134
 218:usb_lib.c     ****     case USB_ENDP_CTRL: buf |= USB_EP_CONTROL; break;
 503              		.loc 1 218 29 is_stmt 0 view .LVU135
 504 008e 43F40073 		orr	r3, r3, #512
 505              	.LVL41:
 218:usb_lib.c     ****     case USB_ENDP_CTRL: buf |= USB_EP_CONTROL; break;
 506              		.loc 1 218 48 is_stmt 1 view .LVU136
 507              	.L21:
 222:usb_lib.c     ****   }
 223:usb_lib.c     ****   USB_EPx(epnum) = buf;
 508              		.loc 1 223 3 view .LVU137
 509              		.loc 1 223 18 is_stmt 0 view .LVU138
 510 0092 0380     		strh	r3, [r0]	@ movhi
 224:usb_lib.c     ****   
 225:usb_lib.c     ****   if( dir_in ){
 511              		.loc 1 225 3 is_stmt 1 view .LVU139
 512              		.loc 1 225 5 is_stmt 0 view .LVU140
 513 0094 BCF1000F 		cmp	ip, #0
 514 0098 2DDB     		blt	.L36
 226:usb_lib.c     ****     usb_epdata[epnum].usb_tx_addr = lastaddr;
 227:usb_lib.c     ****     epfunc_in[epnum] = func;
 228:usb_lib.c     ****     if((ep_type & 0x03) == USB_ENDP_ISO){
 229:usb_lib.c     ****       ENDP_STAT_TX(epnum, USB_EP_TX_VALID);
 230:usb_lib.c     ****     }else{
 231:usb_lib.c     ****       ENDP_STAT_TX(epnum, USB_EP_TX_NAK);
 232:usb_lib.c     ****     }
 233:usb_lib.c     ****   }else{
 234:usb_lib.c     ****     usb_epdata[epnum].usb_rx_addr = lastaddr;
 515              		.loc 1 234 5 is_stmt 1 view .LVU141
 516              		.loc 1 234 15 is_stmt 0 view .LVU142
 517 009a 4FEA0E13 		lsl	r3, lr, #4
 518              	.LVL42:
 519              		.loc 1 234 15 view .LVU143
 520 009e 03F18043 		add	r3, r3, #1073741824
 521 00a2 03F5C043 		add	r3, r3, #24576
 522              		.loc 1 234 35 view .LVU144
 523 00a6 3249     		ldr	r1, .L38+4
 524              	.LVL43:
 525              		.loc 1 234 35 view .LVU145
 526 00a8 0988     		ldrh	r1, [r1]
 527 00aa 9960     		str	r1, [r3, #8]
 528              	.LVL44:
 235:usb_lib.c     ****     if(size < 64){
 529              		.loc 1 235 5 is_stmt 1 view .LVU146
 530              		.loc 1 235 7 is_stmt 0 view .LVU147
 531 00ac 3F2A     		cmp	r2, #63
 532 00ae 4CD8     		bhi	.L27
 236:usb_lib.c     ****       usb_epdata[epnum].rx_blocksize = 0;
 533              		.loc 1 236 7 is_stmt 1 view .LVU148
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 41


 534              		.loc 1 236 38 is_stmt 0 view .LVU149
 535 00b0 9989     		ldrh	r1, [r3, #12]
 536 00b2 6FF3CF31 		bfc	r1, #15, #1
 537 00b6 9981     		strh	r1, [r3, #12]	@ movhi
 237:usb_lib.c     ****       usb_epdata[epnum].rx_num_blocks = size / 2;
 538              		.loc 1 237 7 is_stmt 1 view .LVU150
 539              		.loc 1 237 46 is_stmt 0 view .LVU151
 540 00b8 C2F34401 		ubfx	r1, r2, #1, #5
 541              		.loc 1 237 39 view .LVU152
 542 00bc B3F80CC0 		ldrh	ip, [r3, #12]
 543              	.LVL45:
 544              		.loc 1 237 39 view .LVU153
 545 00c0 61F38E2C 		bfi	ip, r1, #10, #5
 546 00c4 A3F80CC0 		strh	ip, [r3, #12]	@ movhi
 547              	.L28:
 238:usb_lib.c     ****     }else{
 239:usb_lib.c     ****       usb_epdata[epnum].rx_blocksize = 1;
 240:usb_lib.c     ****       if(size < 32)size = 32;
 241:usb_lib.c     ****       usb_epdata[epnum].rx_num_blocks = size / 32 - 1;
 242:usb_lib.c     ****     }
 243:usb_lib.c     ****     epfunc_out[epnum] = func;
 548              		.loc 1 243 5 is_stmt 1 view .LVU154
 549              		.loc 1 243 23 is_stmt 0 view .LVU155
 550 00c8 2A4B     		ldr	r3, .L38+8
 551 00ca 43F82E40 		str	r4, [r3, lr, lsl #2]
 244:usb_lib.c     ****     ENDP_STAT_RX(epnum, USB_EP_RX_VALID);
 552              		.loc 1 244 5 is_stmt 1 view .LVU156
 553              		.loc 1 244 5 view .LVU157
 554 00ce 0388     		ldrh	r3, [r0]
 555 00d0 23F0F003 		bic	r3, r3, #240
 556 00d4 9B04     		lsls	r3, r3, #18
 557 00d6 9B0C     		lsrs	r3, r3, #18
 558 00d8 43F40043 		orr	r3, r3, #32768
 559 00dc 43F08003 		orr	r3, r3, #128
 560 00e0 83F44053 		eor	r3, r3, #12288
 561 00e4 0380     		strh	r3, [r0]	@ movhi
 562              	.L26:
 563              		.loc 1 244 5 discriminator 1 view .LVU158
 245:usb_lib.c     ****   }
 246:usb_lib.c     ****   lastaddr += size;
 564              		.loc 1 246 3 discriminator 1 view .LVU159
 565              		.loc 1 246 12 is_stmt 0 discriminator 1 view .LVU160
 566 00e6 224B     		ldr	r3, .L38+4
 567 00e8 1988     		ldrh	r1, [r3]
 568 00ea 0A44     		add	r2, r2, r1
 569              	.LVL46:
 570              		.loc 1 246 12 discriminator 1 view .LVU161
 571 00ec 1A80     		strh	r2, [r3]	@ movhi
 247:usb_lib.c     **** }
 572              		.loc 1 247 1 discriminator 1 view .LVU162
 573 00ee 30BD     		pop	{r4, r5, pc}
 574              	.LVL47:
 575              	.L22:
 220:usb_lib.c     ****     default: buf |= USB_EP_ISOCHRONOUS; //в дескрипторах изохронные точк
 576              		.loc 1 220 25 is_stmt 1 view .LVU163
 220:usb_lib.c     ****     default: buf |= USB_EP_ISOCHRONOUS; //в дескрипторах изохронные точк
 577              		.loc 1 220 29 is_stmt 0 view .LVU164
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 42


 578 00f0 43F4C063 		orr	r3, r3, #1536
 579              	.LVL48:
 220:usb_lib.c     ****     default: buf |= USB_EP_ISOCHRONOUS; //в дескрипторах изохронные точк
 580              		.loc 1 220 50 is_stmt 1 view .LVU165
 220:usb_lib.c     ****     default: buf |= USB_EP_ISOCHRONOUS; //в дескрипторах изохронные точк
 581              		.loc 1 220 5 is_stmt 0 view .LVU166
 582 00f4 CDE7     		b	.L21
 583              	.L36:
 226:usb_lib.c     ****     epfunc_in[epnum] = func;
 584              		.loc 1 226 5 is_stmt 1 view .LVU167
 226:usb_lib.c     ****     epfunc_in[epnum] = func;
 585              		.loc 1 226 15 is_stmt 0 view .LVU168
 586 00f6 4FEA0E13 		lsl	r3, lr, #4
 587              	.LVL49:
 226:usb_lib.c     ****     epfunc_in[epnum] = func;
 588              		.loc 1 226 15 view .LVU169
 589 00fa 03F18043 		add	r3, r3, #1073741824
 590 00fe 03F5C043 		add	r3, r3, #24576
 226:usb_lib.c     ****     epfunc_in[epnum] = func;
 591              		.loc 1 226 35 view .LVU170
 592 0102 1B4D     		ldr	r5, .L38+4
 593 0104 2D88     		ldrh	r5, [r5]
 594 0106 1D60     		str	r5, [r3]
 595              	.LVL50:
 227:usb_lib.c     ****     if((ep_type & 0x03) == USB_ENDP_ISO){
 596              		.loc 1 227 5 is_stmt 1 view .LVU171
 227:usb_lib.c     ****     if((ep_type & 0x03) == USB_ENDP_ISO){
 597              		.loc 1 227 22 is_stmt 0 view .LVU172
 598 0108 1B4B     		ldr	r3, .L38+12
 599 010a 43F82E40 		str	r4, [r3, lr, lsl #2]
 228:usb_lib.c     ****       ENDP_STAT_TX(epnum, USB_EP_TX_VALID);
 600              		.loc 1 228 5 is_stmt 1 view .LVU173
 228:usb_lib.c     ****       ENDP_STAT_TX(epnum, USB_EP_TX_VALID);
 601              		.loc 1 228 7 is_stmt 0 view .LVU174
 602 010e 01F00301 		and	r1, r1, #3
 603              	.LVL51:
 228:usb_lib.c     ****       ENDP_STAT_TX(epnum, USB_EP_TX_VALID);
 604              		.loc 1 228 7 view .LVU175
 605 0112 0129     		cmp	r1, #1
 606 0114 0CD0     		beq	.L37
 231:usb_lib.c     ****     }
 607              		.loc 1 231 7 is_stmt 1 view .LVU176
 231:usb_lib.c     ****     }
 608              		.loc 1 231 7 view .LVU177
 609 0116 0388     		ldrh	r3, [r0]
 610 0118 23F0C003 		bic	r3, r3, #192
 611 011c 1B05     		lsls	r3, r3, #20
 612 011e 1B0D     		lsrs	r3, r3, #20
 613 0120 43F40043 		orr	r3, r3, #32768
 614 0124 43F08003 		orr	r3, r3, #128
 615 0128 83F02003 		eor	r3, r3, #32
 616 012c 0380     		strh	r3, [r0]	@ movhi
 617 012e DAE7     		b	.L26
 618              	.L37:
 229:usb_lib.c     ****     }else{
 619              		.loc 1 229 7 view .LVU178
 229:usb_lib.c     ****     }else{
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 43


 620              		.loc 1 229 7 view .LVU179
 621 0130 0388     		ldrh	r3, [r0]
 622 0132 23F0C003 		bic	r3, r3, #192
 623 0136 1B05     		lsls	r3, r3, #20
 624 0138 1B0D     		lsrs	r3, r3, #20
 625 013a 43F40043 		orr	r3, r3, #32768
 626 013e 43F08003 		orr	r3, r3, #128
 627 0142 83F03003 		eor	r3, r3, #48
 628 0146 0380     		strh	r3, [r0]	@ movhi
 229:usb_lib.c     ****     }else{
 629              		.loc 1 229 7 view .LVU180
 630 0148 CDE7     		b	.L26
 631              	.L27:
 239:usb_lib.c     ****       if(size < 32)size = 32;
 632              		.loc 1 239 7 view .LVU181
 239:usb_lib.c     ****       if(size < 32)size = 32;
 633              		.loc 1 239 38 is_stmt 0 view .LVU182
 634 014a 9989     		ldrh	r1, [r3, #12]
 635 014c 41F40041 		orr	r1, r1, #32768
 636 0150 9981     		strh	r1, [r3, #12]	@ movhi
 240:usb_lib.c     ****       usb_epdata[epnum].rx_num_blocks = size / 32 - 1;
 637              		.loc 1 240 7 is_stmt 1 view .LVU183
 240:usb_lib.c     ****       usb_epdata[epnum].rx_num_blocks = size / 32 - 1;
 638              		.loc 1 240 9 is_stmt 0 view .LVU184
 639 0152 1F2A     		cmp	r2, #31
 640 0154 00D8     		bhi	.L29
 240:usb_lib.c     ****       usb_epdata[epnum].rx_num_blocks = size / 32 - 1;
 641              		.loc 1 240 25 view .LVU185
 642 0156 2022     		movs	r2, #32
 643              	.LVL52:
 644              	.L29:
 241:usb_lib.c     ****     }
 645              		.loc 1 241 7 is_stmt 1 view .LVU186
 241:usb_lib.c     ****     }
 646              		.loc 1 241 51 is_stmt 0 view .LVU187
 647 0158 5109     		lsrs	r1, r2, #5
 648 015a 0139     		subs	r1, r1, #1
 241:usb_lib.c     ****     }
 649              		.loc 1 241 39 view .LVU188
 650 015c B3F80CC0 		ldrh	ip, [r3, #12]
 651 0160 61F38E2C 		bfi	ip, r1, #10, #5
 652 0164 A3F80CC0 		strh	ip, [r3, #12]	@ movhi
 653 0168 AEE7     		b	.L28
 654              	.L39:
 655 016a 00BF     		.align	2
 656              	.L38:
 657 016c 00000000 		.word	endp_callback_default
 658 0170 00000000 		.word	.LANCHOR2
 659 0174 00000000 		.word	.LANCHOR0
 660 0178 00000000 		.word	.LANCHOR1
 661              		.cfi_endproc
 662              	.LFE44:
 664              		.section	.text.usb_ep_init_double,"ax",%progbits
 665              		.align	1
 666              		.global	usb_ep_init_double
 667              		.syntax unified
 668              		.thumb
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 44


 669              		.thumb_func
 671              	usb_ep_init_double:
 672              	.LVL53:
 673              	.LFB45:
 248:usb_lib.c     **** 
 249:usb_lib.c     **** void usb_ep_init_double(uint8_t epnum, uint8_t ep_type, uint16_t size, epfunc_t func){
 674              		.loc 1 249 86 is_stmt 1 view -0
 675              		.cfi_startproc
 676              		@ args = 0, pretend = 0, frame = 0
 677              		@ frame_needed = 0, uses_anonymous_args = 0
 678              		.loc 1 249 86 is_stmt 0 view .LVU190
 679 0000 30B5     		push	{r4, r5, lr}
 680              	.LCFI1:
 681              		.cfi_def_cfa_offset 12
 682              		.cfi_offset 4, -12
 683              		.cfi_offset 5, -8
 684              		.cfi_offset 14, -4
 250:usb_lib.c     ****   if(func == NULL)func = endp_callback_default;
 685              		.loc 1 250 3 is_stmt 1 view .LVU191
 686              		.loc 1 250 5 is_stmt 0 view .LVU192
 687 0002 1D46     		mov	r5, r3
 688 0004 63B3     		cbz	r3, .L54
 689              	.L41:
 690              	.LVL54:
 251:usb_lib.c     ****   uint8_t dir_in = (epnum & 0x80);
 691              		.loc 1 251 3 is_stmt 1 view .LVU193
 252:usb_lib.c     ****   epnum &= 0x0F;
 692              		.loc 1 252 3 view .LVU194
 693              		.loc 1 252 9 is_stmt 0 view .LVU195
 694 0006 00F00F0E 		and	lr, r0, #15
 695              	.LVL55:
 253:usb_lib.c     ****   
 254:usb_lib.c     ****   ENDP_STAT_TX(epnum, USB_EP_TX_DIS);
 696              		.loc 1 254 3 is_stmt 1 view .LVU196
 697              		.loc 1 254 3 view .LVU197
 698 000a 4FEA8E03 		lsl	r3, lr, #2
 699 000e 03F18043 		add	r3, r3, #1073741824
 700 0012 03F5B843 		add	r3, r3, #23552
 701 0016 1C88     		ldrh	r4, [r3]
 702 0018 24F0C004 		bic	r4, r4, #192
 703 001c 2405     		lsls	r4, r4, #20
 704 001e 240D     		lsrs	r4, r4, #20
 705 0020 48F2800C 		movw	ip, #32896
 706 0024 4CEA0404 		orr	r4, ip, r4
 707 0028 1C80     		strh	r4, [r3]	@ movhi
 708              		.loc 1 254 3 view .LVU198
 255:usb_lib.c     ****   ENDP_STAT_RX(epnum, USB_EP_RX_DIS);
 709              		.loc 1 255 3 view .LVU199
 710              		.loc 1 255 3 view .LVU200
 711 002a 1C88     		ldrh	r4, [r3]
 712 002c 24F0F004 		bic	r4, r4, #240
 713 0030 A404     		lsls	r4, r4, #18
 714 0032 A40C     		lsrs	r4, r4, #18
 715 0034 4CEA0404 		orr	r4, ip, r4
 716 0038 1C80     		strh	r4, [r3]	@ movhi
 717              		.loc 1 255 3 view .LVU201
 256:usb_lib.c     ****   
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 45


 257:usb_lib.c     ****   uint16_t buf = USB_EPx(epnum);
 718              		.loc 1 257 3 view .LVU202
 719              		.loc 1 257 12 is_stmt 0 view .LVU203
 720 003a 1C88     		ldrh	r4, [r3]
 721              	.LVL56:
 258:usb_lib.c     ****   buf = (buf & ~(USB_EP_DTOG_RX | USB_EP_DTOG_TX | USB_EPTX_STAT | USB_EPRX_STAT)) | USB_EP_CTR_RX 
 722              		.loc 1 258 3 is_stmt 1 view .LVU204
 259:usb_lib.c     ****   buf = (buf & ~USB_EPADDR_FIELD) | epnum;
 723              		.loc 1 259 3 view .LVU205
 724              		.loc 1 259 14 is_stmt 0 view .LVU206
 725 003c 04F47064 		and	r4, r4, #3840
 726              	.LVL57:
 727              		.loc 1 259 14 view .LVU207
 728 0040 4CEA040C 		orr	ip, ip, r4
 729              		.loc 1 259 7 view .LVU208
 730 0044 4EEA0C0C 		orr	ip, lr, ip
 731              	.LVL58:
 260:usb_lib.c     ****   
 261:usb_lib.c     ****   buf &=~ USB_EP_T_FIELD;
 732              		.loc 1 261 3 is_stmt 1 view .LVU209
 733              		.loc 1 261 7 is_stmt 0 view .LVU210
 734 0048 2CF4C06C 		bic	ip, ip, #1536
 735              	.LVL59:
 736              		.loc 1 261 7 view .LVU211
 737 004c 1FFA8CFC 		uxth	ip, ip
 738              	.LVL60:
 262:usb_lib.c     ****   switch(ep_type){
 739              		.loc 1 262 3 is_stmt 1 view .LVU212
 740 0050 0229     		cmp	r1, #2
 741 0052 4CD0     		beq	.L42
 742 0054 0329     		cmp	r1, #3
 743 0056 4DD0     		beq	.L43
 744 0058 21B1     		cbz	r1, .L55
 263:usb_lib.c     ****     case USB_ENDP_CTRL: buf |= USB_EP_CONTROL; break;
 264:usb_lib.c     ****     case USB_ENDP_BULK: buf |= USB_EP_BULK | USB_EP_KIND; break;
 265:usb_lib.c     ****     case USB_ENDP_INTR: buf |= USB_EP_INTERRUPT; break;
 266:usb_lib.c     ****     default: buf |= USB_EP_ISOCHRONOUS; //в дескрипторах изохронные точк
 745              		.loc 1 266 14 view .LVU213
 746              		.loc 1 266 18 is_stmt 0 view .LVU214
 747 005a 4CF48061 		orr	r1, ip, #1024
 748              	.LVL61:
 749              		.loc 1 266 18 view .LVU215
 750 005e 03E0     		b	.L45
 751              	.LVL62:
 752              	.L54:
 250:usb_lib.c     ****   uint8_t dir_in = (epnum & 0x80);
 753              		.loc 1 250 24 view .LVU216
 754 0060 3D4D     		ldr	r5, .L57
 755 0062 D0E7     		b	.L41
 756              	.LVL63:
 757              	.L55:
 263:usb_lib.c     ****     case USB_ENDP_CTRL: buf |= USB_EP_CONTROL; break;
 758              		.loc 1 263 25 is_stmt 1 view .LVU217
 263:usb_lib.c     ****     case USB_ENDP_CTRL: buf |= USB_EP_CONTROL; break;
 759              		.loc 1 263 29 is_stmt 0 view .LVU218
 760 0064 4CF40071 		orr	r1, ip, #512
 761              	.LVL64:
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 46


 263:usb_lib.c     ****     case USB_ENDP_CTRL: buf |= USB_EP_CONTROL; break;
 762              		.loc 1 263 48 is_stmt 1 view .LVU219
 763              	.L45:
 267:usb_lib.c     ****   }
 268:usb_lib.c     ****   USB_EPx(epnum) = buf;
 764              		.loc 1 268 3 view .LVU220
 765              		.loc 1 268 18 is_stmt 0 view .LVU221
 766 0068 1980     		strh	r1, [r3]	@ movhi
 269:usb_lib.c     ****   
 270:usb_lib.c     **** #define USB_EP_SWBUF_TX     USB_EP_DTOG_RX
 271:usb_lib.c     **** #define USB_EP_SWBUF_RX     USB_EP_DTOG_TX
 272:usb_lib.c     ****   if( dir_in ){
 767              		.loc 1 272 3 is_stmt 1 view .LVU222
 768              		.loc 1 272 5 is_stmt 0 view .LVU223
 769 006a 10F0800F 		tst	r0, #128
 770 006e 44D1     		bne	.L56
 273:usb_lib.c     ****     usb_epdata[epnum].usb_tx_addr = lastaddr;
 274:usb_lib.c     ****     usb_epdata[epnum].usb_tx_count = 0;
 275:usb_lib.c     ****     usb_epdata[epnum].usb_rx_addr = lastaddr + size;
 276:usb_lib.c     ****     usb_epdata[epnum].usb_rx_count = 0;
 277:usb_lib.c     ****     
 278:usb_lib.c     ****     buf = USB_EPx(epnum);
 279:usb_lib.c     ****     USB_EPx(epnum) = (buf ^ USB_EP_TX_VALID) & (USB_EPREG_MASK | USB_EPTX_STAT | USB_EP_DTOG_TX | U
 280:usb_lib.c     ****   }else{
 281:usb_lib.c     ****     usb_epdata[epnum].usb_rx_addr = lastaddr;
 771              		.loc 1 281 5 is_stmt 1 view .LVU224
 772              		.loc 1 281 35 is_stmt 0 view .LVU225
 773 0070 3A49     		ldr	r1, .L57+4
 774              	.LVL65:
 775              		.loc 1 281 35 view .LVU226
 776 0072 0888     		ldrh	r0, [r1]
 777              	.LVL66:
 778              		.loc 1 281 15 view .LVU227
 779 0074 4FEA0E11 		lsl	r1, lr, #4
 780 0078 01F18041 		add	r1, r1, #1073741824
 781 007c 01F5C041 		add	r1, r1, #24576
 782              		.loc 1 281 35 view .LVU228
 783 0080 8860     		str	r0, [r1, #8]
 784              	.LVL67:
 282:usb_lib.c     ****     usb_epdata[epnum].usb_tx_addr = lastaddr + size;
 785              		.loc 1 282 5 is_stmt 1 view .LVU229
 786              		.loc 1 282 46 is_stmt 0 view .LVU230
 787 0082 1044     		add	r0, r0, r2
 788              		.loc 1 282 35 view .LVU231
 789 0084 0860     		str	r0, [r1]
 283:usb_lib.c     ****     if(size < 64){
 790              		.loc 1 283 5 is_stmt 1 view .LVU232
 791              		.loc 1 283 7 is_stmt 0 view .LVU233
 792 0086 3F2A     		cmp	r2, #63
 793 0088 4ED8     		bhi	.L48
 284:usb_lib.c     ****       usb_epdata[epnum].rx_blocksize = usb_epdata[epnum].tx_blocksize = 0;
 794              		.loc 1 284 7 is_stmt 1 view .LVU234
 795              		.loc 1 284 71 is_stmt 0 view .LVU235
 796 008a 8888     		ldrh	r0, [r1, #4]
 797 008c 6FF3CF30 		bfc	r0, #15, #1
 798 0090 8880     		strh	r0, [r1, #4]	@ movhi
 799              		.loc 1 284 38 view .LVU236
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 47


 800 0092 8889     		ldrh	r0, [r1, #12]
 801 0094 6FF3CF30 		bfc	r0, #15, #1
 802 0098 8881     		strh	r0, [r1, #12]	@ movhi
 285:usb_lib.c     ****       usb_epdata[epnum].rx_num_blocks = usb_epdata[epnum].tx_num_blocks = size / 2;
 803              		.loc 1 285 7 is_stmt 1 view .LVU237
 804              		.loc 1 285 80 is_stmt 0 view .LVU238
 805 009a C2F34400 		ubfx	r0, r2, #1, #5
 806              		.loc 1 285 73 view .LVU239
 807 009e 8C88     		ldrh	r4, [r1, #4]
 808 00a0 60F38E24 		bfi	r4, r0, #10, #5
 809 00a4 8C80     		strh	r4, [r1, #4]	@ movhi
 810              		.loc 1 285 39 view .LVU240
 811 00a6 8C89     		ldrh	r4, [r1, #12]
 812 00a8 60F38E24 		bfi	r4, r0, #10, #5
 813 00ac 8C81     		strh	r4, [r1, #12]	@ movhi
 814              	.L49:
 286:usb_lib.c     ****     }else{
 287:usb_lib.c     ****       usb_epdata[epnum].rx_blocksize = usb_epdata[epnum].tx_blocksize = 1;
 288:usb_lib.c     ****       if(size < 32)size = 32;
 289:usb_lib.c     ****       usb_epdata[epnum].rx_num_blocks = usb_epdata[epnum].tx_num_blocks = size / 32 - 1;
 290:usb_lib.c     ****     }
 291:usb_lib.c     ****     ENDP_STAT_RX(epnum, USB_EP_RX_VALID);
 815              		.loc 1 291 5 is_stmt 1 view .LVU241
 816              		.loc 1 291 5 view .LVU242
 817 00ae 1988     		ldrh	r1, [r3]
 818 00b0 21F0F001 		bic	r1, r1, #240
 819 00b4 8904     		lsls	r1, r1, #18
 820 00b6 890C     		lsrs	r1, r1, #18
 821 00b8 48F28000 		movw	r0, #32896
 822 00bc 0143     		orrs	r1, r1, r0
 823 00be 81F44051 		eor	r1, r1, #12288
 824 00c2 1980     		strh	r1, [r3]	@ movhi
 825              		.loc 1 291 5 view .LVU243
 292:usb_lib.c     ****     ENDP_STAT_TX(epnum, USB_EP_TX_VALID);
 826              		.loc 1 292 5 view .LVU244
 827              		.loc 1 292 5 view .LVU245
 828 00c4 1988     		ldrh	r1, [r3]
 829 00c6 21F0C001 		bic	r1, r1, #192
 830 00ca 0905     		lsls	r1, r1, #20
 831 00cc 090D     		lsrs	r1, r1, #20
 832 00ce 0843     		orrs	r0, r0, r1
 833 00d0 80F03000 		eor	r0, r0, #48
 834 00d4 1880     		strh	r0, [r3]	@ movhi
 835              	.L47:
 836              		.loc 1 292 5 discriminator 1 view .LVU246
 293:usb_lib.c     ****   }
 294:usb_lib.c     ****   epfunc_in[epnum] = func;
 837              		.loc 1 294 3 discriminator 1 view .LVU247
 838              		.loc 1 294 20 is_stmt 0 discriminator 1 view .LVU248
 839 00d6 224B     		ldr	r3, .L57+8
 840 00d8 43F82E50 		str	r5, [r3, lr, lsl #2]
 295:usb_lib.c     ****   epfunc_out[epnum]= func;
 841              		.loc 1 295 3 is_stmt 1 discriminator 1 view .LVU249
 842              		.loc 1 295 20 is_stmt 0 discriminator 1 view .LVU250
 843 00dc 214B     		ldr	r3, .L57+12
 844 00de 43F82E50 		str	r5, [r3, lr, lsl #2]
 296:usb_lib.c     ****     
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 48


 297:usb_lib.c     ****   lastaddr += 2*size;
 845              		.loc 1 297 3 is_stmt 1 discriminator 1 view .LVU251
 846              		.loc 1 297 12 is_stmt 0 discriminator 1 view .LVU252
 847 00e2 1E49     		ldr	r1, .L57+4
 848 00e4 0B88     		ldrh	r3, [r1]
 849 00e6 03EB4202 		add	r2, r3, r2, lsl #1
 850              	.LVL68:
 851              		.loc 1 297 12 discriminator 1 view .LVU253
 852 00ea 0A80     		strh	r2, [r1]	@ movhi
 298:usb_lib.c     **** }
 853              		.loc 1 298 1 discriminator 1 view .LVU254
 854 00ec 30BD     		pop	{r4, r5, pc}
 855              	.LVL69:
 856              	.L42:
 264:usb_lib.c     ****     case USB_ENDP_INTR: buf |= USB_EP_INTERRUPT; break;
 857              		.loc 1 264 25 is_stmt 1 view .LVU255
 264:usb_lib.c     ****     case USB_ENDP_INTR: buf |= USB_EP_INTERRUPT; break;
 858              		.loc 1 264 29 is_stmt 0 view .LVU256
 859 00ee 4CF48071 		orr	r1, ip, #256
 860              	.LVL70:
 264:usb_lib.c     ****     case USB_ENDP_INTR: buf |= USB_EP_INTERRUPT; break;
 861              		.loc 1 264 59 is_stmt 1 view .LVU257
 264:usb_lib.c     ****     case USB_ENDP_INTR: buf |= USB_EP_INTERRUPT; break;
 862              		.loc 1 264 5 is_stmt 0 view .LVU258
 863 00f2 B9E7     		b	.L45
 864              	.LVL71:
 865              	.L43:
 265:usb_lib.c     ****     default: buf |= USB_EP_ISOCHRONOUS; //в дескрипторах изохронные точк
 866              		.loc 1 265 25 is_stmt 1 view .LVU259
 265:usb_lib.c     ****     default: buf |= USB_EP_ISOCHRONOUS; //в дескрипторах изохронные точк
 867              		.loc 1 265 29 is_stmt 0 view .LVU260
 868 00f4 4CF4C061 		orr	r1, ip, #1536
 869              	.LVL72:
 265:usb_lib.c     ****     default: buf |= USB_EP_ISOCHRONOUS; //в дескрипторах изохронные точк
 870              		.loc 1 265 50 is_stmt 1 view .LVU261
 265:usb_lib.c     ****     default: buf |= USB_EP_ISOCHRONOUS; //в дескрипторах изохронные точк
 871              		.loc 1 265 5 is_stmt 0 view .LVU262
 872 00f8 B6E7     		b	.L45
 873              	.L56:
 273:usb_lib.c     ****     usb_epdata[epnum].usb_tx_count = 0;
 874              		.loc 1 273 5 is_stmt 1 view .LVU263
 273:usb_lib.c     ****     usb_epdata[epnum].usb_tx_count = 0;
 875              		.loc 1 273 35 is_stmt 0 view .LVU264
 876 00fa 1849     		ldr	r1, .L57+4
 877              	.LVL73:
 273:usb_lib.c     ****     usb_epdata[epnum].usb_tx_count = 0;
 878              		.loc 1 273 35 view .LVU265
 879 00fc 0888     		ldrh	r0, [r1]
 880              	.LVL74:
 273:usb_lib.c     ****     usb_epdata[epnum].usb_tx_count = 0;
 881              		.loc 1 273 15 view .LVU266
 882 00fe 4FEA0E11 		lsl	r1, lr, #4
 883 0102 01F18041 		add	r1, r1, #1073741824
 884 0106 01F5C041 		add	r1, r1, #24576
 273:usb_lib.c     ****     usb_epdata[epnum].usb_tx_count = 0;
 885              		.loc 1 273 35 view .LVU267
 886 010a 0860     		str	r0, [r1]
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 49


 887              	.LVL75:
 274:usb_lib.c     ****     usb_epdata[epnum].usb_rx_addr = lastaddr + size;
 888              		.loc 1 274 5 is_stmt 1 view .LVU268
 274:usb_lib.c     ****     usb_epdata[epnum].usb_rx_addr = lastaddr + size;
 889              		.loc 1 274 36 is_stmt 0 view .LVU269
 890 010c 0024     		movs	r4, #0
 891 010e 4C60     		str	r4, [r1, #4]
 275:usb_lib.c     ****     usb_epdata[epnum].usb_rx_count = 0;
 892              		.loc 1 275 5 is_stmt 1 view .LVU270
 275:usb_lib.c     ****     usb_epdata[epnum].usb_rx_count = 0;
 893              		.loc 1 275 46 is_stmt 0 view .LVU271
 894 0110 1044     		add	r0, r0, r2
 275:usb_lib.c     ****     usb_epdata[epnum].usb_rx_count = 0;
 895              		.loc 1 275 35 view .LVU272
 896 0112 8860     		str	r0, [r1, #8]
 276:usb_lib.c     ****     
 897              		.loc 1 276 5 is_stmt 1 view .LVU273
 276:usb_lib.c     ****     
 898              		.loc 1 276 36 is_stmt 0 view .LVU274
 899 0114 CC60     		str	r4, [r1, #12]
 278:usb_lib.c     ****     USB_EPx(epnum) = (buf ^ USB_EP_TX_VALID) & (USB_EPREG_MASK | USB_EPTX_STAT | USB_EP_DTOG_TX | U
 900              		.loc 1 278 5 is_stmt 1 view .LVU275
 278:usb_lib.c     ****     USB_EPx(epnum) = (buf ^ USB_EP_TX_VALID) & (USB_EPREG_MASK | USB_EPTX_STAT | USB_EP_DTOG_TX | U
 901              		.loc 1 278 9 is_stmt 0 view .LVU276
 902 0116 1988     		ldrh	r1, [r3]
 903 0118 89B2     		uxth	r1, r1
 904              	.LVL76:
 279:usb_lib.c     ****   }else{
 905              		.loc 1 279 5 is_stmt 1 view .LVU277
 279:usb_lib.c     ****   }else{
 906              		.loc 1 279 46 is_stmt 0 view .LVU278
 907 011a 81F03001 		eor	r1, r1, #48
 908              	.LVL77:
 279:usb_lib.c     ****   }else{
 909              		.loc 1 279 46 view .LVU279
 910 011e 21F44051 		bic	r1, r1, #12288
 911              	.LVL78:
 279:usb_lib.c     ****   }else{
 912              		.loc 1 279 46 view .LVU280
 913 0122 89B2     		uxth	r1, r1
 279:usb_lib.c     ****   }else{
 914              		.loc 1 279 20 view .LVU281
 915 0124 1980     		strh	r1, [r3]	@ movhi
 916 0126 D6E7     		b	.L47
 917              	.L48:
 287:usb_lib.c     ****       if(size < 32)size = 32;
 918              		.loc 1 287 7 is_stmt 1 view .LVU282
 287:usb_lib.c     ****       if(size < 32)size = 32;
 919              		.loc 1 287 71 is_stmt 0 view .LVU283
 920 0128 8888     		ldrh	r0, [r1, #4]
 921 012a 40F40040 		orr	r0, r0, #32768
 922 012e 8880     		strh	r0, [r1, #4]	@ movhi
 287:usb_lib.c     ****       if(size < 32)size = 32;
 923              		.loc 1 287 38 view .LVU284
 924 0130 8889     		ldrh	r0, [r1, #12]
 925 0132 40F40040 		orr	r0, r0, #32768
 926 0136 8881     		strh	r0, [r1, #12]	@ movhi
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 50


 288:usb_lib.c     ****       usb_epdata[epnum].rx_num_blocks = usb_epdata[epnum].tx_num_blocks = size / 32 - 1;
 927              		.loc 1 288 7 is_stmt 1 view .LVU285
 288:usb_lib.c     ****       usb_epdata[epnum].rx_num_blocks = usb_epdata[epnum].tx_num_blocks = size / 32 - 1;
 928              		.loc 1 288 9 is_stmt 0 view .LVU286
 929 0138 1F2A     		cmp	r2, #31
 930 013a 00D8     		bhi	.L50
 288:usb_lib.c     ****       usb_epdata[epnum].rx_num_blocks = usb_epdata[epnum].tx_num_blocks = size / 32 - 1;
 931              		.loc 1 288 25 view .LVU287
 932 013c 2022     		movs	r2, #32
 933              	.LVL79:
 934              	.L50:
 289:usb_lib.c     ****     }
 935              		.loc 1 289 7 is_stmt 1 view .LVU288
 289:usb_lib.c     ****     }
 936              		.loc 1 289 85 is_stmt 0 view .LVU289
 937 013e 5009     		lsrs	r0, r2, #5
 938 0140 0138     		subs	r0, r0, #1
 939 0142 00F01F00 		and	r0, r0, #31
 289:usb_lib.c     ****     }
 940              		.loc 1 289 73 view .LVU290
 941 0146 8C88     		ldrh	r4, [r1, #4]
 942 0148 60F38E24 		bfi	r4, r0, #10, #5
 943 014c 8C80     		strh	r4, [r1, #4]	@ movhi
 289:usb_lib.c     ****     }
 944              		.loc 1 289 39 view .LVU291
 945 014e 8C89     		ldrh	r4, [r1, #12]
 946 0150 60F38E24 		bfi	r4, r0, #10, #5
 947 0154 8C81     		strh	r4, [r1, #12]	@ movhi
 948 0156 AAE7     		b	.L49
 949              	.L58:
 950              		.align	2
 951              	.L57:
 952 0158 00000000 		.word	endp_callback_default
 953 015c 00000000 		.word	.LANCHOR2
 954 0160 00000000 		.word	.LANCHOR1
 955 0164 00000000 		.word	.LANCHOR0
 956              		.cfi_endproc
 957              	.LFE45:
 959              		.section	.text.USB_LP_CAN1_RX0_IRQHandler,"ax",%progbits
 960              		.align	1
 961              		.global	USB_LP_CAN1_RX0_IRQHandler
 962              		.syntax unified
 963              		.thumb
 964              		.thumb_func
 966              	USB_LP_CAN1_RX0_IRQHandler:
 967              	.LFB46:
 299:usb_lib.c     **** //-----------------------------------------------------------------------
 300:usb_lib.c     **** //--------- USB IRQ handler----------------------------------------------
 301:usb_lib.c     **** //-----------------------------------------------------------------------
 302:usb_lib.c     **** void USB_LP_IRQHandler(){
 968              		.loc 1 302 25 is_stmt 1 view -0
 969              		.cfi_startproc
 970              		@ args = 0, pretend = 0, frame = 0
 971              		@ frame_needed = 0, uses_anonymous_args = 0
 972 0000 38B5     		push	{r3, r4, r5, lr}
 973              	.LCFI2:
 974              		.cfi_def_cfa_offset 16
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 51


 975              		.cfi_offset 3, -16
 976              		.cfi_offset 4, -12
 977              		.cfi_offset 5, -8
 978              		.cfi_offset 14, -4
 303:usb_lib.c     ****   if(USB->ISTR & USB_ISTR_CTR){
 979              		.loc 1 303 3 view .LVU293
 980              		.loc 1 303 9 is_stmt 0 view .LVU294
 981 0002 554B     		ldr	r3, .L76
 982 0004 B3F84430 		ldrh	r3, [r3, #68]
 983              		.loc 1 303 5 view .LVU295
 984 0008 13F4004F 		tst	r3, #32768
 985 000c 48D1     		bne	.L63
 304:usb_lib.c     ****     do{
 305:usb_lib.c     ****       uint8_t epnum = USB->ISTR & USB_ISTR_EP_ID;
 306:usb_lib.c     ****       if(USB_EPx(epnum) & USB_EP_CTR_RX){ //OUT
 307:usb_lib.c     ****         epfunc_out[epnum](epnum);
 308:usb_lib.c     ****         ENDP_CTR_RX_CLR(epnum);
 309:usb_lib.c     ****       }
 310:usb_lib.c     ****       if(USB_EPx(epnum) & USB_EP_CTR_TX){//IN
 311:usb_lib.c     ****         epfunc_in[epnum](epnum | 0x80);
 312:usb_lib.c     ****         ENDP_CTR_TX_CLR(epnum);
 313:usb_lib.c     ****       }
 314:usb_lib.c     ****     }while(USB->ISTR & USB_ISTR_CTR);
 315:usb_lib.c     ****     return;
 316:usb_lib.c     ****   }
 317:usb_lib.c     ****   
 318:usb_lib.c     ****   if(USB->ISTR & USB_ISTR_SOF){
 986              		.loc 1 318 3 is_stmt 1 view .LVU296
 987              		.loc 1 318 9 is_stmt 0 view .LVU297
 988 000e 524B     		ldr	r3, .L76
 989 0010 B3F84430 		ldrh	r3, [r3, #68]
 990              		.loc 1 318 5 view .LVU298
 991 0014 13F4007F 		tst	r3, #512
 992 0018 55D1     		bne	.L71
 319:usb_lib.c     ****     usb_class_sof();
 320:usb_lib.c     ****     USB->ISTR = (uint16_t)~USB_ISTR_SOF;
 321:usb_lib.c     ****     return;
 322:usb_lib.c     ****   }
 323:usb_lib.c     ****   
 324:usb_lib.c     ****   if(USB->ISTR & USB_ISTR_RESET){
 993              		.loc 1 324 3 is_stmt 1 view .LVU299
 994              		.loc 1 324 9 is_stmt 0 view .LVU300
 995 001a 4F4B     		ldr	r3, .L76
 996 001c B3F84430 		ldrh	r3, [r3, #68]
 997              		.loc 1 324 5 view .LVU301
 998 0020 13F4806F 		tst	r3, #1024
 999 0024 57D1     		bne	.L72
 1000              	.L66:
 325:usb_lib.c     ****     usb_class_disconnect();
 326:usb_lib.c     ****     #ifdef USBLIB_SOF_ENABLE
 327:usb_lib.c     ****       USB->CNTR = USB_CNTR_RESETM | USB_CNTR_CTRM | USB_CNTR_SOFM | USB_CNTR_SUSPM | USB_CNTR_WKUPM
 328:usb_lib.c     ****     #else
 329:usb_lib.c     ****       USB->CNTR = USB_CNTR_RESETM | USB_CNTR_CTRM | USB_CNTR_SUSPM | USB_CNTR_WKUPM;
 330:usb_lib.c     ****     #endif
 331:usb_lib.c     ****     lastaddr = LASTADDR_DEFAULT;
 332:usb_lib.c     ****     USB->DADDR = USB_DADDR_EF;
 333:usb_lib.c     ****     for(uint8_t i=0; i<STM32ENDPOINTS; i++)epfunc_in[i] = epfunc_out[i] = endp_callback_default;
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 52


 334:usb_lib.c     ****     
 335:usb_lib.c     ****     // state is default - wait for enumeration
 336:usb_lib.c     ****     USB->ISTR = (uint16_t)~USB_ISTR_RESET;
 337:usb_lib.c     ****     usb_ep_init(0x00, USB_ENDP_CTRL, USB_EP0_BUFSZ, ep0_out);
 338:usb_lib.c     ****     usb_ep_init(0x80, USB_ENDP_CTRL, USB_EP0_BUFSZ, ep0_in);
 339:usb_lib.c     ****     ep0_buf = NULL;
 340:usb_lib.c     ****     usb_class_init();
 341:usb_lib.c     ****   }
 342:usb_lib.c     ****   
 343:usb_lib.c     ****   if(USB->ISTR & USB_ISTR_SUSP){ // suspend -> still no connection, may sleep
 1001              		.loc 1 343 3 is_stmt 1 view .LVU302
 1002              		.loc 1 343 9 is_stmt 0 view .LVU303
 1003 0026 4C4B     		ldr	r3, .L76
 1004 0028 B3F84430 		ldrh	r3, [r3, #68]
 1005              		.loc 1 343 5 view .LVU304
 1006 002c 13F4006F 		tst	r3, #2048
 1007 0030 40F08280 		bne	.L73
 1008              	.L69:
 344:usb_lib.c     ****     usb_class_disconnect();
 345:usb_lib.c     ****     USB->CNTR |= USB_CNTR_FSUSP | USB_CNTR_LP_MODE;
 346:usb_lib.c     ****     USB->ISTR = (uint16_t)~USB_ISTR_SUSP;
 347:usb_lib.c     ****   }
 348:usb_lib.c     ****   
 349:usb_lib.c     ****   if(USB->ISTR & USB_ISTR_WKUP){ // wakeup
 1009              		.loc 1 349 3 is_stmt 1 view .LVU305
 1010              		.loc 1 349 9 is_stmt 0 view .LVU306
 1011 0034 484B     		ldr	r3, .L76
 1012 0036 B3F84430 		ldrh	r3, [r3, #68]
 1013              		.loc 1 349 5 view .LVU307
 1014 003a 13F4805F 		tst	r3, #4096
 1015 003e 0CD0     		beq	.L59
 350:usb_lib.c     ****     USB->CNTR &= ~(USB_CNTR_FSUSP | USB_CNTR_LP_MODE); // clear suspend flags
 1016              		.loc 1 350 5 is_stmt 1 view .LVU308
 1017              		.loc 1 350 15 is_stmt 0 view .LVU309
 1018 0040 454A     		ldr	r2, .L76
 1019 0042 B2F84030 		ldrh	r3, [r2, #64]
 1020 0046 9BB2     		uxth	r3, r3
 1021 0048 23F00C03 		bic	r3, r3, #12
 1022 004c 9BB2     		uxth	r3, r3
 1023 004e A2F84030 		strh	r3, [r2, #64]	@ movhi
 351:usb_lib.c     ****     USB->ISTR = (uint16_t)~USB_ISTR_WKUP;
 1024              		.loc 1 351 5 is_stmt 1 view .LVU310
 1025              		.loc 1 351 15 is_stmt 0 view .LVU311
 1026 0052 4EF6FF73 		movw	r3, #61439
 1027 0056 A2F84430 		strh	r3, [r2, #68]	@ movhi
 1028              	.L59:
 352:usb_lib.c     ****   }
 353:usb_lib.c     **** }
 1029              		.loc 1 353 1 view .LVU312
 1030 005a 38BD     		pop	{r3, r4, r5, pc}
 1031              	.LVL80:
 1032              	.L74:
 1033              	.LBB39:
 307:usb_lib.c     ****         ENDP_CTR_RX_CLR(epnum);
 1034              		.loc 1 307 9 is_stmt 1 view .LVU313
 307:usb_lib.c     ****         ENDP_CTR_RX_CLR(epnum);
 1035              		.loc 1 307 19 is_stmt 0 view .LVU314
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 53


 1036 005c 3F4B     		ldr	r3, .L76+4
 1037 005e 53F82530 		ldr	r3, [r3, r5, lsl #2]
 307:usb_lib.c     ****         ENDP_CTR_RX_CLR(epnum);
 1038              		.loc 1 307 9 view .LVU315
 1039 0062 2846     		mov	r0, r5
 1040 0064 9847     		blx	r3
 1041              	.LVL81:
 308:usb_lib.c     ****       }
 1042              		.loc 1 308 9 is_stmt 1 view .LVU316
 308:usb_lib.c     ****       }
 1043              		.loc 1 308 9 view .LVU317
 1044 0066 2388     		ldrh	r3, [r4]
 1045 0068 23F0F003 		bic	r3, r3, #240
 1046 006c 1B05     		lsls	r3, r3, #20
 1047 006e 1B0D     		lsrs	r3, r3, #20
 1048 0070 43F08003 		orr	r3, r3, #128
 1049 0074 2380     		strh	r3, [r4]	@ movhi
 1050 0076 21E0     		b	.L61
 1051              	.L75:
 311:usb_lib.c     ****         ENDP_CTR_TX_CLR(epnum);
 1052              		.loc 1 311 9 view .LVU318
 311:usb_lib.c     ****         ENDP_CTR_TX_CLR(epnum);
 1053              		.loc 1 311 18 is_stmt 0 view .LVU319
 1054 0078 394B     		ldr	r3, .L76+8
 1055 007a 53F82530 		ldr	r3, [r3, r5, lsl #2]
 311:usb_lib.c     ****         ENDP_CTR_TX_CLR(epnum);
 1056              		.loc 1 311 9 view .LVU320
 1057 007e 45F08000 		orr	r0, r5, #128
 1058 0082 9847     		blx	r3
 1059              	.LVL82:
 312:usb_lib.c     ****       }
 1060              		.loc 1 312 9 is_stmt 1 view .LVU321
 312:usb_lib.c     ****       }
 1061              		.loc 1 312 9 view .LVU322
 1062 0084 2388     		ldrh	r3, [r4]
 1063 0086 23F0F003 		bic	r3, r3, #240
 1064 008a 1B05     		lsls	r3, r3, #20
 1065 008c 1B0D     		lsrs	r3, r3, #20
 1066 008e 43F40043 		orr	r3, r3, #32768
 1067 0092 2380     		strh	r3, [r4]	@ movhi
 1068              	.L62:
 312:usb_lib.c     ****       }
 1069              		.loc 1 312 9 discriminator 1 view .LVU323
 1070              	.LBE39:
 314:usb_lib.c     ****     return;
 1071              		.loc 1 314 11 discriminator 1 view .LVU324
 314:usb_lib.c     ****     return;
 1072              		.loc 1 314 15 is_stmt 0 discriminator 1 view .LVU325
 1073 0094 304B     		ldr	r3, .L76
 1074 0096 B3F84430 		ldrh	r3, [r3, #68]
 314:usb_lib.c     ****     return;
 1075              		.loc 1 314 5 discriminator 1 view .LVU326
 1076 009a 13F4004F 		tst	r3, #32768
 1077 009e DCD0     		beq	.L59
 1078              	.LVL83:
 1079              	.L63:
 304:usb_lib.c     ****       uint8_t epnum = USB->ISTR & USB_ISTR_EP_ID;
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 54


 1080              		.loc 1 304 5 is_stmt 1 view .LVU327
 1081              	.LBB40:
 305:usb_lib.c     ****       if(USB_EPx(epnum) & USB_EP_CTR_RX){ //OUT
 1082              		.loc 1 305 7 view .LVU328
 305:usb_lib.c     ****       if(USB_EPx(epnum) & USB_EP_CTR_RX){ //OUT
 1083              		.loc 1 305 26 is_stmt 0 view .LVU329
 1084 00a0 2D4B     		ldr	r3, .L76
 1085 00a2 B3F84450 		ldrh	r5, [r3, #68]
 305:usb_lib.c     ****       if(USB_EPx(epnum) & USB_EP_CTR_RX){ //OUT
 1086              		.loc 1 305 15 view .LVU330
 1087 00a6 05F00F05 		and	r5, r5, #15
 1088              	.LVL84:
 306:usb_lib.c     ****         epfunc_out[epnum](epnum);
 1089              		.loc 1 306 7 is_stmt 1 view .LVU331
 306:usb_lib.c     ****         epfunc_out[epnum](epnum);
 1090              		.loc 1 306 10 is_stmt 0 view .LVU332
 1091 00aa AC00     		lsls	r4, r5, #2
 1092 00ac 04F18044 		add	r4, r4, #1073741824
 1093 00b0 04F5B844 		add	r4, r4, #23552
 1094 00b4 2388     		ldrh	r3, [r4]
 306:usb_lib.c     ****         epfunc_out[epnum](epnum);
 1095              		.loc 1 306 9 view .LVU333
 1096 00b6 13F4004F 		tst	r3, #32768
 1097 00ba CFD1     		bne	.L74
 1098              	.L61:
 308:usb_lib.c     ****       }
 1099              		.loc 1 308 9 is_stmt 1 discriminator 1 view .LVU334
 310:usb_lib.c     ****         epfunc_in[epnum](epnum | 0x80);
 1100              		.loc 1 310 7 discriminator 1 view .LVU335
 310:usb_lib.c     ****         epfunc_in[epnum](epnum | 0x80);
 1101              		.loc 1 310 10 is_stmt 0 discriminator 1 view .LVU336
 1102 00bc 2388     		ldrh	r3, [r4]
 310:usb_lib.c     ****         epfunc_in[epnum](epnum | 0x80);
 1103              		.loc 1 310 9 discriminator 1 view .LVU337
 1104 00be 13F0800F 		tst	r3, #128
 1105 00c2 E7D0     		beq	.L62
 1106 00c4 D8E7     		b	.L75
 1107              	.LVL85:
 1108              	.L71:
 310:usb_lib.c     ****         epfunc_in[epnum](epnum | 0x80);
 1109              		.loc 1 310 9 discriminator 1 view .LVU338
 1110              	.LBE40:
 319:usb_lib.c     ****     USB->ISTR = (uint16_t)~USB_ISTR_SOF;
 1111              		.loc 1 319 5 is_stmt 1 view .LVU339
 1112 00c6 FFF7FEFF 		bl	usb_class_sof
 1113              	.LVL86:
 320:usb_lib.c     ****     return;
 1114              		.loc 1 320 5 view .LVU340
 320:usb_lib.c     ****     return;
 1115              		.loc 1 320 15 is_stmt 0 view .LVU341
 1116 00ca 234B     		ldr	r3, .L76
 1117 00cc 4FF6FF52 		movw	r2, #65023
 1118 00d0 A3F84420 		strh	r2, [r3, #68]	@ movhi
 321:usb_lib.c     ****   }
 1119              		.loc 1 321 5 is_stmt 1 view .LVU342
 1120 00d4 C1E7     		b	.L59
 1121              	.L72:
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 55


 325:usb_lib.c     ****     #ifdef USBLIB_SOF_ENABLE
 1122              		.loc 1 325 5 view .LVU343
 1123 00d6 FFF7FEFF 		bl	usb_class_disconnect
 1124              	.LVL87:
 329:usb_lib.c     ****     #endif
 1125              		.loc 1 329 7 view .LVU344
 329:usb_lib.c     ****     #endif
 1126              		.loc 1 329 17 is_stmt 0 view .LVU345
 1127 00da 1F4B     		ldr	r3, .L76
 1128 00dc 4FF41C42 		mov	r2, #39936
 1129 00e0 A3F84020 		strh	r2, [r3, #64]	@ movhi
 331:usb_lib.c     ****     USB->DADDR = USB_DADDR_EF;
 1130              		.loc 1 331 5 is_stmt 1 view .LVU346
 331:usb_lib.c     ****     USB->DADDR = USB_DADDR_EF;
 1131              		.loc 1 331 14 is_stmt 0 view .LVU347
 1132 00e4 1F4A     		ldr	r2, .L76+12
 1133 00e6 4021     		movs	r1, #64
 1134 00e8 1180     		strh	r1, [r2]	@ movhi
 332:usb_lib.c     ****     for(uint8_t i=0; i<STM32ENDPOINTS; i++)epfunc_in[i] = epfunc_out[i] = endp_callback_default;
 1135              		.loc 1 332 5 is_stmt 1 view .LVU348
 332:usb_lib.c     ****     for(uint8_t i=0; i<STM32ENDPOINTS; i++)epfunc_in[i] = epfunc_out[i] = endp_callback_default;
 1136              		.loc 1 332 16 is_stmt 0 view .LVU349
 1137 00ea 8022     		movs	r2, #128
 1138 00ec A3F84C20 		strh	r2, [r3, #76]	@ movhi
 333:usb_lib.c     ****     
 1139              		.loc 1 333 5 is_stmt 1 view .LVU350
 1140              	.LBB41:
 333:usb_lib.c     ****     
 1141              		.loc 1 333 9 view .LVU351
 1142              	.LVL88:
 333:usb_lib.c     ****     
 1143              		.loc 1 333 17 is_stmt 0 view .LVU352
 1144 00f0 0023     		movs	r3, #0
 333:usb_lib.c     ****     
 1145              		.loc 1 333 5 view .LVU353
 1146 00f2 08E0     		b	.L67
 1147              	.LVL89:
 1148              	.L68:
 333:usb_lib.c     ****     
 1149              		.loc 1 333 44 is_stmt 1 discriminator 3 view .LVU354
 333:usb_lib.c     ****     
 1150              		.loc 1 333 73 is_stmt 0 discriminator 3 view .LVU355
 1151 00f4 1C4A     		ldr	r2, .L76+16
 1152 00f6 1949     		ldr	r1, .L76+4
 1153 00f8 41F82320 		str	r2, [r1, r3, lsl #2]
 333:usb_lib.c     ****     
 1154              		.loc 1 333 57 discriminator 3 view .LVU356
 1155 00fc 1849     		ldr	r1, .L76+8
 1156 00fe 41F82320 		str	r2, [r1, r3, lsl #2]
 333:usb_lib.c     ****     
 1157              		.loc 1 333 40 is_stmt 1 discriminator 3 view .LVU357
 333:usb_lib.c     ****     
 1158              		.loc 1 333 41 is_stmt 0 discriminator 3 view .LVU358
 1159 0102 0133     		adds	r3, r3, #1
 1160              	.LVL90:
 333:usb_lib.c     ****     
 1161              		.loc 1 333 41 discriminator 3 view .LVU359
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 56


 1162 0104 DBB2     		uxtb	r3, r3
 1163              	.LVL91:
 1164              	.L67:
 333:usb_lib.c     ****     
 1165              		.loc 1 333 22 is_stmt 1 discriminator 1 view .LVU360
 333:usb_lib.c     ****     
 1166              		.loc 1 333 5 is_stmt 0 discriminator 1 view .LVU361
 1167 0106 072B     		cmp	r3, #7
 1168 0108 F4D9     		bls	.L68
 1169              	.LBE41:
 336:usb_lib.c     ****     usb_ep_init(0x00, USB_ENDP_CTRL, USB_EP0_BUFSZ, ep0_out);
 1170              		.loc 1 336 5 is_stmt 1 view .LVU362
 336:usb_lib.c     ****     usb_ep_init(0x00, USB_ENDP_CTRL, USB_EP0_BUFSZ, ep0_out);
 1171              		.loc 1 336 15 is_stmt 0 view .LVU363
 1172 010a 134B     		ldr	r3, .L76
 1173              	.LVL92:
 336:usb_lib.c     ****     usb_ep_init(0x00, USB_ENDP_CTRL, USB_EP0_BUFSZ, ep0_out);
 1174              		.loc 1 336 15 view .LVU364
 1175 010c 4FF6FF32 		movw	r2, #64511
 1176 0110 A3F84420 		strh	r2, [r3, #68]	@ movhi
 337:usb_lib.c     ****     usb_ep_init(0x80, USB_ENDP_CTRL, USB_EP0_BUFSZ, ep0_in);
 1177              		.loc 1 337 5 is_stmt 1 view .LVU365
 1178 0114 154B     		ldr	r3, .L76+20
 1179 0116 0822     		movs	r2, #8
 1180 0118 0021     		movs	r1, #0
 1181 011a 0846     		mov	r0, r1
 1182 011c FFF7FEFF 		bl	usb_ep_init
 1183              	.LVL93:
 338:usb_lib.c     ****     ep0_buf = NULL;
 1184              		.loc 1 338 5 view .LVU366
 1185 0120 134B     		ldr	r3, .L76+24
 1186 0122 0822     		movs	r2, #8
 1187 0124 0021     		movs	r1, #0
 1188 0126 8020     		movs	r0, #128
 1189 0128 FFF7FEFF 		bl	usb_ep_init
 1190              	.LVL94:
 339:usb_lib.c     ****     usb_class_init();
 1191              		.loc 1 339 5 view .LVU367
 339:usb_lib.c     ****     usb_class_init();
 1192              		.loc 1 339 13 is_stmt 0 view .LVU368
 1193 012c 114B     		ldr	r3, .L76+28
 1194 012e 0022     		movs	r2, #0
 1195 0130 1A60     		str	r2, [r3]
 340:usb_lib.c     ****   }
 1196              		.loc 1 340 5 is_stmt 1 view .LVU369
 1197 0132 FFF7FEFF 		bl	usb_class_init
 1198              	.LVL95:
 1199 0136 76E7     		b	.L66
 1200              	.L73:
 344:usb_lib.c     ****     USB->CNTR |= USB_CNTR_FSUSP | USB_CNTR_LP_MODE;
 1201              		.loc 1 344 5 view .LVU370
 1202 0138 FFF7FEFF 		bl	usb_class_disconnect
 1203              	.LVL96:
 345:usb_lib.c     ****     USB->ISTR = (uint16_t)~USB_ISTR_SUSP;
 1204              		.loc 1 345 5 view .LVU371
 345:usb_lib.c     ****     USB->ISTR = (uint16_t)~USB_ISTR_SUSP;
 1205              		.loc 1 345 15 is_stmt 0 view .LVU372
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 57


 1206 013c 064A     		ldr	r2, .L76
 1207 013e B2F84030 		ldrh	r3, [r2, #64]
 1208 0142 9BB2     		uxth	r3, r3
 1209 0144 43F00C03 		orr	r3, r3, #12
 1210 0148 A2F84030 		strh	r3, [r2, #64]	@ movhi
 346:usb_lib.c     ****   }
 1211              		.loc 1 346 5 is_stmt 1 view .LVU373
 346:usb_lib.c     ****   }
 1212              		.loc 1 346 15 is_stmt 0 view .LVU374
 1213 014c 4FF2FF73 		movw	r3, #63487
 1214 0150 A2F84430 		strh	r3, [r2, #68]	@ movhi
 1215 0154 6EE7     		b	.L69
 1216              	.L77:
 1217 0156 00BF     		.align	2
 1218              	.L76:
 1219 0158 005C0040 		.word	1073765376
 1220 015c 00000000 		.word	.LANCHOR0
 1221 0160 00000000 		.word	.LANCHOR1
 1222 0164 00000000 		.word	.LANCHOR2
 1223 0168 00000000 		.word	endp_callback_default
 1224 016c 00000000 		.word	ep0_out
 1225 0170 00000000 		.word	ep0_in
 1226 0174 00000000 		.word	.LANCHOR3
 1227              		.cfi_endproc
 1228              	.LFE46:
 1230              		.section	.text._usb_ep_write,"ax",%progbits
 1231              		.align	1
 1232              		.global	_usb_ep_write
 1233              		.syntax unified
 1234              		.thumb
 1235              		.thumb_func
 1237              	_usb_ep_write:
 1238              	.LVL97:
 1239              	.LFB47:
 354:usb_lib.c     **** 
 355:usb_lib.c     **** 
 356:usb_lib.c     **** typedef struct{
 357:usb_lib.c     ****   volatile uint32_t addr;
 358:usb_lib.c     ****   volatile union{
 359:usb_lib.c     ****     uint32_t count; //SINGLE mode, TX count
 360:usb_lib.c     ****     struct{         //DOUBLE mode, RX struct
 361:usb_lib.c     ****       uint32_t rx_count:10;
 362:usb_lib.c     ****       uint32_t rx_num_blocks:5;
 363:usb_lib.c     ****       uint32_t rx_blocksize:1;
 364:usb_lib.c     ****     };
 365:usb_lib.c     ****   };
 366:usb_lib.c     **** }pma_descr_t;
 367:usb_lib.c     **** 
 368:usb_lib.c     **** void _usb_ep_write(uint8_t idx, const uint16_t *buf, uint16_t size){
 1240              		.loc 1 368 68 is_stmt 1 view -0
 1241              		.cfi_startproc
 1242              		@ args = 0, pretend = 0, frame = 0
 1243              		@ frame_needed = 0, uses_anonymous_args = 0
 1244              		.loc 1 368 68 is_stmt 0 view .LVU376
 1245 0000 30B5     		push	{r4, r5, lr}
 1246              	.LCFI3:
 1247              		.cfi_def_cfa_offset 12
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 58


 1248              		.cfi_offset 4, -12
 1249              		.cfi_offset 5, -8
 1250              		.cfi_offset 14, -4
 369:usb_lib.c     ****   pma_descr_t *descr = &((pma_descr_t*)usb_epdata)[idx];
 1251              		.loc 1 369 3 is_stmt 1 view .LVU377
 1252              		.loc 1 369 51 is_stmt 0 view .LVU378
 1253 0002 C500     		lsls	r5, r0, #3
 1254              		.loc 1 369 16 view .LVU379
 1255 0004 05F18045 		add	r5, r5, #1073741824
 1256 0008 05F5C045 		add	r5, r5, #24576
 1257              	.LVL98:
 370:usb_lib.c     ****   uint16_t N2 = (size + 1) >> 1;
 1258              		.loc 1 370 3 is_stmt 1 view .LVU380
 1259              		.loc 1 370 23 is_stmt 0 view .LVU381
 1260 000c 02F1010E 		add	lr, r2, #1
 1261              		.loc 1 370 12 view .LVU382
 1262 0010 4FEA5E0E 		lsr	lr, lr, #1
 1263              	.LVL99:
 371:usb_lib.c     ****   // the buffer is 16-bit, so we should copy data as it would be uint16_t
 372:usb_lib.c     ****   uint16_t *buf16 = (uint16_t *)buf;
 1264              		.loc 1 372 3 is_stmt 1 view .LVU383
 373:usb_lib.c     ****   volatile uint32_t *out = (volatile uint32_t*)((uint16_t *)(USB_PMAADDR + descr->addr*2));
 1265              		.loc 1 373 3 view .LVU384
 1266              		.loc 1 373 81 is_stmt 0 view .LVU385
 1267 0014 2B68     		ldr	r3, [r5]
 1268              		.loc 1 373 74 view .LVU386
 1269 0016 03F1005C 		add	ip, r3, #536870912
 1270 001a 0CF5405C 		add	ip, ip, #12288
 1271 001e 4FEA4C0C 		lsl	ip, ip, #1
 1272              	.LVL100:
 374:usb_lib.c     ****   for(uint16_t i = 0; i < N2; ++i, ++out){
 1273              		.loc 1 374 3 is_stmt 1 view .LVU387
 1274              	.LBB42:
 1275              		.loc 1 374 7 view .LVU388
 1276              		.loc 1 374 16 is_stmt 0 view .LVU389
 1277 0022 0023     		movs	r3, #0
 1278              		.loc 1 374 3 view .LVU390
 1279 0024 05E0     		b	.L79
 1280              	.LVL101:
 1281              	.L80:
 375:usb_lib.c     ****     *out = buf16[i];
 1282              		.loc 1 375 5 is_stmt 1 discriminator 3 view .LVU391
 1283              		.loc 1 375 17 is_stmt 0 discriminator 3 view .LVU392
 1284 0026 31F81340 		ldrh	r4, [r1, r3, lsl #1]
 1285              		.loc 1 375 10 discriminator 3 view .LVU393
 1286 002a 4CF8044B 		str	r4, [ip], #4
 1287              	.LVL102:
 374:usb_lib.c     ****   for(uint16_t i = 0; i < N2; ++i, ++out){
 1288              		.loc 1 374 31 is_stmt 1 discriminator 3 view .LVU394
 1289 002e 0133     		adds	r3, r3, #1
 1290              	.LVL103:
 374:usb_lib.c     ****   for(uint16_t i = 0; i < N2; ++i, ++out){
 1291              		.loc 1 374 31 is_stmt 0 discriminator 3 view .LVU395
 1292 0030 9BB2     		uxth	r3, r3
 1293              	.LVL104:
 1294              	.L79:
 374:usb_lib.c     ****   for(uint16_t i = 0; i < N2; ++i, ++out){
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 59


 1295              		.loc 1 374 23 is_stmt 1 discriminator 1 view .LVU396
 374:usb_lib.c     ****   for(uint16_t i = 0; i < N2; ++i, ++out){
 1296              		.loc 1 374 3 is_stmt 0 discriminator 1 view .LVU397
 1297 0032 7345     		cmp	r3, lr
 1298 0034 F7D3     		bcc	.L80
 374:usb_lib.c     ****   for(uint16_t i = 0; i < N2; ++i, ++out){
 1299              		.loc 1 374 3 discriminator 1 view .LVU398
 1300              	.LBE42:
 376:usb_lib.c     ****   }
 377:usb_lib.c     ****   descr->count = size;
 1301              		.loc 1 377 3 is_stmt 1 view .LVU399
 1302              		.loc 1 377 16 is_stmt 0 view .LVU400
 1303 0036 6A60     		str	r2, [r5, #4]
 378:usb_lib.c     ****   
 379:usb_lib.c     ****   ENDP_STAT_TX((idx/2), USB_EP_TX_VALID);
 1304              		.loc 1 379 3 is_stmt 1 view .LVU401
 1305              		.loc 1 379 3 view .LVU402
 1306 0038 4308     		lsrs	r3, r0, #1
 1307              	.LVL105:
 1308              		.loc 1 379 3 is_stmt 0 view .LVU403
 1309 003a 9B00     		lsls	r3, r3, #2
 1310 003c 03F18043 		add	r3, r3, #1073741824
 1311 0040 03F5B843 		add	r3, r3, #23552
 1312 0044 1A88     		ldrh	r2, [r3]
 1313              	.LVL106:
 1314              		.loc 1 379 3 view .LVU404
 1315 0046 22F0C002 		bic	r2, r2, #192
 1316 004a 1205     		lsls	r2, r2, #20
 1317 004c 120D     		lsrs	r2, r2, #20
 1318 004e 42F40042 		orr	r2, r2, #32768
 1319 0052 42F08002 		orr	r2, r2, #128
 1320 0056 82F03002 		eor	r2, r2, #48
 1321 005a 1A80     		strh	r2, [r3]	@ movhi
 1322              		.loc 1 379 3 is_stmt 1 view .LVU405
 380:usb_lib.c     **** }
 1323              		.loc 1 380 1 is_stmt 0 view .LVU406
 1324 005c 30BD     		pop	{r4, r5, pc}
 1325              		.loc 1 380 1 view .LVU407
 1326              		.cfi_endproc
 1327              	.LFE47:
 1329              		.section	.text.ep0_in,"ax",%progbits
 1330              		.align	1
 1331              		.syntax unified
 1332              		.thumb
 1333              		.thumb_func
 1335              	ep0_in:
 1336              	.LVL107:
 1337              	.LFB41:
 108:usb_lib.c     ****   if(ep0_buf == NULL)return;
 1338              		.loc 1 108 34 is_stmt 1 view -0
 1339              		.cfi_startproc
 1340              		@ args = 0, pretend = 0, frame = 0
 1341              		@ frame_needed = 0, uses_anonymous_args = 0
 109:usb_lib.c     ****   uint16_t left = ep0_count;
 1342              		.loc 1 109 3 view .LVU409
 109:usb_lib.c     ****   uint16_t left = ep0_count;
 1343              		.loc 1 109 14 is_stmt 0 view .LVU410
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 60


 1344 0000 0D4B     		ldr	r3, .L90
 1345 0002 1968     		ldr	r1, [r3]
 109:usb_lib.c     ****   uint16_t left = ep0_count;
 1346              		.loc 1 109 5 view .LVU411
 1347 0004 B9B1     		cbz	r1, .L87
 108:usb_lib.c     ****   if(ep0_buf == NULL)return;
 1348              		.loc 1 108 34 view .LVU412
 1349 0006 10B5     		push	{r4, lr}
 1350              	.LCFI4:
 1351              		.cfi_def_cfa_offset 8
 1352              		.cfi_offset 4, -8
 1353              		.cfi_offset 14, -4
 110:usb_lib.c     ****   if(left > USB_EP0_BUFSZ)left = USB_EP0_BUFSZ;
 1354              		.loc 1 110 3 is_stmt 1 view .LVU413
 110:usb_lib.c     ****   if(left > USB_EP0_BUFSZ)left = USB_EP0_BUFSZ;
 1355              		.loc 1 110 12 is_stmt 0 view .LVU414
 1356 0008 0C4B     		ldr	r3, .L90+4
 1357 000a 1C88     		ldrh	r4, [r3]
 1358              	.LVL108:
 111:usb_lib.c     ****   usb_ep_write(0, (uint16_t*)ep0_buf, left);
 1359              		.loc 1 111 3 is_stmt 1 view .LVU415
 111:usb_lib.c     ****   usb_ep_write(0, (uint16_t*)ep0_buf, left);
 1360              		.loc 1 111 5 is_stmt 0 view .LVU416
 1361 000c 082C     		cmp	r4, #8
 1362 000e 00D9     		bls	.L84
 111:usb_lib.c     ****   usb_ep_write(0, (uint16_t*)ep0_buf, left);
 1363              		.loc 1 111 32 view .LVU417
 1364 0010 0824     		movs	r4, #8
 1365              	.LVL109:
 1366              	.L84:
 112:usb_lib.c     ****   
 1367              		.loc 1 112 3 is_stmt 1 view .LVU418
 1368              	.LBB43:
 1369              	.LBI43:
 1370              		.file 3 "usb_lib.h"
   1:usb_lib.h     **** //24.07.2022
   2:usb_lib.h     **** #ifndef __USB_LIB_H__
   3:usb_lib.h     **** #define __USB_LIB_H__
   4:usb_lib.h     **** 
   5:usb_lib.h     **** /*************************************************************************************
   6:usb_lib.h     ****  *************************************************************************************
   7:usb_lib.h     ****  ****   SETTINGS  ********************************************************************
   8:usb_lib.h     ****  *************************************************************************************
   9:usb_lib.h     ****  *************************************************************************************
  10:usb_lib.h     ****  */
  11:usb_lib.h     **** 
  12:usb_lib.h     **** #define USB_EP0_BUFSZ   8
  13:usb_lib.h     **** //#define USBLIB_SOF_ENABLE
  14:usb_lib.h     **** 
  15:usb_lib.h     **** 
  16:usb_lib.h     **** /*************************************************************************************
  17:usb_lib.h     ****  *************************************************************************************
  18:usb_lib.h     ****  ****   AVAIBLE FUNCIONS (from core)  ************************************************
  19:usb_lib.h     ****  *************************************************************************************
  20:usb_lib.h     ****  *************************************************************************************
  21:usb_lib.h     ****  */
  22:usb_lib.h     **** #include <stdint.h>
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 61


  23:usb_lib.h     **** #define USB_ENDP_CTRL 0x00
  24:usb_lib.h     **** #define USB_ENDP_ISO  0x01
  25:usb_lib.h     **** #define USB_ENDP_BULK 0x02
  26:usb_lib.h     **** #define USB_ENDP_INTR 0x03
  27:usb_lib.h     **** 
  28:usb_lib.h     **** 
  29:usb_lib.h     **** typedef void(*epfunc_t)(uint8_t epnum);
  30:usb_lib.h     **** typedef struct{
  31:usb_lib.h     ****   uint8_t bmRequestType;
  32:usb_lib.h     ****   uint8_t bRequest;
  33:usb_lib.h     ****   uint16_t wValue;
  34:usb_lib.h     ****   uint16_t wIndex;
  35:usb_lib.h     ****   uint16_t wLength;
  36:usb_lib.h     **** }config_pack_t;
  37:usb_lib.h     **** 
  38:usb_lib.h     **** //usb_lib.c
  39:usb_lib.h     **** #define USB_ALIGN __attribute__ ((aligned (2)))
  40:usb_lib.h     **** void USB_setup();
  41:usb_lib.h     **** void usb_ep_init(uint8_t epnum, uint8_t ep_type, uint16_t size, epfunc_t func);
  42:usb_lib.h     **** void usb_ep_init_double(uint8_t epnum, uint8_t ep_type, uint16_t size, epfunc_t func);
  43:usb_lib.h     **** static void usb_ep_write(uint8_t epnum, const uint16_t *buf, uint16_t size);
  44:usb_lib.h     **** static void usb_ep_write_double(uint8_t epnum, const uint16_t *buf, uint16_t size);
  45:usb_lib.h     **** static int usb_ep_read(uint8_t epnum, uint16_t *buf);
  46:usb_lib.h     **** static int usb_ep_read_double(uint8_t epnum, uint16_t *buf);
  47:usb_lib.h     **** #define usb_ep_ready(epnum)
  48:usb_lib.h     **** 
  49:usb_lib.h     **** /*************************************************************************************
  50:usb_lib.h     ****  *************************************************************************************
  51:usb_lib.h     ****  ****  REQUIRED FUNCTIONS  ***********************************************************
  52:usb_lib.h     ****  *************************************************************************************
  53:usb_lib.h     ****  *************************************************************************************
  54:usb_lib.h     ****  */
  55:usb_lib.h     **** 
  56:usb_lib.h     **** //usb_class_get_std_descr (required!)
  57:usb_lib.h     **** //Return standard descriptors
  58:usb_lib.h     **** //  descr - descriptor index (USB_DESCR_DEVICE, USB_DESCR_CONFIG, etc)
  59:usb_lib.h     **** //  data - return data
  60:usb_lib.h     **** //  size - descriptor length
  61:usb_lib.h     **** void usb_class_get_std_descr(uint16_t descr, const void **data, uint16_t *size);
  62:usb_lib.h     **** //usb_class_init (optional)
  63:usb_lib.h     **** //Funcation callen on usb connect
  64:usb_lib.h     **** void usb_class_init();
  65:usb_lib.h     **** //usb_class_disconnect (optional)
  66:usb_lib.h     **** //Function called on usb disconnect
  67:usb_lib.h     **** void usb_class_disconnect();
  68:usb_lib.h     **** //usb_class_poll (optional)
  69:usb_lib.h     **** //Function called periodically from main()
  70:usb_lib.h     **** void usb_class_poll();
  71:usb_lib.h     **** //usb_class_sof (optional, enabled by USBLIB_SOF_ENABLE macro)
  72:usb_lib.h     **** //Function called periodically by USB SOF event (every 1 ms)
  73:usb_lib.h     **** void usb_class_sof();
  74:usb_lib.h     **** //usb_class_ep0_in (optional)
  75:usb_lib.h     **** //IN request of endpoint 0
  76:usb_lib.h     **** //  req - request
  77:usb_lib.h     **** //  data - requrn data
  78:usb_lib.h     **** //  size - size of return data
  79:usb_lib.h     **** //return value: 0 - request not processed
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 62


  80:usb_lib.h     **** //              1 - request processed
  81:usb_lib.h     **** char usb_class_ep0_in(config_pack_t *req, void **data, uint16_t *size);
  82:usb_lib.h     **** //usb_class_ep0_out (optional)
  83:usb_lib.h     **** //OUT request of endpoint 0
  84:usb_lib.h     **** //  req - request
  85:usb_lib.h     **** //  offset - offset of received payload
  86:usb_lib.h     **** //  size - size of received payload
  87:usb_lib.h     **** //return value: 0 - request not processed
  88:usb_lib.h     **** //              1 - request processed (usb_ep_read(0, &data) called)
  89:usb_lib.h     **** char usb_class_ep0_out(config_pack_t *req, uint16_t offset, uint16_t rx_size);
  90:usb_lib.h     **** 
  91:usb_lib.h     **** /*************************************************************************************
  92:usb_lib.h     ****  *************************************************************************************
  93:usb_lib.h     ****  ****  AUXILIARY FUNTIONS AND CONSTANTS   ********************************************
  94:usb_lib.h     ****  *************************************************************************************
  95:usb_lib.h     ****  *************************************************************************************
  96:usb_lib.h     ****  */
  97:usb_lib.h     **** 
  98:usb_lib.h     **** #define USB_DESCR_DEVICE    0x01
  99:usb_lib.h     **** #define USB_DESCR_CONFIG    0x02
 100:usb_lib.h     **** #define USB_DESCR_STRING    0x03
 101:usb_lib.h     **** #define USB_DESCR_INTERFACE 0x04
 102:usb_lib.h     **** #define USB_DESCR_ENDPOINT  0x05
 103:usb_lib.h     **** #define USB_DESCR_QUALIFIER 0x06
 104:usb_lib.h     **** #define USB_DESCR_OTHER_SPEED 0x07
 105:usb_lib.h     **** #define USB_DESCR_INTERFACE_POWER 0x08
 106:usb_lib.h     **** #define USB_DESCR_HID       0x21
 107:usb_lib.h     **** #define USB_DESCR_HID_REPORT  0x22
 108:usb_lib.h     **** #define USB_DESCR_CS_INTERFACE 0x24
 109:usb_lib.h     **** #define USB_DESCR_ENDP_ISO  0x25
 110:usb_lib.h     **** 
 111:usb_lib.h     **** #define USB_STRING(name, str)                    \
 112:usb_lib.h     **** USB_ALIGN static const struct name{                        \
 113:usb_lib.h     ****         uint8_t  bLength;                        \
 114:usb_lib.h     ****         uint8_t  bDescriptorType;                \
 115:usb_lib.h     ****         uint16_t bString[(sizeof(str) - 2) / 2]; \
 116:usb_lib.h     **** }name = {sizeof(name), USB_DESCR_STRING, str}
 117:usb_lib.h     **** 
 118:usb_lib.h     **** #define USB_U16(x) ((x)&0xFF), (((x)>>8)&0xFF)
 119:usb_lib.h     **** #define USB_U24(x) ((x)&0xFF), (((x)>>8)&0xFF), (((x)>>16)&0xFF)
 120:usb_lib.h     **** 
 121:usb_lib.h     **** #define USB_REQ_STANDARD  0x00
 122:usb_lib.h     **** #define USB_REQ_CLASS     0x20
 123:usb_lib.h     **** #define USB_REQ_VENDOR    0x40
 124:usb_lib.h     **** 
 125:usb_lib.h     **** #define USB_REQ_DEVICE    0x00
 126:usb_lib.h     **** #define USB_REQ_INTERFACE 0x01
 127:usb_lib.h     **** #define USB_REQ_ENDPOINT  0x02
 128:usb_lib.h     **** #define USB_REQ_OTHER     0x03
 129:usb_lib.h     **** // bRequest, standard; for bmRequestType == 0x80
 130:usb_lib.h     **** #define GET_STATUS                      0x00
 131:usb_lib.h     **** #define GET_DESCRIPTOR                  0x06
 132:usb_lib.h     **** #define GET_CONFIGURATION               0x08
 133:usb_lib.h     **** #define SET_FEAUTRE                     0x09
 134:usb_lib.h     **** #define SET_IDLE_REQUEST                0x0a
 135:usb_lib.h     **** 
 136:usb_lib.h     **** // for bmRequestType == 0
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 63


 137:usb_lib.h     **** #define CLEAR_FEATURE                   0x01
 138:usb_lib.h     **** #define SET_FEATURE                     0x03 
 139:usb_lib.h     **** #define SET_ADDRESS                     0x05
 140:usb_lib.h     **** #define SET_DESCRIPTOR                  0x07
 141:usb_lib.h     **** #define SET_CONFIGURATION               0x09
 142:usb_lib.h     **** // for bmRequestType == 0x81, 1 or 0xB2
 143:usb_lib.h     **** #define GET_INTERFACE                   0x0A
 144:usb_lib.h     **** #define SET_INTERFACE                   0x0B
 145:usb_lib.h     **** #define SYNC_FRAME                      0x0C
 146:usb_lib.h     **** #define VENDOR_REQUEST                  0x01
 147:usb_lib.h     **** 
 148:usb_lib.h     **** // standard descriptors (wValue = DESCR_TYPE<<8 | DESCR_INDEX)
 149:usb_lib.h     **** #define DEVICE_DESCRIPTOR               0x0100
 150:usb_lib.h     **** #define CONFIGURATION_DESCRIPTOR        0x0200
 151:usb_lib.h     **** #define STRING_DESCRIPTOR               0x0300
 152:usb_lib.h     **** #define DEVICE_QUALIFIER_DESCRIPTOR     0x0600
 153:usb_lib.h     **** #define HID_REPORT_DESCRIPTOR           0x2200
 154:usb_lib.h     **** 
 155:usb_lib.h     **** #include <stm32f1xx.h>
 156:usb_lib.h     **** #define USB_EPx(num) (((volatile uint16_t*)USB)[(num)*2])
 157:usb_lib.h     **** 
 158:usb_lib.h     **** #undef usb_ep_ready
 159:usb_lib.h     **** #define usb_ep_ready(epnum) (\
 160:usb_lib.h     ****   (((epnum) & 0x80) && ((USB_EPx((epnum) & 0x0F) & USB_EPTX_STAT) != USB_EP_TX_VALID) ) || \
 161:usb_lib.h     ****   (!((epnum)& 0x80) && ((USB_EPx((epnum) & 0x0F) & USB_EPRX_STAT) == USB_EP_RX_NAK) ) \
 162:usb_lib.h     ****   )
 163:usb_lib.h     **** 
 164:usb_lib.h     **** 
 165:usb_lib.h     **** #define _ARRLEN1(ign, x...) (1+sizeof((uint8_t[]){x})), x
 166:usb_lib.h     **** #define __ARRLEN34(x1, x2, i3, i4, x...) x1, x2, USB_U16(4+sizeof((uint8_t[]){x})), x
 167:usb_lib.h     **** #define _ARRLEN34(x1, x2, i3, i4, x...) __ARRLEN34(x1, x2, i3, i4, x)
 168:usb_lib.h     **** #define __ARRLEN67(x1, x2, x3, x4, x5, i6, i7, x...) x1, x2, x3, x4, x5, USB_U16(7+sizeof((uint8_t[
 169:usb_lib.h     **** #define _ARRLEN67(x1, x2, x3, x4, x5, i6, i7, x...) __ARRLEN67(x1, x2, x3, x4, x5, i6, i7, x)
 170:usb_lib.h     **** #define ARRLEN1(ign, x...) _ARRLEN1(ign, x)
 171:usb_lib.h     **** #define ARRLEN34(x) _ARRLEN34(x)
 172:usb_lib.h     **** #define ARRLEN67(x) _ARRLEN67(x)
 173:usb_lib.h     **** 
 174:usb_lib.h     **** #define bLENGTH 0
 175:usb_lib.h     **** #define wTOTALLENGTH 0,0
 176:usb_lib.h     **** 
 177:usb_lib.h     **** #define ENDP_TOG(num, tog) do{USB_EPx(num) = ((USB_EPx(num) & ~(USB_EP_DTOG_RX | USB_EP_DTOG_TX | U
 178:usb_lib.h     **** 
 179:usb_lib.h     **** void _usb_ep_write(uint8_t idx, const uint16_t *buf, uint16_t size);
 180:usb_lib.h     **** static inline void usb_ep_write(uint8_t epnum, const uint16_t *buf, uint16_t size){
 1371              		.loc 3 180 20 view .LVU419
 1372              	.LBB44:
 181:usb_lib.h     ****   _usb_ep_write((epnum & 0x0F)*2, buf, size);
 1373              		.loc 3 181 3 view .LVU420
 1374 0012 2246     		mov	r2, r4
 1375 0014 0020     		movs	r0, #0
 1376              	.LVL110:
 1377              		.loc 3 181 3 is_stmt 0 view .LVU421
 1378 0016 FFF7FEFF 		bl	_usb_ep_write
 1379              	.LVL111:
 1380              		.loc 3 181 3 view .LVU422
 1381              	.LBE44:
 1382              	.LBE43:
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 64


 114:usb_lib.c     ****   ep0_buf += left;
 1383              		.loc 1 114 3 is_stmt 1 view .LVU423
 114:usb_lib.c     ****   ep0_buf += left;
 1384              		.loc 1 114 13 is_stmt 0 view .LVU424
 1385 001a 084A     		ldr	r2, .L90+4
 1386 001c 1388     		ldrh	r3, [r2]
 1387 001e 1B1B     		subs	r3, r3, r4
 1388 0020 1380     		strh	r3, [r2]	@ movhi
 115:usb_lib.c     ****   
 1389              		.loc 1 115 3 is_stmt 1 view .LVU425
 115:usb_lib.c     ****   
 1390              		.loc 1 115 11 is_stmt 0 view .LVU426
 1391 0022 054A     		ldr	r2, .L90
 1392 0024 1368     		ldr	r3, [r2]
 1393 0026 2344     		add	r3, r3, r4
 1394 0028 1360     		str	r3, [r2]
 117:usb_lib.c     ****     ep0_buf = NULL;
 1395              		.loc 1 117 3 is_stmt 1 view .LVU427
 117:usb_lib.c     ****     ep0_buf = NULL;
 1396              		.loc 1 117 5 is_stmt 0 view .LVU428
 1397 002a 072C     		cmp	r4, #7
 1398 002c 02D8     		bhi	.L82
 118:usb_lib.c     ****   }
 1399              		.loc 1 118 5 is_stmt 1 view .LVU429
 118:usb_lib.c     ****   }
 1400              		.loc 1 118 13 is_stmt 0 view .LVU430
 1401 002e 1346     		mov	r3, r2
 1402 0030 0022     		movs	r2, #0
 1403 0032 1A60     		str	r2, [r3]
 1404              	.L82:
 120:usb_lib.c     **** 
 1405              		.loc 1 120 1 view .LVU431
 1406 0034 10BD     		pop	{r4, pc}
 1407              	.LVL112:
 1408              	.L87:
 1409              	.LCFI5:
 1410              		.cfi_def_cfa_offset 0
 1411              		.cfi_restore 4
 1412              		.cfi_restore 14
 120:usb_lib.c     **** 
 1413              		.loc 1 120 1 view .LVU432
 1414 0036 7047     		bx	lr
 1415              	.L91:
 1416              		.align	2
 1417              	.L90:
 1418 0038 00000000 		.word	.LANCHOR3
 1419 003c 00000000 		.word	.LANCHOR4
 1420              		.cfi_endproc
 1421              	.LFE41:
 1423              		.section	.text._usb_ep_read,"ax",%progbits
 1424              		.align	1
 1425              		.global	_usb_ep_read
 1426              		.syntax unified
 1427              		.thumb
 1428              		.thumb_func
 1430              	_usb_ep_read:
 1431              	.LVL113:
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 65


 1432              	.LFB48:
 381:usb_lib.c     **** 
 382:usb_lib.c     **** int _usb_ep_read(uint8_t idx, uint16_t *buf){
 1433              		.loc 1 382 45 is_stmt 1 view -0
 1434              		.cfi_startproc
 1435              		@ args = 0, pretend = 0, frame = 0
 1436              		@ frame_needed = 0, uses_anonymous_args = 0
 1437              		.loc 1 382 45 is_stmt 0 view .LVU434
 1438 0000 10B5     		push	{r4, lr}
 1439              	.LCFI6:
 1440              		.cfi_def_cfa_offset 8
 1441              		.cfi_offset 4, -8
 1442              		.cfi_offset 14, -4
 1443 0002 8646     		mov	lr, r0
 383:usb_lib.c     ****   pma_descr_t *descr = &((pma_descr_t*)usb_epdata)[idx];
 1444              		.loc 1 383 3 is_stmt 1 view .LVU435
 1445              		.loc 1 383 51 is_stmt 0 view .LVU436
 1446 0004 C300     		lsls	r3, r0, #3
 1447              		.loc 1 383 16 view .LVU437
 1448 0006 03F18043 		add	r3, r3, #1073741824
 1449 000a 03F5C043 		add	r3, r3, #24576
 1450              	.LVL114:
 384:usb_lib.c     ****   int sz = descr->rx_count;
 1451              		.loc 1 384 3 is_stmt 1 view .LVU438
 1452              		.loc 1 384 17 is_stmt 0 view .LVU439
 1453 000e 5868     		ldr	r0, [r3, #4]
 1454              	.LVL115:
 1455              		.loc 1 384 17 view .LVU440
 1456 0010 C0F30900 		ubfx	r0, r0, #0, #10
 1457              	.LVL116:
 385:usb_lib.c     ****   if(!sz) return 0;
 1458              		.loc 1 385 3 is_stmt 1 view .LVU441
 1459              		.loc 1 385 5 is_stmt 0 view .LVU442
 1460 0014 18B3     		cbz	r0, .L92
 386:usb_lib.c     ****   int n = (sz + 1) >> 1;
 1461              		.loc 1 386 3 is_stmt 1 view .LVU443
 1462              		.loc 1 386 15 is_stmt 0 view .LVU444
 1463 0016 441C     		adds	r4, r0, #1
 1464              		.loc 1 386 7 view .LVU445
 1465 0018 6410     		asrs	r4, r4, #1
 1466              	.LVL117:
 387:usb_lib.c     ****   volatile uint32_t *in = (volatile uint32_t*)((uint16_t *)(USB_PMAADDR + descr->addr*2));
 1467              		.loc 1 387 3 is_stmt 1 view .LVU446
 1468              		.loc 1 387 80 is_stmt 0 view .LVU447
 1469 001a 1A68     		ldr	r2, [r3]
 1470              		.loc 1 387 73 view .LVU448
 1471 001c 02F10052 		add	r2, r2, #536870912
 1472 0020 02F54052 		add	r2, r2, #12288
 1473 0024 5200     		lsls	r2, r2, #1
 1474              	.LVL118:
 388:usb_lib.c     ****   for(int i = 0; i < n; ++i, ++in)
 1475              		.loc 1 388 3 is_stmt 1 view .LVU449
 1476              	.LBB45:
 1477              		.loc 1 388 7 view .LVU450
 1478              		.loc 1 388 11 is_stmt 0 view .LVU451
 1479 0026 0023     		movs	r3, #0
 1480              	.LVL119:
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 66


 1481              		.loc 1 388 3 view .LVU452
 1482 0028 04E0     		b	.L94
 1483              	.LVL120:
 1484              	.L95:
 389:usb_lib.c     ****     buf[i] = *(uint16_t*)in;
 1485              		.loc 1 389 5 is_stmt 1 discriminator 3 view .LVU453
 1486              		.loc 1 389 14 is_stmt 0 discriminator 3 view .LVU454
 1487 002a 32F804CB 		ldrh	ip, [r2], #4
 1488              	.LVL121:
 1489              		.loc 1 389 12 discriminator 3 view .LVU455
 1490 002e 21F813C0 		strh	ip, [r1, r3, lsl #1]	@ movhi
 388:usb_lib.c     ****   for(int i = 0; i < n; ++i, ++in)
 1491              		.loc 1 388 25 is_stmt 1 discriminator 3 view .LVU456
 1492 0032 0133     		adds	r3, r3, #1
 1493              	.LVL122:
 1494              	.L94:
 388:usb_lib.c     ****   for(int i = 0; i < n; ++i, ++in)
 1495              		.loc 1 388 18 discriminator 1 view .LVU457
 388:usb_lib.c     ****   for(int i = 0; i < n; ++i, ++in)
 1496              		.loc 1 388 3 is_stmt 0 discriminator 1 view .LVU458
 1497 0034 A342     		cmp	r3, r4
 1498 0036 F8DB     		blt	.L95
 388:usb_lib.c     ****   for(int i = 0; i < n; ++i, ++in)
 1499              		.loc 1 388 3 discriminator 1 view .LVU459
 1500              	.LBE45:
 390:usb_lib.c     ****   
 391:usb_lib.c     ****   ENDP_STAT_RX((idx/2), USB_EP_RX_VALID);
 1501              		.loc 1 391 3 is_stmt 1 view .LVU460
 1502              		.loc 1 391 3 view .LVU461
 1503 0038 4FEA5E03 		lsr	r3, lr, #1
 1504              	.LVL123:
 1505              		.loc 1 391 3 is_stmt 0 view .LVU462
 1506 003c 9B00     		lsls	r3, r3, #2
 1507 003e 03F18043 		add	r3, r3, #1073741824
 1508 0042 03F5B843 		add	r3, r3, #23552
 1509 0046 1A88     		ldrh	r2, [r3]
 1510              	.LVL124:
 1511              		.loc 1 391 3 view .LVU463
 1512 0048 22F0F002 		bic	r2, r2, #240
 1513 004c 9204     		lsls	r2, r2, #18
 1514 004e 920C     		lsrs	r2, r2, #18
 1515 0050 42F40042 		orr	r2, r2, #32768
 1516 0054 42F08002 		orr	r2, r2, #128
 1517 0058 82F44052 		eor	r2, r2, #12288
 1518 005c 1A80     		strh	r2, [r3]	@ movhi
 1519              		.loc 1 391 3 is_stmt 1 view .LVU464
 392:usb_lib.c     ****   return sz;
 1520              		.loc 1 392 3 view .LVU465
 1521              	.LVL125:
 1522              	.L92:
 393:usb_lib.c     **** }
 1523              		.loc 1 393 1 is_stmt 0 view .LVU466
 1524 005e 10BD     		pop	{r4, pc}
 1525              		.cfi_endproc
 1526              	.LFE48:
 1528              		.section	.text.ep0_out,"ax",%progbits
 1529              		.align	1
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 67


 1530              		.syntax unified
 1531              		.thumb
 1532              		.thumb_func
 1534              	ep0_out:
 1535              	.LVL126:
 1536              	.LFB43:
 130:usb_lib.c     ****   static uint16_t bytesread = 0;
 1537              		.loc 1 130 35 is_stmt 1 view -0
 1538              		.cfi_startproc
 1539              		@ args = 0, pretend = 0, frame = 8
 1540              		@ frame_needed = 0, uses_anonymous_args = 0
 130:usb_lib.c     ****   static uint16_t bytesread = 0;
 1541              		.loc 1 130 35 is_stmt 0 view .LVU468
 1542 0000 30B5     		push	{r4, r5, lr}
 1543              	.LCFI7:
 1544              		.cfi_def_cfa_offset 12
 1545              		.cfi_offset 4, -12
 1546              		.cfi_offset 5, -8
 1547              		.cfi_offset 14, -4
 1548 0002 83B0     		sub	sp, sp, #12
 1549              	.LCFI8:
 1550              		.cfi_def_cfa_offset 24
 131:usb_lib.c     ****   uint16_t rxcount = usb_epdata[0].rx_count;
 1551              		.loc 1 131 3 is_stmt 1 view .LVU469
 132:usb_lib.c     ****   uint8_t setup = !!(USB_EPx(0) & USB_EP_SETUP);
 1552              		.loc 1 132 3 view .LVU470
 132:usb_lib.c     ****   uint8_t setup = !!(USB_EPx(0) & USB_EP_SETUP);
 1553              		.loc 1 132 35 is_stmt 0 view .LVU471
 1554 0004 644B     		ldr	r3, .L121
 1555 0006 DC68     		ldr	r4, [r3, #12]
 1556 0008 C4F30904 		ubfx	r4, r4, #0, #10
 1557              	.LVL127:
 133:usb_lib.c     **** 
 1558              		.loc 1 133 3 is_stmt 1 view .LVU472
 133:usb_lib.c     **** 
 1559              		.loc 1 133 22 is_stmt 0 view .LVU473
 1560 000c A3F58063 		sub	r3, r3, #1024
 1561 0010 1B88     		ldrh	r3, [r3]
 1562              	.LVL128:
 135:usb_lib.c     ****     if( setup_packet.bmRequestType & 0x80 ){ //предыдущий пакет=IN, этот точ
 1563              		.loc 1 135 3 is_stmt 1 view .LVU474
 135:usb_lib.c     ****     if( setup_packet.bmRequestType & 0x80 ){ //предыдущий пакет=IN, этот точ
 1564              		.loc 1 135 5 is_stmt 0 view .LVU475
 1565 0012 13F40065 		ands	r5, r3, #2048
 1566 0016 0AD0     		beq	.L98
 136:usb_lib.c     ****       usb_ep_read(0, (uint16_t*)&setup_packet);
 1567              		.loc 1 136 5 is_stmt 1 view .LVU476
 136:usb_lib.c     ****       usb_ep_read(0, (uint16_t*)&setup_packet);
 1568              		.loc 1 136 9 is_stmt 0 view .LVU477
 1569 0018 604B     		ldr	r3, .L121+4
 1570              	.LVL129:
 136:usb_lib.c     ****       usb_ep_read(0, (uint16_t*)&setup_packet);
 1571              		.loc 1 136 9 view .LVU478
 1572 001a 93F90030 		ldrsb	r3, [r3]
 136:usb_lib.c     ****       usb_ep_read(0, (uint16_t*)&setup_packet);
 1573              		.loc 1 136 7 view .LVU479
 1574 001e 002B     		cmp	r3, #0
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 68


 1575 0020 35DB     		blt	.L114
 141:usb_lib.c     ****         usb_ep_read(0, (uint16_t*)&setup_packet);
 1576              		.loc 1 141 7 is_stmt 1 view .LVU480
 141:usb_lib.c     ****         usb_ep_read(0, (uint16_t*)&setup_packet);
 1577              		.loc 1 141 36 is_stmt 0 view .LVU481
 1578 0022 5E4B     		ldr	r3, .L121+4
 1579 0024 DA88     		ldrh	r2, [r3, #6]
 141:usb_lib.c     ****         usb_ep_read(0, (uint16_t*)&setup_packet);
 1580              		.loc 1 141 21 view .LVU482
 1581 0026 5E4B     		ldr	r3, .L121+8
 1582 0028 1B88     		ldrh	r3, [r3]
 141:usb_lib.c     ****         usb_ep_read(0, (uint16_t*)&setup_packet);
 1583              		.loc 1 141 9 view .LVU483
 1584 002a 9A42     		cmp	r2, r3
 1585 002c 37D9     		bls	.L115
 1586              	.LVL130:
 1587              	.L98:
 149:usb_lib.c     ****   
 1588              		.loc 1 149 3 is_stmt 1 view .LVU484
 149:usb_lib.c     ****   
 1589              		.loc 1 149 29 is_stmt 0 view .LVU485
 1590 002e 5B4B     		ldr	r3, .L121+4
 1591 0030 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 149:usb_lib.c     ****   
 1592              		.loc 1 149 11 view .LVU486
 1593 0032 03F07F02 		and	r2, r3, #127
 1594              	.LVL131:
 151:usb_lib.c     ****     //---IN---
 1595              		.loc 1 151 3 is_stmt 1 view .LVU487
 151:usb_lib.c     ****     //---IN---
 1596              		.loc 1 151 5 is_stmt 0 view .LVU488
 1597 0036 13F0800F 		tst	r3, #128
 1598 003a 38D1     		bne	.L116
 179:usb_lib.c     ****       if(setup_packet.bRequest == SET_ADDRESS){
 1599              		.loc 1 179 5 is_stmt 1 view .LVU489
 179:usb_lib.c     ****       if(setup_packet.bRequest == SET_ADDRESS){
 1600              		.loc 1 179 7 is_stmt 0 view .LVU490
 1601 003c 3AB9     		cbnz	r2, .L109
 180:usb_lib.c     ****         uint8_t USB_Addr = setup_packet.wValue;
 1602              		.loc 1 180 7 is_stmt 1 view .LVU491
 180:usb_lib.c     ****         uint8_t USB_Addr = setup_packet.wValue;
 1603              		.loc 1 180 22 is_stmt 0 view .LVU492
 1604 003e 574B     		ldr	r3, .L121+4
 1605 0040 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 180:usb_lib.c     ****         uint8_t USB_Addr = setup_packet.wValue;
 1606              		.loc 1 180 9 view .LVU493
 1607 0042 052B     		cmp	r3, #5
 1608 0044 00F08680 		beq	.L117
 186:usb_lib.c     ****         configuration = setup_packet.wValue;
 1609              		.loc 1 186 13 is_stmt 1 view .LVU494
 186:usb_lib.c     ****         configuration = setup_packet.wValue;
 1610              		.loc 1 186 15 is_stmt 0 view .LVU495
 1611 0048 092B     		cmp	r3, #9
 1612 004a 00F09580 		beq	.L118
 1613              	.L109:
 192:usb_lib.c     ****       ENDP_STAT_RX(0, USB_EP_RX_VALID);
 1614              		.loc 1 192 5 is_stmt 1 view .LVU496
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 69


 192:usb_lib.c     ****       ENDP_STAT_RX(0, USB_EP_RX_VALID);
 1615              		.loc 1 192 9 is_stmt 0 view .LVU497
 1616 004e 2246     		mov	r2, r4
 1617              	.LVL132:
 192:usb_lib.c     ****       ENDP_STAT_RX(0, USB_EP_RX_VALID);
 1618              		.loc 1 192 9 view .LVU498
 1619 0050 534B     		ldr	r3, .L121+8
 1620 0052 1988     		ldrh	r1, [r3]
 1621 0054 5148     		ldr	r0, .L121+4
 1622 0056 FFF7FEFF 		bl	usb_class_ep0_out
 1623              	.LVL133:
 192:usb_lib.c     ****       ENDP_STAT_RX(0, USB_EP_RX_VALID);
 1624              		.loc 1 192 7 view .LVU499
 1625 005a 60B9     		cbnz	r0, .L112
 193:usb_lib.c     ****     }
 1626              		.loc 1 193 7 is_stmt 1 view .LVU500
 193:usb_lib.c     ****     }
 1627              		.loc 1 193 7 view .LVU501
 1628 005c 514A     		ldr	r2, .L121+12
 1629 005e 1388     		ldrh	r3, [r2]
 1630 0060 23F0F003 		bic	r3, r3, #240
 1631 0064 9B04     		lsls	r3, r3, #18
 1632 0066 9B0C     		lsrs	r3, r3, #18
 1633 0068 43F40043 		orr	r3, r3, #32768
 1634 006c 43F08003 		orr	r3, r3, #128
 1635 0070 83F44053 		eor	r3, r3, #12288
 1636 0074 1380     		strh	r3, [r2]	@ movhi
 1637              	.L112:
 193:usb_lib.c     ****     }
 1638              		.loc 1 193 7 discriminator 1 view .LVU502
 195:usb_lib.c     ****     if( bytesread >= setup_packet.wLength )usb_ep_write(0, NULL, 0);
 1639              		.loc 1 195 5 discriminator 1 view .LVU503
 195:usb_lib.c     ****     if( bytesread >= setup_packet.wLength )usb_ep_write(0, NULL, 0);
 1640              		.loc 1 195 15 is_stmt 0 discriminator 1 view .LVU504
 1641 0076 4A4B     		ldr	r3, .L121+8
 1642 0078 1A88     		ldrh	r2, [r3]
 1643 007a 1444     		add	r4, r4, r2
 1644              	.LVL134:
 195:usb_lib.c     ****     if( bytesread >= setup_packet.wLength )usb_ep_write(0, NULL, 0);
 1645              		.loc 1 195 15 discriminator 1 view .LVU505
 1646 007c A4B2     		uxth	r4, r4
 1647 007e 1C80     		strh	r4, [r3]	@ movhi
 196:usb_lib.c     ****   }
 1648              		.loc 1 196 5 is_stmt 1 discriminator 1 view .LVU506
 196:usb_lib.c     ****   }
 1649              		.loc 1 196 34 is_stmt 0 discriminator 1 view .LVU507
 1650 0080 464B     		ldr	r3, .L121+4
 1651 0082 DB88     		ldrh	r3, [r3, #6]
 196:usb_lib.c     ****   }
 1652              		.loc 1 196 7 discriminator 1 view .LVU508
 1653 0084 9C42     		cmp	r4, r3
 1654 0086 80F08180 		bcs	.L119
 1655              	.L97:
 198:usb_lib.c     **** 
 1656              		.loc 1 198 1 view .LVU509
 1657 008a 03B0     		add	sp, sp, #12
 1658              	.LCFI9:
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 70


 1659              		.cfi_remember_state
 1660              		.cfi_def_cfa_offset 12
 1661              		@ sp needed
 1662 008c 30BD     		pop	{r4, r5, pc}
 1663              	.LVL135:
 1664              	.L114:
 1665              	.LCFI10:
 1666              		.cfi_restore_state
 137:usb_lib.c     ****       bytesread = 0;
 1667              		.loc 1 137 7 is_stmt 1 view .LVU510
 1668              	.LBB46:
 1669              	.LBI46:
 182:usb_lib.h     **** }
 183:usb_lib.h     **** 
 184:usb_lib.h     **** static inline void usb_ep_write_double(uint8_t epnum, const uint16_t *buf, uint16_t size){
 185:usb_lib.h     ****   epnum &= 0x0F;
 186:usb_lib.h     ****   uint8_t idx = !!( USB_EPx(epnum) & USB_EP_DTOG_RX );
 187:usb_lib.h     ****   idx += 2*epnum;
 188:usb_lib.h     ****   ENDP_TOG( epnum, USB_EP_DTOG_RX );
 189:usb_lib.h     ****   _usb_ep_write(idx, buf, size);
 190:usb_lib.h     **** }
 191:usb_lib.h     **** 
 192:usb_lib.h     **** int _usb_ep_read(uint8_t idx, uint16_t *buf);
 193:usb_lib.h     **** static inline int usb_ep_read(uint8_t epnum, uint16_t *buf){
 1670              		.loc 3 193 19 view .LVU511
 1671              	.LBB47:
 194:usb_lib.h     ****   return _usb_ep_read((epnum & 0x0F)*2 + 1, buf);
 1672              		.loc 3 194 3 view .LVU512
 1673              		.loc 3 194 10 is_stmt 0 view .LVU513
 1674 008e 4349     		ldr	r1, .L121+4
 1675 0090 0120     		movs	r0, #1
 1676              	.LVL136:
 1677              		.loc 3 194 10 view .LVU514
 1678 0092 FFF7FEFF 		bl	_usb_ep_read
 1679              	.LVL137:
 1680              		.loc 3 194 10 view .LVU515
 1681              	.LBE47:
 1682              	.LBE46:
 138:usb_lib.c     ****       rxcount = 0;
 1683              		.loc 1 138 7 is_stmt 1 view .LVU516
 138:usb_lib.c     ****       rxcount = 0;
 1684              		.loc 1 138 17 is_stmt 0 view .LVU517
 1685 0096 0024     		movs	r4, #0
 1686 0098 414B     		ldr	r3, .L121+8
 1687 009a 1C80     		strh	r4, [r3]	@ movhi
 139:usb_lib.c     ****     }else{ //предыдущий пакет=OUT, этот будет либо данными к н
 1688              		.loc 1 139 7 is_stmt 1 view .LVU518
 1689              	.LVL138:
 139:usb_lib.c     ****     }else{ //предыдущий пакет=OUT, этот будет либо данными к н
 1690              		.loc 1 139 7 is_stmt 0 view .LVU519
 1691 009c C7E7     		b	.L98
 1692              	.LVL139:
 1693              	.L115:
 142:usb_lib.c     ****         bytesread = 0;
 1694              		.loc 1 142 9 is_stmt 1 view .LVU520
 1695              	.LBB48:
 1696              	.LBI48:
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 71


 193:usb_lib.h     ****   return _usb_ep_read((epnum & 0x0F)*2 + 1, buf);
 1697              		.loc 3 193 19 view .LVU521
 1698              	.LBB49:
 1699              		.loc 3 194 3 view .LVU522
 1700              		.loc 3 194 10 is_stmt 0 view .LVU523
 1701 009e 3F49     		ldr	r1, .L121+4
 1702 00a0 0120     		movs	r0, #1
 1703              	.LVL140:
 1704              		.loc 3 194 10 view .LVU524
 1705 00a2 FFF7FEFF 		bl	_usb_ep_read
 1706              	.LVL141:
 1707              		.loc 3 194 10 view .LVU525
 1708              	.LBE49:
 1709              	.LBE48:
 143:usb_lib.c     ****         rxcount = 0;
 1710              		.loc 1 143 9 is_stmt 1 view .LVU526
 143:usb_lib.c     ****         rxcount = 0;
 1711              		.loc 1 143 19 is_stmt 0 view .LVU527
 1712 00a6 0024     		movs	r4, #0
 1713 00a8 3D4B     		ldr	r3, .L121+8
 1714 00aa 1C80     		strh	r4, [r3]	@ movhi
 144:usb_lib.c     ****       }
 1715              		.loc 1 144 9 is_stmt 1 view .LVU528
 1716              	.LVL142:
 144:usb_lib.c     ****       }
 1717              		.loc 1 144 9 is_stmt 0 view .LVU529
 1718 00ac BFE7     		b	.L98
 1719              	.LVL143:
 1720              	.L116:
 1721              	.LBB50:
 153:usb_lib.c     ****     if(req == (USB_REQ_STANDARD | USB_REQ_DEVICE)){
 1722              		.loc 1 153 5 is_stmt 1 view .LVU530
 153:usb_lib.c     ****     if(req == (USB_REQ_STANDARD | USB_REQ_DEVICE)){
 1723              		.loc 1 153 7 is_stmt 0 view .LVU531
 1724 00ae 002D     		cmp	r5, #0
 1725 00b0 EBD0     		beq	.L97
 154:usb_lib.c     ****       switch(setup_packet.bRequest){
 1726              		.loc 1 154 5 is_stmt 1 view .LVU532
 154:usb_lib.c     ****       switch(setup_packet.bRequest){
 1727              		.loc 1 154 7 is_stmt 0 view .LVU533
 1728 00b2 3AB9     		cbnz	r2, .L102
 155:usb_lib.c     ****         case GET_DESCRIPTOR:{
 1729              		.loc 1 155 7 is_stmt 1 view .LVU534
 155:usb_lib.c     ****         case GET_DESCRIPTOR:{
 1730              		.loc 1 155 26 is_stmt 0 view .LVU535
 1731 00b4 394B     		ldr	r3, .L121+4
 1732 00b6 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 155:usb_lib.c     ****         case GET_DESCRIPTOR:{
 1733              		.loc 1 155 7 view .LVU536
 1734 00b8 062B     		cmp	r3, #6
 1735 00ba 21D0     		beq	.L103
 1736 00bc 082B     		cmp	r3, #8
 1737 00be 43D0     		beq	.L104
 1738 00c0 002B     		cmp	r3, #0
 1739 00c2 3BD0     		beq	.L120
 1740              	.L102:
 172:usb_lib.c     ****     uint16_t size = 0;
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 72


 1741              		.loc 1 172 5 is_stmt 1 view .LVU537
 172:usb_lib.c     ****     uint16_t size = 0;
 1742              		.loc 1 172 11 is_stmt 0 view .LVU538
 1743 00c4 0123     		movs	r3, #1
 1744 00c6 0193     		str	r3, [sp, #4]
 173:usb_lib.c     ****     usb_class_ep0_in( &setup_packet, &data, &size );
 1745              		.loc 1 173 5 is_stmt 1 view .LVU539
 173:usb_lib.c     ****     usb_class_ep0_in( &setup_packet, &data, &size );
 1746              		.loc 1 173 14 is_stmt 0 view .LVU540
 1747 00c8 0023     		movs	r3, #0
 1748 00ca ADF80230 		strh	r3, [sp, #2]	@ movhi
 174:usb_lib.c     ****     if(setup_packet.wLength < size) size = setup_packet.wLength;
 1749              		.loc 1 174 5 is_stmt 1 view .LVU541
 1750 00ce 334C     		ldr	r4, .L121+4
 1751              	.LVL144:
 174:usb_lib.c     ****     if(setup_packet.wLength < size) size = setup_packet.wLength;
 1752              		.loc 1 174 5 is_stmt 0 view .LVU542
 1753 00d0 0DF10202 		add	r2, sp, #2
 1754              	.LVL145:
 174:usb_lib.c     ****     if(setup_packet.wLength < size) size = setup_packet.wLength;
 1755              		.loc 1 174 5 view .LVU543
 1756 00d4 01A9     		add	r1, sp, #4
 1757 00d6 2046     		mov	r0, r4
 1758 00d8 FFF7FEFF 		bl	usb_class_ep0_in
 1759              	.LVL146:
 175:usb_lib.c     ****     ep0_send(data, size);
 1760              		.loc 1 175 5 is_stmt 1 view .LVU544
 175:usb_lib.c     ****     ep0_send(data, size);
 1761              		.loc 1 175 20 is_stmt 0 view .LVU545
 1762 00dc E388     		ldrh	r3, [r4, #6]
 175:usb_lib.c     ****     ep0_send(data, size);
 1763              		.loc 1 175 29 view .LVU546
 1764 00de BDF80220 		ldrh	r2, [sp, #2]
 175:usb_lib.c     ****     ep0_send(data, size);
 1765              		.loc 1 175 7 view .LVU547
 1766 00e2 9342     		cmp	r3, r2
 1767 00e4 01D2     		bcs	.L107
 175:usb_lib.c     ****     ep0_send(data, size);
 1768              		.loc 1 175 37 is_stmt 1 discriminator 1 view .LVU548
 175:usb_lib.c     ****     ep0_send(data, size);
 1769              		.loc 1 175 42 is_stmt 0 discriminator 1 view .LVU549
 1770 00e6 ADF80230 		strh	r3, [sp, #2]	@ movhi
 1771              	.L107:
 176:usb_lib.c     ****   }else{
 1772              		.loc 1 176 5 is_stmt 1 view .LVU550
 1773 00ea BDF80220 		ldrh	r2, [sp, #2]
 1774              	.LVL147:
 1775              	.LBB51:
 1776              	.LBI51:
 122:usb_lib.c     ****   ep0_count = size;
 1777              		.loc 1 122 20 view .LVU551
 1778              	.LBB52:
 123:usb_lib.c     ****   ep0_buf = (uint8_t*)buf;
 1779              		.loc 1 123 3 view .LVU552
 123:usb_lib.c     ****   ep0_buf = (uint8_t*)buf;
 1780              		.loc 1 123 13 is_stmt 0 view .LVU553
 1781 00ee 2E4B     		ldr	r3, .L121+16
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 73


 1782 00f0 1A80     		strh	r2, [r3]	@ movhi
 124:usb_lib.c     ****   ep0_in(0x80);
 1783              		.loc 1 124 3 is_stmt 1 view .LVU554
 124:usb_lib.c     ****   ep0_in(0x80);
 1784              		.loc 1 124 11 is_stmt 0 view .LVU555
 1785 00f2 019A     		ldr	r2, [sp, #4]
 1786              	.LVL148:
 124:usb_lib.c     ****   ep0_in(0x80);
 1787              		.loc 1 124 11 view .LVU556
 1788 00f4 2D4B     		ldr	r3, .L121+20
 124:usb_lib.c     ****   ep0_in(0x80);
 1789              		.loc 1 124 11 view .LVU557
 1790 00f6 1A60     		str	r2, [r3]
 125:usb_lib.c     **** }
 1791              		.loc 1 125 3 is_stmt 1 view .LVU558
 1792 00f8 8020     		movs	r0, #128
 1793 00fa FFF7FEFF 		bl	ep0_in
 1794              	.LVL149:
 125:usb_lib.c     **** }
 1795              		.loc 1 125 3 is_stmt 0 view .LVU559
 1796              	.LBE52:
 1797              	.LBE51:
 1798              	.LBE50:
 1799 00fe C4E7     		b	.L97
 1800              	.LVL150:
 1801              	.L103:
 1802              	.LBB60:
 1803              	.LBB53:
 157:usb_lib.c     ****           uint16_t size = 0;
 1804              		.loc 1 157 11 is_stmt 1 view .LVU560
 157:usb_lib.c     ****           uint16_t size = 0;
 1805              		.loc 1 157 23 is_stmt 0 view .LVU561
 1806 0100 0123     		movs	r3, #1
 1807 0102 0193     		str	r3, [sp, #4]
 158:usb_lib.c     ****           usb_class_get_std_descr(setup_packet.wValue, &data, &size);
 1808              		.loc 1 158 11 is_stmt 1 view .LVU562
 158:usb_lib.c     ****           usb_class_get_std_descr(setup_packet.wValue, &data, &size);
 1809              		.loc 1 158 20 is_stmt 0 view .LVU563
 1810 0104 0023     		movs	r3, #0
 1811 0106 ADF80230 		strh	r3, [sp, #2]	@ movhi
 159:usb_lib.c     ****           if(setup_packet.wLength < size) size = setup_packet.wLength;
 1812              		.loc 1 159 11 is_stmt 1 view .LVU564
 1813 010a 244C     		ldr	r4, .L121+4
 1814              	.LVL151:
 159:usb_lib.c     ****           if(setup_packet.wLength < size) size = setup_packet.wLength;
 1815              		.loc 1 159 11 is_stmt 0 view .LVU565
 1816 010c 0DF10202 		add	r2, sp, #2
 1817              	.LVL152:
 159:usb_lib.c     ****           if(setup_packet.wLength < size) size = setup_packet.wLength;
 1818              		.loc 1 159 11 view .LVU566
 1819 0110 01A9     		add	r1, sp, #4
 1820 0112 6088     		ldrh	r0, [r4, #2]
 1821 0114 FFF7FEFF 		bl	usb_class_get_std_descr
 1822              	.LVL153:
 160:usb_lib.c     ****           ep0_send(data, size);
 1823              		.loc 1 160 11 is_stmt 1 view .LVU567
 160:usb_lib.c     ****           ep0_send(data, size);
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 74


 1824              		.loc 1 160 26 is_stmt 0 view .LVU568
 1825 0118 E388     		ldrh	r3, [r4, #6]
 160:usb_lib.c     ****           ep0_send(data, size);
 1826              		.loc 1 160 35 view .LVU569
 1827 011a BDF80220 		ldrh	r2, [sp, #2]
 160:usb_lib.c     ****           ep0_send(data, size);
 1828              		.loc 1 160 13 view .LVU570
 1829 011e 9342     		cmp	r3, r2
 1830 0120 01D2     		bcs	.L106
 160:usb_lib.c     ****           ep0_send(data, size);
 1831              		.loc 1 160 43 is_stmt 1 discriminator 1 view .LVU571
 160:usb_lib.c     ****           ep0_send(data, size);
 1832              		.loc 1 160 48 is_stmt 0 discriminator 1 view .LVU572
 1833 0122 ADF80230 		strh	r3, [sp, #2]	@ movhi
 1834              	.L106:
 161:usb_lib.c     ****           return;
 1835              		.loc 1 161 11 is_stmt 1 view .LVU573
 1836 0126 BDF80220 		ldrh	r2, [sp, #2]
 1837              	.LVL154:
 1838              	.LBB54:
 1839              	.LBI54:
 122:usb_lib.c     ****   ep0_count = size;
 1840              		.loc 1 122 20 view .LVU574
 1841              	.LBB55:
 123:usb_lib.c     ****   ep0_buf = (uint8_t*)buf;
 1842              		.loc 1 123 3 view .LVU575
 123:usb_lib.c     ****   ep0_buf = (uint8_t*)buf;
 1843              		.loc 1 123 13 is_stmt 0 view .LVU576
 1844 012a 1F4B     		ldr	r3, .L121+16
 1845 012c 1A80     		strh	r2, [r3]	@ movhi
 124:usb_lib.c     ****   ep0_in(0x80);
 1846              		.loc 1 124 3 is_stmt 1 view .LVU577
 124:usb_lib.c     ****   ep0_in(0x80);
 1847              		.loc 1 124 11 is_stmt 0 view .LVU578
 1848 012e 019A     		ldr	r2, [sp, #4]
 1849              	.LVL155:
 124:usb_lib.c     ****   ep0_in(0x80);
 1850              		.loc 1 124 11 view .LVU579
 1851 0130 1E4B     		ldr	r3, .L121+20
 124:usb_lib.c     ****   ep0_in(0x80);
 1852              		.loc 1 124 11 view .LVU580
 1853 0132 1A60     		str	r2, [r3]
 125:usb_lib.c     **** }
 1854              		.loc 1 125 3 is_stmt 1 view .LVU581
 1855 0134 8020     		movs	r0, #128
 1856 0136 FFF7FEFF 		bl	ep0_in
 1857              	.LVL156:
 125:usb_lib.c     **** }
 1858              		.loc 1 125 3 is_stmt 0 view .LVU582
 1859              	.LBE55:
 1860              	.LBE54:
 162:usb_lib.c     ****         }
 1861              		.loc 1 162 11 is_stmt 1 view .LVU583
 1862 013a A6E7     		b	.L97
 1863              	.LVL157:
 1864              	.L120:
 162:usb_lib.c     ****         }
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 75


 1865              		.loc 1 162 11 is_stmt 0 view .LVU584
 1866              	.LBE53:
 165:usb_lib.c     ****           return;
 1867              		.loc 1 165 11 is_stmt 1 view .LVU585
 1868              	.LBB56:
 1869              	.LBI56:
 180:usb_lib.h     ****   _usb_ep_write((epnum & 0x0F)*2, buf, size);
 1870              		.loc 3 180 20 view .LVU586
 1871              	.LBB57:
 181:usb_lib.h     **** }
 1872              		.loc 3 181 3 view .LVU587
 1873 013c 0222     		movs	r2, #2
 1874              	.LVL158:
 181:usb_lib.h     **** }
 1875              		.loc 3 181 3 is_stmt 0 view .LVU588
 1876 013e 1C49     		ldr	r1, .L121+24
 1877 0140 0020     		movs	r0, #0
 1878 0142 FFF7FEFF 		bl	_usb_ep_write
 1879              	.LVL159:
 181:usb_lib.h     **** }
 1880              		.loc 3 181 3 view .LVU589
 1881              	.LBE57:
 1882              	.LBE56:
 166:usb_lib.c     ****         case GET_CONFIGURATION:
 1883              		.loc 1 166 11 is_stmt 1 view .LVU590
 1884 0146 A0E7     		b	.L97
 1885              	.LVL160:
 1886              	.L104:
 168:usb_lib.c     ****           return;
 1887              		.loc 1 168 11 view .LVU591
 1888              	.LBB58:
 1889              	.LBI58:
 180:usb_lib.h     ****   _usb_ep_write((epnum & 0x0F)*2, buf, size);
 1890              		.loc 3 180 20 view .LVU592
 1891              	.LBB59:
 181:usb_lib.h     **** }
 1892              		.loc 3 181 3 view .LVU593
 1893 0148 0122     		movs	r2, #1
 1894              	.LVL161:
 181:usb_lib.h     **** }
 1895              		.loc 3 181 3 is_stmt 0 view .LVU594
 1896 014a 1A49     		ldr	r1, .L121+28
 1897 014c 0020     		movs	r0, #0
 1898 014e FFF7FEFF 		bl	_usb_ep_write
 1899              	.LVL162:
 181:usb_lib.h     **** }
 1900              		.loc 3 181 3 view .LVU595
 1901              	.LBE59:
 1902              	.LBE58:
 169:usb_lib.c     ****       }
 1903              		.loc 1 169 11 is_stmt 1 view .LVU596
 1904 0152 9AE7     		b	.L97
 1905              	.LVL163:
 1906              	.L117:
 169:usb_lib.c     ****       }
 1907              		.loc 1 169 11 is_stmt 0 view .LVU597
 1908              	.LBE60:
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 76


 1909              	.LBB61:
 181:usb_lib.c     ****         usb_ep_write(0, NULL, 0);
 1910              		.loc 1 181 9 is_stmt 1 view .LVU598
 181:usb_lib.c     ****         usb_ep_write(0, NULL, 0);
 1911              		.loc 1 181 17 is_stmt 0 view .LVU599
 1912 0154 114B     		ldr	r3, .L121+4
 1913 0156 9C78     		ldrb	r4, [r3, #2]	@ zero_extendqisi2
 1914              	.LVL164:
 182:usb_lib.c     ****         while( (USB_EPx(0) & USB_EPTX_STAT) == USB_EP_TX_VALID ){}
 1915              		.loc 1 182 9 is_stmt 1 view .LVU600
 1916              	.LBB62:
 1917              	.LBI62:
 180:usb_lib.h     ****   _usb_ep_write((epnum & 0x0F)*2, buf, size);
 1918              		.loc 3 180 20 view .LVU601
 1919              	.LBB63:
 181:usb_lib.h     **** }
 1920              		.loc 3 181 3 view .LVU602
 1921 0158 1146     		mov	r1, r2
 1922 015a 1046     		mov	r0, r2
 1923 015c FFF7FEFF 		bl	_usb_ep_write
 1924              	.LVL165:
 1925              	.L111:
 181:usb_lib.h     **** }
 1926              		.loc 3 181 3 is_stmt 0 view .LVU603
 1927              	.LBE63:
 1928              	.LBE62:
 183:usb_lib.c     ****         USB->DADDR = USB_DADDR_EF | USB_Addr;
 1929              		.loc 1 183 66 is_stmt 1 discriminator 1 view .LVU604
 183:usb_lib.c     ****         USB->DADDR = USB_DADDR_EF | USB_Addr;
 1930              		.loc 1 183 14 discriminator 1 view .LVU605
 183:usb_lib.c     ****         USB->DADDR = USB_DADDR_EF | USB_Addr;
 1931              		.loc 1 183 17 is_stmt 0 discriminator 1 view .LVU606
 1932 0160 104B     		ldr	r3, .L121+12
 1933 0162 1B88     		ldrh	r3, [r3]
 183:usb_lib.c     ****         USB->DADDR = USB_DADDR_EF | USB_Addr;
 1934              		.loc 1 183 14 discriminator 1 view .LVU607
 1935 0164 03F03003 		and	r3, r3, #48
 1936 0168 302B     		cmp	r3, #48
 1937 016a F9D0     		beq	.L111
 184:usb_lib.c     ****         return;
 1938              		.loc 1 184 9 is_stmt 1 view .LVU608
 184:usb_lib.c     ****         return;
 1939              		.loc 1 184 20 is_stmt 0 view .LVU609
 1940 016c 44F08004 		orr	r4, r4, #128
 1941              	.LVL166:
 184:usb_lib.c     ****         return;
 1942              		.loc 1 184 20 view .LVU610
 1943 0170 0C4B     		ldr	r3, .L121+12
 1944 0172 A3F84C40 		strh	r4, [r3, #76]	@ movhi
 185:usb_lib.c     ****       }else if(setup_packet.bRequest == SET_CONFIGURATION){
 1945              		.loc 1 185 9 is_stmt 1 view .LVU611
 1946 0176 88E7     		b	.L97
 1947              	.LVL167:
 1948              	.L118:
 185:usb_lib.c     ****       }else if(setup_packet.bRequest == SET_CONFIGURATION){
 1949              		.loc 1 185 9 is_stmt 0 view .LVU612
 1950              	.LBE61:
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 77


 187:usb_lib.c     ****         usb_ep_write(0, NULL, 0);
 1951              		.loc 1 187 9 is_stmt 1 view .LVU613
 187:usb_lib.c     ****         usb_ep_write(0, NULL, 0);
 1952              		.loc 1 187 37 is_stmt 0 view .LVU614
 1953 0178 084B     		ldr	r3, .L121+4
 1954 017a 5A88     		ldrh	r2, [r3, #2]
 1955              	.LVL168:
 187:usb_lib.c     ****         usb_ep_write(0, NULL, 0);
 1956              		.loc 1 187 23 view .LVU615
 1957 017c 0D4B     		ldr	r3, .L121+28
 1958 017e 1A70     		strb	r2, [r3]
 188:usb_lib.c     ****         return;
 1959              		.loc 1 188 9 is_stmt 1 view .LVU616
 1960              	.LVL169:
 1961              	.LBB64:
 1962              	.LBI64:
 180:usb_lib.h     ****   _usb_ep_write((epnum & 0x0F)*2, buf, size);
 1963              		.loc 3 180 20 view .LVU617
 1964              	.LBB65:
 181:usb_lib.h     **** }
 1965              		.loc 3 181 3 view .LVU618
 1966 0180 0022     		movs	r2, #0
 1967 0182 1146     		mov	r1, r2
 1968 0184 1046     		mov	r0, r2
 1969 0186 FFF7FEFF 		bl	_usb_ep_write
 1970              	.LVL170:
 181:usb_lib.h     **** }
 1971              		.loc 3 181 3 is_stmt 0 view .LVU619
 1972              	.LBE65:
 1973              	.LBE64:
 189:usb_lib.c     ****       }
 1974              		.loc 1 189 9 is_stmt 1 view .LVU620
 1975 018a 7EE7     		b	.L97
 1976              	.LVL171:
 1977              	.L119:
 196:usb_lib.c     ****   }
 1978              		.loc 1 196 44 view .LVU621
 1979              	.LBB66:
 1980              	.LBI66:
 180:usb_lib.h     ****   _usb_ep_write((epnum & 0x0F)*2, buf, size);
 1981              		.loc 3 180 20 view .LVU622
 1982              	.LBB67:
 181:usb_lib.h     **** }
 1983              		.loc 3 181 3 view .LVU623
 1984 018c 0022     		movs	r2, #0
 1985 018e 1146     		mov	r1, r2
 1986 0190 1046     		mov	r0, r2
 1987 0192 FFF7FEFF 		bl	_usb_ep_write
 1988              	.LVL172:
 182:usb_lib.h     **** 
 1989              		.loc 3 182 1 is_stmt 0 view .LVU624
 1990 0196 78E7     		b	.L97
 1991              	.L122:
 1992              		.align	2
 1993              	.L121:
 1994 0198 00600040 		.word	1073766400
 1995 019c 00000000 		.word	.LANCHOR5
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 78


 1996 01a0 00000000 		.word	.LANCHOR6
 1997 01a4 005C0040 		.word	1073765376
 1998 01a8 00000000 		.word	.LANCHOR4
 1999 01ac 00000000 		.word	.LANCHOR3
 2000 01b0 00000000 		.word	.LANCHOR7
 2001 01b4 00000000 		.word	.LANCHOR8
 2002              	.LBE67:
 2003              	.LBE66:
 2004              		.cfi_endproc
 2005              	.LFE43:
 2007              		.global	epfunc_out
 2008              		.global	epfunc_in
 2009              		.section	.rodata
 2010              		.align	2
 2011              		.set	.LANCHOR7,. + 0
 2012              	.LC0:
 2013 0000 0000     		.ascii	"\000\000"
 2014              		.section	.bss.bytesread.0,"aw",%nobits
 2015              		.align	1
 2016              		.set	.LANCHOR6,. + 0
 2019              	bytesread.0:
 2020 0000 0000     		.space	2
 2021              		.section	.bss.configuration,"aw",%nobits
 2022              		.set	.LANCHOR8,. + 0
 2025              	configuration:
 2026 0000 00       		.space	1
 2027              		.section	.bss.ep0_buf,"aw",%nobits
 2028              		.align	2
 2029              		.set	.LANCHOR3,. + 0
 2032              	ep0_buf:
 2033 0000 00000000 		.space	4
 2034              		.section	.bss.ep0_count,"aw",%nobits
 2035              		.align	1
 2036              		.set	.LANCHOR4,. + 0
 2039              	ep0_count:
 2040 0000 0000     		.space	2
 2041              		.section	.bss.epfunc_in,"aw",%nobits
 2042              		.align	2
 2043              		.set	.LANCHOR1,. + 0
 2046              	epfunc_in:
 2047 0000 00000000 		.space	32
 2047      00000000 
 2047      00000000 
 2047      00000000 
 2047      00000000 
 2048              		.section	.bss.epfunc_out,"aw",%nobits
 2049              		.align	2
 2050              		.set	.LANCHOR0,. + 0
 2053              	epfunc_out:
 2054 0000 00000000 		.space	32
 2054      00000000 
 2054      00000000 
 2054      00000000 
 2054      00000000 
 2055              		.section	.bss.setup_packet,"aw",%nobits
 2056              		.align	2
 2057              		.set	.LANCHOR5,. + 0
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 79


 2060              	setup_packet:
 2061 0000 00000000 		.space	8
 2061      00000000 
 2062              		.section	.data.lastaddr,"aw"
 2063              		.align	1
 2064              		.set	.LANCHOR2,. + 0
 2067              	lastaddr:
 2068 0000 4000     		.short	64
 2069              		.text
 2070              	.Letext0:
 2071              		.file 4 "/usr/local/gcc-arm/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/machine/_default_
 2072              		.file 5 "/usr/local/gcc-arm/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/sys/_stdint.h"
 2073              		.file 6 "CMSIS/Inc/stm32f103xb.h"
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 80


DEFINED SYMBOLS
                            *ABS*:0000000000000000 usb_lib.c
/var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s:18     .text.endp_callback_default:0000000000000000 $t
/var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s:23     .text.endp_callback_default:0000000000000000 endp_callback_default
/var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s:38     .text.usb_class_init:0000000000000000 $t
/var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s:44     .text.usb_class_init:0000000000000000 usb_class_init
/var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s:57     .text.usb_class_disconnect:0000000000000000 $t
/var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s:63     .text.usb_class_disconnect:0000000000000000 usb_class_disconnect
/var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s:76     .text.usb_class_poll:0000000000000000 $t
/var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s:82     .text.usb_class_poll:0000000000000000 usb_class_poll
/var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s:95     .text.usb_class_sof:0000000000000000 $t
/var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s:101    .text.usb_class_sof:0000000000000000 usb_class_sof
/var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s:114    .text.usb_class_ep0_in:0000000000000000 $t
/var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s:120    .text.usb_class_ep0_in:0000000000000000 usb_class_ep0_in
/var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s:138    .text.usb_class_ep0_out:0000000000000000 $t
/var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s:144    .text.usb_class_ep0_out:0000000000000000 usb_class_ep0_out
/var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s:162    .text.USB_setup:0000000000000000 $t
/var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s:168    .text.USB_setup:0000000000000000 USB_setup
/var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s:374    .text.USB_setup:00000000000000a0 $d
/var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s:386    .text.usb_ep_init:0000000000000000 $t
/var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s:392    .text.usb_ep_init:0000000000000000 usb_ep_init
/var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s:657    .text.usb_ep_init:000000000000016c $d
/var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s:665    .text.usb_ep_init_double:0000000000000000 $t
/var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s:671    .text.usb_ep_init_double:0000000000000000 usb_ep_init_double
/var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s:952    .text.usb_ep_init_double:0000000000000158 $d
/var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s:960    .text.USB_LP_CAN1_RX0_IRQHandler:0000000000000000 $t
/var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s:966    .text.USB_LP_CAN1_RX0_IRQHandler:0000000000000000 USB_LP_CAN1_RX0_IRQHandler
/var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s:1219   .text.USB_LP_CAN1_RX0_IRQHandler:0000000000000158 $d
/var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s:1534   .text.ep0_out:0000000000000000 ep0_out
/var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s:1335   .text.ep0_in:0000000000000000 ep0_in
/var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s:1231   .text._usb_ep_write:0000000000000000 $t
/var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s:1237   .text._usb_ep_write:0000000000000000 _usb_ep_write
/var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s:1330   .text.ep0_in:0000000000000000 $t
/var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s:1418   .text.ep0_in:0000000000000038 $d
/var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s:1424   .text._usb_ep_read:0000000000000000 $t
/var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s:1430   .text._usb_ep_read:0000000000000000 _usb_ep_read
/var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s:1529   .text.ep0_out:0000000000000000 $t
/var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s:1994   .text.ep0_out:0000000000000198 $d
/var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s:2053   .bss.epfunc_out:0000000000000000 epfunc_out
/var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s:2046   .bss.epfunc_in:0000000000000000 epfunc_in
/var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s:2010   .rodata:0000000000000000 $d
/var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s:2015   .bss.bytesread.0:0000000000000000 $d
/var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s:2019   .bss.bytesread.0:0000000000000000 bytesread.0
/var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s:2025   .bss.configuration:0000000000000000 configuration
/var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s:2026   .bss.configuration:0000000000000000 $d
/var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s:2028   .bss.ep0_buf:0000000000000000 $d
/var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s:2032   .bss.ep0_buf:0000000000000000 ep0_buf
/var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s:2035   .bss.ep0_count:0000000000000000 $d
/var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s:2039   .bss.ep0_count:0000000000000000 ep0_count
/var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s:2042   .bss.epfunc_in:0000000000000000 $d
/var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s:2049   .bss.epfunc_out:0000000000000000 $d
/var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s:2056   .bss.setup_packet:0000000000000000 $d
/var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s:2060   .bss.setup_packet:0000000000000000 setup_packet
/var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s:2063   .data.lastaddr:0000000000000000 $d
/var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s:2067   .data.lastaddr:0000000000000000 lastaddr

UNDEFINED SYMBOLS
ARM GAS  /var/folders/9x/7nl7qcbn3r12rp7phz107hx40000gp/T//ccLL1adA.s 			page 81


usb_class_get_std_descr
